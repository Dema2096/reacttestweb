/*! For license information please see main.382d005a.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,S=60114,T=60109,C=60110,N=60112,A=60113,O=60120,D=60115,P=60116,R=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),E=V("react.portal"),_=V("react.fragment"),I=V("react.strict_mode"),S=V("react.profiler"),T=V("react.provider"),C=V("react.context"),N=V("react.forward_ref"),A=V("react.suspense"),O=V("react.suspense_list"),D=V("react.memo"),P=V("react.lazy"),R=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),j=V("react.offscreen"),F=V("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case R:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function De(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,je=!1,Fe=!1;function Ve(){null===Ce&&null===Ne||(Le(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,ze.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Ot=Tt("transitionend"),Dt=new Map,Pt=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){je||Le();var i=Jt,a=je;je=!0;try{Re(i,e,t,n,r)}finally{(je=a)||Ve()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Fn,Un=f&&(!jn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Se(e)),e=Xn,je)e(t);else{je=!0;try{Pe(e,t)}finally{je=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Pt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Dt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case Ct:case Nt:case At:s=bn;break;case Ot:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Vi=null,Ui=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Ki(){switch(Oi()){case Di:return 99;case Pi:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Di;case 98:return Pi;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Si(e,t,n)}function Qi(){if(null!==Ui){var e=Ui;Ui=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Di,Qi),n}finally{Bi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Da(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Ra(){li(Na),li(Aa),li(Oa)}function La(e){Da(Oa.current);var t=Da(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,Ba=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Va=e);qa(Va,n)}Va=e,Ua=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Va=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ha(e){if(e!==Va)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Ua;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=Va=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Do,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Do={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Da(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Na.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Oa.current),Da(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Pu||0===(134217727&Bu)&&0===(134217727&qu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Da(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Us(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Us(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Du=0,Pu=null,Ru=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Vu=null,Uu=0,Bu=0,qu=0,zu=0,Ku=null,Wu=0,Hu=1/0;function Gu(){Hu=zi()+500}var Qu,Yu=null,$u=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Du)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Uu),0!==$i.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Du)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(qu|=t,4===Fu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Du)&&0===(48&Du)?ks(e):(ms(e,n),0===Du&&(Gu(),Qi())):(0===(4&Du)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],Ui=Si(Di,Yi)):Vi.push(n),n=ji):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Du))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Du;Du|=16;var a=Ss();for(Pu===e&&Lu===r||(Gu(),_s(e,r));;)try{Ns();break}catch(s){Is(e,s)}if(na(),Au.current=a,Du=i,null!==Ru?r=0:(Pu=null,Lu=0,r=Fu),0!==(Uu&qu))_s(e,0);else if(0!==r){if(2===r&&(Du|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ts(e,n))),1===r)throw t=Vu,_s(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ds(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ds.bind(null,e),r);break}Ds(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Wr(Ds.bind(null,e),n);break}Ds(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Du))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Uu&qu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Du|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ts(e,t))),1===n)throw n=Vu,_s(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e),ms(e,zi()),null}function bs(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(Gu(),Qi())}}function ws(e,t){var n=Du;Du&=-2,Du|=8;try{return e(t)}finally{0===(Du=n)&&(Gu(),Qi())}}function xs(e,t){fi(ju,Mu),Mu|=t,Uu|=t}function Es(){Mu=ju.current,li(ju)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Pu=e,Ru=Hs(e.current,null),Lu=Mu=Uu=t,Fu=0,Vu=null,zu=qu=Bu=0}function Is(e,t){for(;;){var n=Ru;try{if(na(),$a.current=Do,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Fu=1,Vu=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Ss(){var e=Au.current;return Au.current=Do,null===e?Do:e}function Ts(e,t){var n=Du;Du|=16;var r=Ss();for(Pu===e&&Lu===t||_s(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Du=n,Au.current=r,null!==Ru)throw Error(o(261));return Pu=null,Lu=0,Fu}function Cs(){for(;null!==Ru;)As(Ru)}function Ns(){for(;null!==Ru&&!Ci();)As(Ru)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Ru=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ds(e){var t=Ki();return Hi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Du))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Ru=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Du,Du|=32,Ou.current=null,Br=Yt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Rs()}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Su(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Su(Yu.alternate,Yu);break;case 4:Su(Yu.alternate,Yu);break;case 8:Iu(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&yu(k,Yu.alternate,Yu),128&E){b=void 0;var _=Yu.ref;if(null!==_){var I=Yu.stateNode;Yu.tag,b=I,"function"===typeof _?_(b):_.current=b}}Yu=Yu.nextEffect}}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Fi(),Du=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,zi()),$u)throw $u=!1,e=Xu,Xu=null,e;return 0!==(8&Du)||Qi(),null}function Rs(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Du))throw Error(o(331));var t=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Du=t,Qi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Us(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>zi()-Wu?_s(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Uu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ks(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Ks(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case j:return Ys(n,i,a,t);case F:return(e=Ks(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=j,e.lanes=n,e}function $s(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,Re=function(e,t,n,r,i){var a=Du;Du|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Du=a)&&(Gu(),Qi())}},Le=function(){0===(49&Du)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Du;Du|=2;try{return e(t)}finally{0===(Du=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,De,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Du;if(0!==(48&n))return e(t);Du|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Du=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,E="?"===k||"*"===k,_=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:_,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:I?c(I):b?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,O=!1,D=!1,P=!1;function R(e){for(var t=E(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,x(S,t)}t=E(T)}}function L(e){if(P=!1,R(e),!D)if(null!==E(S))D=!0,n(M);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,i()),O=!0;var a=A;try{for(R(n),N=E(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(S)&&_(S),R(n)}else _(S);N=E(S)}if(null!==N)var s=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,O=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||O||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(S)&&e===E(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),D||O||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xu},SDK_VERSION:function(){return gs},_DEFAULT_ENTRY_NAME:function(){return as},_addComponent:function(){return cs},_addOrOverwriteComponent:function(){return ls},_apps:function(){return us},_clearComponents:function(){return ps},_components:function(){return ss},_getProvider:function(){return hs},_registerComponent:function(){return fs},_removeServiceInstance:function(){return ds},deleteApp:function(){return xs},getApp:function(){return bs},getApps:function(){return ws},initializeApp:function(){return ks},onLog:function(){return Is},registerVersion:function(){return _s},setLogLevel:function(){return Ss}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";var d=function(e,t){if(!e)throw new Error(h)};function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var E="popstate",_="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function S(){return Math.random().toString(36).substr(2,f)}var T=b();function C(e){o(U,e),U.length=t.length,T.notifyListeners(U.location,U.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(v(e.state))}function A(){D(v(I()))}var O=!1;function D(e){if(O)O=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=U.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}}var P=v(I()),R=[P.key];function L(e){return h+g(e)}function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?(window.addEventListener(E,N),r&&window.addEventListener(_,A)):0===j&&(window.removeEventListener(E,N),r&&window.removeEventListener(_,A))}var V=!1;var U={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,S(),U.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=R.indexOf(U.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,S(),U.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=R.indexOf(U.location.key);-1!==c&&(R[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return V||(F(1),V=!0),function(){return V&&(V=!1,F(-1)),t()}},listen:function(e){var t=T.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(N(window.location.href)+"#"+e)}function D(e){void 0===e&&{},w||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?y(p(e.basename)):"",c=C[u],l=c.encodePath,f=c.decodePath;function h(){var e=f(A());return s&&m(e,s),k(e)}var v=b();function E(e){o(U,e),U.length=t.length,v.notifyListeners(U.location,U.action)}var _=!1,I=null;function S(){var e,t,n=A(),r=l(n);if(n!==r)O(r);else{var a=h(),o=U.location;if(!_&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===g(a))return;null,function(e){if(_)!1,E();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?E({action:t,location:e}):function(e){var t=U.location,n=L.lastIndexOf(g(t));-1===n&&0;var r=L.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(a)}}var D=A(),P=l(D);D!==P&&O(P);var R=h(),L=[g(R)];function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?window.addEventListener(T,S):0===j&&window.removeEventListener(T,S)}var V=!1;var U={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&N(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,U.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(A()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(U.location)),o=L.slice(0,a+1);o.push(t),o,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,U.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);A()!==i&&(t,O(i));var a=L.indexOf(g(U.location));-1!==a&&(L[a]=t),E({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return V||(F(1),!0),function(){return V&&(!1,F(-1)),t()}},listen:function(e){var t=v.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function P(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=b();function f(e){o(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=P(u,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=P(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var L=n(7),M=n.n(L),j=1073741823,F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function V(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var U=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return F[e]=(F[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=V(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):j,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=M().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?j:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?j:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=M().object,i),{Provider:u,Consumer:s}},B=U,q=n(239),z=n.n(q);n(441);function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var W=function(e){var t=B();return t.displayName=e,t},H=W("Router-History"),G=W("Router"),Q=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(H.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var Y=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var $={},X=0;function J(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if($[e])return $[e];var t=z().compile(e);return X<1e4&&($[e]=t,X++),t}(e)(t,{pretty:!0})}function Z(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(G.Consumer,null,(function(e){e||d(!1);var i=e.history,u=e.staticContext,s=a?i.push:i.replace,c=k(n?"string"===typeof r?J(r,n.params):o({},r,{pathname:J(r.pathname,n.params)}):r);return u?(s(c),null):t.createElement(Y,{onMount:function(){s(c)},onUpdate:function(e,t){var n,r,i=k(t.to);n=i,r=o({},c,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&f(n.state,r.state)||s(c)},to:r})}))}var ee={},te=0;function ne(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ee[n]||(ee[n]={});if(r[e])return r[e];var i=[],a={regexp:z()(e,i,t),keys:i};return te<1e4&&(r[e]=a,te++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var re=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(G.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ne(r.pathname,e.props):n.match}),a=e.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&function(e){return 0===t.Children.count(e)}(u)&&(u=null),t.createElement(G.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:s?t.createElement(s,i):c?c(i):null:"function"===typeof u?u(i):null)}))},n}(t.Component);function ie(e){return"/"===e.charAt(0)?e:"/"+e}function ae(e,t){if(!e)return t;var n=ie(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function oe(e){return"string"===typeof e?e:g(e)}function ue(e){return function(){d(!1)}}function se(){}t.Component;var ce=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(G.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var u=e.props.path||e.props.from;i=u?ne(a.pathname,o({},e.props,{path:u})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var le=t.useContext;function fe(){return le(H)}function he(){var e=le(G).match;return e?e.params:{}}var de=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=S(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(Q,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var pe=function(e,t){return"function"===typeof e?e(t):e},ve=function(e,t){return"string"===typeof e?k(e,null,null,t):e},me=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=me);var ge=ye((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,u=K(e,["innerRef","navigate","onClick"]),s=u.target,c=o({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=me!==ye&&n||r,t.createElement("a",c)}));var ke=ye((function(e,n){var r=e.component,i=void 0===r?ge:r,a=e.replace,u=e.to,s=e.innerRef,c=K(e,["component","replace","to","innerRef"]);return t.createElement(G.Consumer,null,(function(e){e||d(!1);var r=e.history,l=ve(pe(u,e.location),e.location),f=l?r.createHref(l):"",h=o({},c,{href:f,navigate:function(){var t=pe(u,e.location),n=g(e.location)===g(ve(t));(a||n?r.replace:r.push)(t)}});return me!==ye?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),be=function(e){return e},we=t.forwardRef;"undefined"===typeof we&&(we=be);we((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=K(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(G.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=ve(pe(y,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?ne(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,E=!!(f?f(x,r):x),_="function"===typeof c?c(E):c,I="function"===typeof m?m(E):m;E&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,u),I=o({},I,s));var S=o({"aria-current":E&&i||null,className:_,style:I,to:a},k);return be!==we?S.ref=n||g:S.innerRef=g,t.createElement(ke,S)}))}));function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t){if(null==e)return{};var n,r,i=K(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Se=n(694),Te=n.n(Se),Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Ne=t.createContext(null);n(176);function Ae(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Oe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function De(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}function Pe(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,u=a[Ae(r)],s=a[r],c=K(a,[Ae(r),r].map(Oe)),l=t[r],f=De(s,u,e[l]),h=f[0],d=f[1];return o({},c,((i={})[r]=h,i[l]=d,i))}),e)}function Re(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Le(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Me(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Re.__suppressDeprecationWarning=!0,Le.__suppressDeprecationWarning=!0,Me.__suppressDeprecationWarning=!0;var je=/-(.)/g;var Fe=n(184),Ve=t.createContext({prefixes:{}});Ve.Consumer,Ve.Provider;function Ue(e,n){var r=(0,t.useContext)(Ve).prefixes;return e||r[n]||n}function Be(){return"rtl"===(0,t.useContext)(Ve).dir}var qe=["className","bsPrefix","as"],ze=function(e){return e[0].toUpperCase()+(t=e,t.replace(je,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Ke(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?ze(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=Ie(t,qe),c=Ue(i,e);return(0,Fe.jsx)(u,_e({ref:n,className:Te()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var We=["bsPrefix","className","as"],He=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=Ie(e,We);n=Ue(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,Fe.jsx)(o,_e(_e({},a),{},{ref:t,className:Te()(r,n)}))}));He.displayName="NavbarBrand";var Ge=He;function Qe(e){return e&&e.ownerDocument||document}function Ye(e,t){return function(e){var t=Qe(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var $e=/([A-Z])/g;var Xe=/^ms-/;function Je(e){return function(e){return e.replace($e,"-$1").toLowerCase()}(e).replace(Xe,"-ms-")}var Ze=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var et=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Je(t))||Ye(e).getPropertyValue(Je(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Ze.test(e))}(i)?n+=Je(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Je(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},tt=!1,nt=t.createContext(null),rt="unmounted",it="exited",at="entering",ot="entered",ut="exiting",st=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=it,r.appearStatus=at):i=ot:i=t.unmountOnExit||t.mountOnEnter?rt:it,r.state={status:i},r.nextCallback=null,r}a(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===rt?{status:it}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==at&&n!==ot&&(t=at):n!==at&&n!==ot||(t=ut)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===at?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===it&&this.setState({status:rt})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],u=a[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!n||tt?this.safeSetState({status:ot},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:at},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:ot},(function(){t.props.onEntered(o,u)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!tt?(this.props.onExit(i),this.safeSetState({status:ut},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:it},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:it},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===rt)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,K(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(nt.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function ct(){}st.contextType=nt,st.propTypes={},st.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ct,onEntering:ct,onEntered:ct,onExit:ct,onExiting:ct,onExited:ct},st.UNMOUNTED=rt,st.EXITED=it,st.ENTERING=at,st.ENTERED=ot,st.EXITING=ut;var lt=st,ft=!("undefined"===typeof window||!window.document||!window.document.createElement),ht=!1,dt=!1;try{var pt={get passive(){return ht=!0},get once(){return dt=ht=!0}};ft&&(window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,!0))}catch(UL){}var vt=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!dt){var i=r.once,a=r.capture,o=n;!dt&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ht?r:a)}e.addEventListener(t,n,r)};var mt=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var yt=function(e,t,n,r){return vt(e,t,n,r),function(){mt(e,t,n,r)}};function gt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=yt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function kt(e,t,n,r){null==n&&(n=function(e){var t=et(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=gt(e,n,r),a=yt(e,"transitionend",t);return function(){i(),a()}}function bt(e,t){var n=et(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function wt(e,t){var n=bt(e,"transitionDuration"),r=bt(e,"transitionDelay"),i=kt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Et(e){e.offsetHeight}var _t=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var It=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=_t(e),r=_t(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var St,Tt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Ct=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,o=e.onEntered,u=e.onExit,s=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=Ie(e,Tt),p=(0,t.useRef)(null),v=It(p,h),m=function(e){var t;v((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),b=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(u),[u]),x=(0,t.useCallback)(y(s),[s]),E=(0,t.useCallback)(y(c),[c]),_=(0,t.useCallback)(y(l),[l]);return(0,Fe.jsx)(lt,_e(_e({ref:n},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:E,onExiting:x,addEndListener:_,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,_e(_e({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),Nt=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],At={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ot(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=At[e];return n+parseInt(et(t,r[0]),10)+parseInt(et(t,r[1]),10)}var Dt=(xe(St={},it,"collapse"),xe(St,ut,"collapsing"),xe(St,at,"collapsing"),xe(St,ot,"collapse show"),St),Pt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Ot},Rt=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?Ot:h,p=Ie(e,Nt),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return xt((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return xt((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return xt((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,t.useMemo)((function(){return xt((function(e){e.style[v]="".concat(d(v,e),"px"),Et(e)}),o)}),[o,d,v]),b=(0,t.useMemo)((function(){return xt((function(e){e.style[v]=null}),u)}),[v,u]);return(0,Fe.jsx)(Ct,_e(_e({ref:n,addEndListener:wt},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,n){return t.cloneElement(c,_e(_e({},n),{},{className:Te()(s,c.props.className,Dt[e],"width"===v&&"collapse-horizontal")}))}}))}));Rt.defaultProps=Pt;var Lt=Rt,Mt=t.createContext(null);Mt.displayName="NavbarContext";var jt=Mt,Ft=["children","bsPrefix"],Vt=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=Ie(e,Ft);i=Ue(i,"navbar-collapse");var o=(0,t.useContext)(jt);return(0,Fe.jsx)(Lt,_e(_e({in:!(!o||!o.expanded)},a),{},{children:(0,Fe.jsx)("div",{ref:n,className:i,children:r})}))}));Vt.displayName="NavbarCollapse";var Ut=Vt;var Bt=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function qt(e){var n=Bt(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var zt=["bsPrefix","className","children","label","as","onClick"],Kt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=Ie(e,zt);r=Ue(r,"navbar-toggler");var f=(0,t.useContext)(jt)||{},h=f.onToggle,d=f.expanded,p=qt((function(e){c&&c(e),h&&h()}));return"button"===s&&(l.type="button"),(0,Fe.jsx)(s,_e(_e({},l),{},{ref:n,onClick:p,"aria-label":o,className:Te()(i,r,!d&&"collapsed"),children:a||(0,Fe.jsx)("span",{className:"".concat(r,"-icon")})}))}));Kt.displayName="NavbarToggle",Kt.defaultProps={label:"Toggle navigation"};var Wt=Kt;function Ht(e){if(Array.isArray(e))return e}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t){if(e){if("string"===typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}function Yt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(e,t){return Ht(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Qt(e,t)||Yt()}function Xt(e){void 0===e&&(e=Qe());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(UL){return e.body}}function Jt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Zt(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}function en(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function tn(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}var nn=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function rn(e){var n=nn(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function an(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function on(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||an(e)||Qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t,n){return t&&sn(e.prototype,t),n&&sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ln(e){return"".concat("data-rr-ui-").concat(e)}var fn=ln("modal-open"),hn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.handleContainerOverflow,r=void 0===n||n,i=t.isRTL,a=void 0!==i&&i;un(this,e),this.handleContainerOverflow=r,this.isRTL=a,this.modals=[]}return cn(e,[{key:"getScrollbarWidth",value:function(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}},{key:"getElement",value:function(){return document.body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=xe({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(et(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(fn,""),et(r,t)}},{key:"reset",value:function(){var e=this;on(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(fn),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),dn=hn,pn=function(e){var t;return"undefined"===typeof document?null:null==e?Qe().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};var vn,mn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function yn(e){var n=e||(vn||(vn=new dn),vn),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(){return n.add(r.current)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,t.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){r.current.backdrop=e}),[])})}var gn=(0,t.forwardRef)((function(e,n){var i=e.show,a=void 0!==i&&i,o=e.role,u=void 0===o?"dialog":o,s=e.className,c=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,k=e.autoFocus,b=void 0===k||k,w=e.enforceFocus,x=void 0===w||w,E=e.restoreFocus,_=void 0===E||E,I=e.restoreFocusOptions,S=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,Fe.jsx)("div",Object.assign({},e))}:T,N=e.manager,A=e.container,O=e.onShow,D=e.onHide,P=void 0===D?function(){}:D,R=e.onExit,L=e.onExited,M=e.onExiting,j=e.onEnter,F=e.onEntering,V=e.onEntered,U=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,mn),B=function(e,n){var r=$t((0,t.useState)((function(){return pn(e)})),2),i=r[0],a=r[1];if(!i){var o=pn(e);o&&a(o)}return(0,t.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,t.useEffect)((function(){var t=pn(e);t!==i&&a(t)}),[e,i]),i}(A),q=yn(N),z=Zt(),K=tn(a),W=$t((0,t.useState)(!a),2),H=W[0],G=W[1],Q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return q}),[q]),ft&&!K&&a&&(Q.current=Xt()),y||a||H?a&&H&&G(!1):G(!0);var Y=rn((function(){if(q.add(),te.current=yt(document,"keydown",Z),ee.current=yt(document,"focus",(function(){return setTimeout(X)}),!0),O&&O(),b){var e=Xt(document);q.dialog&&e&&!Jt(q.dialog,e)&&(Q.current=e,q.dialog.focus())}})),$=rn((function(){var e;(q.remove(),null==te.current||te.current(),null==ee.current||ee.current(),_)&&(null==(e=Q.current)||null==e.focus||e.focus(I),Q.current=null)}));(0,t.useEffect)((function(){a&&B&&Y()}),[a,B,Y]),(0,t.useEffect)((function(){H&&$()}),[H,$]),en((function(){$()}));var X=rn((function(){if(x&&z()&&q.isTopModal()){var e=Xt();q.dialog&&e&&!Jt(q.dialog,e)&&q.dialog.focus()}})),J=rn((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&P())})),Z=rn((function(e){p&&27===e.keyCode&&q.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),ee=(0,t.useRef)(),te=(0,t.useRef)(),ne=y;if(!B||!(a||ne&&!H))return null;var re=Object.assign({role:u,ref:q.setDialogRef,"aria-modal":"dialog"===u||void 0},U,{style:c,className:s,tabIndex:-1}),ie=S?S(re):(0,Fe.jsx)("div",Object.assign({},re,{children:t.cloneElement(l,{role:"document"})}));ne&&(ie=(0,Fe.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!a,onExit:R,onExiting:M,onExited:function(){G(!0),null==L||L.apply(void 0,arguments)},onEnter:j,onEntering:F,onEntered:V,children:ie}));var ae=null;if(h){var oe=g;ae=C({ref:q.setBackdropRef,onClick:J}),oe&&(ae=(0,Fe.jsx)(oe,{appear:!0,in:!!a,children:ae}))}return(0,Fe.jsx)(Fe.Fragment,{children:r.createPortal((0,Fe.jsxs)(Fe.Fragment,{children:[ae,ie]}),B)})}));gn.displayName="Modal";var kn,bn=Object.assign(gn,{Manager:dn}),wn=["className","children","transitionClasses"],xn=(xe(kn={},at,"show"),xe(kn,ot,"show"),kn),En=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=Ie(e,wn),s=(0,t.useCallback)((function(e,t){Et(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,Fe.jsx)(Ct,_e(_e({ref:n,addEndListener:wt},u),{},{onEnter:s,childRef:i.ref,children:function(e,n){return t.cloneElement(i,_e(_e({},n),{},{className:Te()("fade",r,i.props.className,xn[e],o[e])}))}}))}));En.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},En.displayName="Fade";var _n,In=En,Sn=Ke("offcanvas-body"),Tn=["bsPrefix","className","children"],Cn=(xe(_n={},at,"show"),xe(_n,ot,"show"),_n),Nn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=Ie(e,Tn);return r=Ue(r,"offcanvas"),(0,Fe.jsx)(Ct,_e(_e({ref:n,addEndListener:wt},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,_e(_e({},n),{},{className:Te()(i,a.props.className,(e===at||e===ut)&&"".concat(r,"-toggling"),Cn[e])}))}}))}));Nn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Nn.displayName="OffcanvasToggling";var An=Nn,On=t.createContext({onHide:function(){}}),Dn=["className","variant"],Pn={"aria-label":M().string,onClick:M().func,variant:M().oneOf(["white"])},Rn=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=Ie(e,Dn);return(0,Fe.jsx)("button",_e({ref:t,type:"button",className:Te()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Rn.displayName="CloseButton",Rn.propTypes=Pn,Rn.defaultProps={"aria-label":"Close"};var Ln=Rn,Mn=["closeLabel","closeVariant","closeButton","onHide","children"],jn=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=Ie(e,Mn),c=(0,t.useContext)(On),l=qt((function(){null==c||c.onHide(),null==o||o()}));return(0,Fe.jsxs)("div",_e(_e({ref:n},s),{},{children:[u,a&&(0,Fe.jsx)(Ln,{"aria-label":r,variant:i,onClick:l})]}))}));jn.defaultProps={closeLabel:"Close",closeButton:!1};var Fn=jn,Vn=["bsPrefix","className"],Un=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=Ie(e,Vn);return n=Ue(n,"offcanvas-header"),(0,Fe.jsx)(Fn,_e(_e({ref:t},i),{},{className:Te()(r,n)}))}));Un.displayName="OffcanvasHeader",Un.defaultProps={closeLabel:"Close",closeButton:!1};var Bn=Un,qn=function(e){return t.forwardRef((function(t,n){return(0,Fe.jsx)("div",_e(_e({},t),{},{ref:n,className:Te()(t.className,e)}))}))},zn=Ke("offcanvas-title",{Component:qn("h5")});function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}function Wn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kn(e)););return e}function Hn(){return Hn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hn.apply(this,arguments)}function Gn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function Qn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(UL){return!1}}function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(e,t){if(t&&("object"===Yn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function Jn(e){var t=Qn();return function(){var n,r=Kn(e);if(t){var i=Kn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xn(this,n)}}var Zn=Function.prototype.bind.call(Function.prototype.call,[].slice);function er(e,t){return Zn(e.querySelectorAll(t))}function tr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var nr,rr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ir=".sticky-top",ar=".navbar-toggler",or=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,et(t,xe({},e,"".concat(parseFloat(et(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],et(t,xe({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Hn(Kn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";er(a,rr).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),er(a,ir).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),er(a,ar).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Hn(Kn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=tr(r.className,i):r.setAttribute("class",tr(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";er(a,rr).forEach((function(e){return t.restore(o,e)})),er(a,ir).forEach((function(e){return t.restore(u,e)})),er(a,ar).forEach((function(e){return t.restore(u,e)}))}}]),n}(dn);var ur=or,sr=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function cr(e){return(0,Fe.jsx)(An,_e({},e))}function lr(e){return(0,Fe.jsx)(In,_e({},e))}var fr=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,x=e.onExiting,E=e.onEnter,_=e.onEntering,I=e.onExited,S=e.backdropClassName,T=e.manager,C=Ie(e,sr),N=(0,t.useRef)();r=Ue(r,"offcanvas");var A=((0,t.useContext)(jt)||{}).onToggle,O=qt((function(){null==A||A(),null==p||p()})),D=(0,t.useMemo)((function(){return{onHide:O}}),[O]);var P=(0,t.useCallback)((function(e){return(0,Fe.jsx)("div",_e(_e({},e),{},{className:Te()("".concat(r,"-backdrop"),S)}))}),[S,r]);return(0,Fe.jsx)(On.Provider,{value:D,children:(0,Fe.jsx)(bn,{show:s,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:O,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:_,onEntered:b,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:T||(f?(N.current||(N.current=new ur({handleContainerOverflow:!1})),N.current):function(e){return nr||(nr=new or(e)),nr}()),transition:cr,backdropTransition:lr,renderBackdrop:P,renderDialog:function(e){return(0,Fe.jsx)("div",_e(_e(_e({role:"dialog"},e),C),{},{className:Te()(i,r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))}})})}));fr.displayName="Offcanvas",fr.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var hr=Object.assign(fr,{Body:Sn,Header:Bn,Title:zn}),dr=t.forwardRef((function(e,n){var r=(0,t.useContext)(jt);return(0,Fe.jsx)(hr,_e({ref:n,show:!(null==r||!r.expanded)},e))}));dr.displayName="NavbarOffcanvas";var pr=dr,vr=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],mr=Ke("navbar-text",{Component:"span"}),yr=t.forwardRef((function(e,n){var r=Pe(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,u=r.bg,s=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=Ie(r,vr),g=Ue(i,"navbar"),k=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,Fe.jsx)(jt.Provider,{value:w,children:(0,Fe.jsx)(Ne.Provider,{value:k,children:(0,Fe.jsx)(h,_e(_e({ref:n},y),{},{className:Te()(l,g,a&&b,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));yr.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},yr.displayName="Navbar";var gr=Object.assign(yr,{Brand:Ge,Collapse:Ut,Offcanvas:pr,Text:mr,Toggle:Wt});n(573);function kr(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var br=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var wr=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=br(e),r=br(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},xr=t.createContext(null);xr.displayName="NavContext";var Er=xr,_r=t.createContext(null),Ir=["as","disabled"];function Sr(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Tr=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ir),a=$t(Sr(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,Fe.jsx)(u,Object.assign({},i,o,{ref:t}))}));Tr.displayName="Button";var Cr=Tr,Nr=["as","active","eventKey"];function Ar(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(Ne),c=(0,t.useContext)(Er),l=i,f={role:o};if(c){o||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[ln("event-key")]=n,f.id=h||a,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(u&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=rn((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[f,{isActive:l}]}var Or=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?Cr:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Nr),u=$t(Ar(Object.assign({key:Ce(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[ln("active")]=c.isActive,(0,Fe.jsx)(r,Object.assign({},o,s,{ref:t}))}));Or.displayName="NavItem";var Dr=Or,Pr=["as","onSelect","activeKey","role","onKeyDown"];var Rr=function(){},Lr=ln("event-key"),Mr=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Pr),h=kr(),d=(0,t.useRef)(!1),p=(0,t.useContext)(Ne),v=(0,t.useContext)(_r);v&&(c=c||"tablist",s=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=er(t,"[".concat(Lr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(Lr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=wr(n,m);return(0,Fe.jsx)(Ne.Provider,{value:g,children:(0,Fe.jsx)(Er.Provider,{value:{role:c,activeKey:Ce(s),getControlledId:r||Rr,getControllerId:i||Rr},children:(0,Fe.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));Mr.displayName="Nav";var jr=Object.assign(Mr,{Item:Dr}),Fr=t.createContext(null);Fr.displayName="CardHeaderContext";var Vr=Fr,Ur=Ke("nav-item");function Br(){return(0,t.useState)(null)}function qr(e,n,r){return void 0===r&&(r=!1),function(e,n,r,i){void 0===i&&(i=!1);var a=rn(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return document}),[]),e,n,r)}var zr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||zr?t.useLayoutEffect:t.useEffect,new WeakMap;var Kr=["onKeyDown"];var Wr=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Kr),a=$t(Sr(Object.assign({tagName:"a"},i)),1)[0],o=rn((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,Fe.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,Fe.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Wr.displayName="Anchor";var Hr=Wr,Gr=["bsPrefix","className","as","active","eventKey"],Qr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Hr:i,o=e.active,u=e.eventKey,s=Ie(e,Gr);n=Ue(n,"nav-link");var c=$t(Ar(_e({key:Ce(u,s.href),active:o},s)),2),l=c[0],f=c[1];return(0,Fe.jsx)(a,_e(_e(_e({},s),l),{},{ref:t,className:Te()(r,n,s.disabled&&"disabled",f.isActive&&"active")}))}));Qr.displayName="NavLink",Qr.defaultProps={disabled:!1};var Yr=Qr,$r=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Xr=t.forwardRef((function(e,n){var r,i,a,o=Pe(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=Ie(o,$r),g=Ue(c,"nav"),k=!1,b=(0,t.useContext)(jt),w=(0,t.useContext)(Vr);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,Fe.jsx)(jr,_e({as:s,ref:n,activeKey:m,className:Te()(v,(r={},xe(r,g,!k),xe(r,"".concat(i,"-nav"),k),xe(r,"".concat(i,"-nav-scroll"),k&&p),xe(r,"".concat(a,"-").concat(l),!!a),xe(r,"".concat(g,"-").concat(l),!!l),xe(r,"".concat(g,"-fill"),f),xe(r,"".concat(g,"-justified"),h),r))},y))}));Xr.displayName="Nav",Xr.defaultProps={justify:!1,fill:!1};var Jr=Object.assign(Xr,{Item:Ur,Link:Yr}),Zr=t.createContext(null);function ei(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var ti=Object.prototype.hasOwnProperty;function ni(e,t,n){var r,i=ei(e.keys());try{for(i.s();!(r=i.n()).done;)if(ri(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function ri(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ri(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=ei(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=ni(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=ei(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=ni(t,i)))return!1;if(!ri(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(ti.call(e,n)&&++r&&!ti.call(t,n))return!1;if(!(n in t)||!ri(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var ii=function(e){var n=Zt();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function ai(e){return e.split("-")[0]}function oi(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function ui(e){var t=oi(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function si(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ci(e){return e instanceof si(e).Element||e instanceof Element}function li(e){return e instanceof si(e).HTMLElement||e instanceof HTMLElement}function fi(e){return"undefined"!==typeof ShadowRoot&&(e instanceof si(e).ShadowRoot||e instanceof ShadowRoot)}function hi(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&fi(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function di(e){return e?(e.nodeName||"").toLowerCase():null}function pi(e){return si(e).getComputedStyle(e)}function vi(e){return["table","td","th"].indexOf(di(e))>=0}function mi(e){return((ci(e)?e.ownerDocument:e.document)||window.document).documentElement}function yi(e){return"html"===di(e)?e:e.assignedSlot||e.parentNode||(fi(e)?e.host:null)||mi(e)}function gi(e){return li(e)&&"fixed"!==pi(e).position?e.offsetParent:null}function ki(e){for(var t=si(e),n=gi(e);n&&vi(n)&&"static"===pi(n).position;)n=gi(n);return n&&("html"===di(n)||"body"===di(n)&&"static"===pi(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&li(e)&&"fixed"===pi(e).position)return null;for(var n=yi(e);li(n)&&["html","body"].indexOf(di(n))<0;){var r=pi(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function bi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var wi=Math.max,xi=Math.min,Ei=Math.round;function _i(e,t,n){return wi(e,xi(t,n))}function Ii(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Si(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Ti="top",Ci="bottom",Ni="right",Ai="left",Oi="auto",Di=[Ti,Ci,Ni,Ai],Pi="start",Ri="end",Li="viewport",Mi="popper",ji=Di.reduce((function(e,t){return e.concat([t+"-"+Pi,t+"-"+Ri])}),[]),Fi=[].concat(Di,[Oi]).reduce((function(e,t){return e.concat([t,t+"-"+Pi,t+"-"+Ri])}),[]),Vi=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var Ui={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=ai(n.placement),s=bi(u),c=[Ai,Ni].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return Ii("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Si(e,Di))}(i.padding,n),f=ui(a),h="y"===s?Ti:Ai,d="y"===s?Ci:Ni,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=ki(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=_i(k,w,b),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&hi(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bi(e){return e.split("-")[1]}var qi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zi(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Ei(Ei(t*r)/r)||0,y:Ei(Ei(n*r)/r)||0}}(o):"function"===typeof l?l(o):o,h=f.x,d=void 0===h?0:h,p=f.y,v=void 0===p?0:p,m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),g=Ai,k=Ti,b=window;if(c){var w=ki(n),x="clientHeight",E="clientWidth";w===si(n)&&"static"!==pi(w=mi(n)).position&&"absolute"===u&&(x="scrollHeight",E="scrollWidth"),i!==Ti&&(i!==Ai&&i!==Ni||a!==Ri)||(k=Ci,v-=w[x]-r.height,v*=s?1:-1),i!==Ai&&(i!==Ti&&i!==Ci||a!==Ri)||(g=Ni,d-=w[E]-r.width,d*=s?1:-1)}var _,I=Object.assign({position:u},c&&qi);return s?Object.assign({},I,((_={})[k]=y?"0":"",_[g]=m?"0":"",_.transform=(b.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",_)):Object.assign({},I,((t={})[k]=y?v+"px":"",t[g]=m?d+"px":"",t.transform="",t))}var Ki={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:ai(t.placement),variation:Bi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,zi(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,zi(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Wi={passive:!0};var Hi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=si(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Wi)})),u&&s.addEventListener("resize",n.update,Wi),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Wi)})),u&&s.removeEventListener("resize",n.update,Wi)}},data:{}},Gi={left:"right",right:"left",bottom:"top",top:"bottom"};function Qi(e){return e.replace(/left|right|bottom|top/g,(function(e){return Gi[e]}))}var Yi={start:"end",end:"start"};function $i(e){return e.replace(/start|end/g,(function(e){return Yi[e]}))}function Xi(e){var t=si(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ji(e){return oi(mi(e)).left+Xi(e).scrollLeft}function Zi(e){var t=pi(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ea(e){return["html","body","#document"].indexOf(di(e))>=0?e.ownerDocument.body:li(e)&&Zi(e)?e:ea(yi(e))}function ta(e,t){var n;void 0===t&&(t=[]);var r=ea(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=si(r),o=i?[a].concat(a.visualViewport||[],Zi(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(ta(yi(o)))}function na(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ra(e,t){return t===Li?na(function(e){var t=si(e),n=mi(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+Ji(e),y:u}}(e)):li(t)?function(e){var t=oi(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):na(function(e){var t,n=mi(e),r=Xi(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=wi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=wi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Ji(e),s=-r.scrollTop;return"rtl"===pi(i||n).direction&&(u+=wi(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(mi(e)))}function ia(e,t,n){var r="clippingParents"===t?function(e){var t=ta(yi(e)),n=["absolute","fixed"].indexOf(pi(e).position)>=0&&li(e)?ki(e):e;return ci(n)?t.filter((function(e){return ci(e)&&hi(e,n)&&"body"!==di(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=ra(e,n);return t.top=wi(r.top,t.top),t.right=xi(r.right,t.right),t.bottom=xi(r.bottom,t.bottom),t.left=wi(r.left,t.left),t}),ra(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function aa(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?ai(i):null,o=i?Bi(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case Ti:t={x:u,y:n.y-r.height};break;case Ci:t={x:u,y:n.y+n.height};break;case Ni:t={x:n.x+n.width,y:s};break;case Ai:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?bi(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Pi:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Ri:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function oa(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?Li:u,c=n.elementContext,l=void 0===c?Mi:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=Ii("number"!==typeof p?p:Si(p,Di)),m=l===Mi?"reference":Mi,y=e.rects.popper,g=e.elements[h?m:l],k=ia(ci(g)?g:g.contextElement||mi(e.elements.popper),o,s),b=oi(e.elements.reference),w=aa({reference:b,element:y,strategy:"absolute",placement:i}),x=na(Object.assign({},y,w)),E=l===Mi?x:b,_={top:k.top-E.top+v.top,bottom:E.bottom-k.bottom+v.bottom,left:k.left-E.left+v.left,right:E.right-k.right+v.right},I=e.modifiersData.offset;if(l===Mi&&I){var S=I[i];Object.keys(_).forEach((function(e){var t=[Ni,Ci].indexOf(e)>=0?1:-1,n=[Ti,Ci].indexOf(e)>=0?"y":"x";_[e]+=S[n]*t}))}return _}var ua={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=ai(m),g=s||(y===m||!p?[Qi(m)]:function(e){if(ai(e)===Oi)return[];var t=Qi(e);return[$i(e),t,$i(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(ai(n)===Oi?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Fi:s,l=Bi(r),f=l?u?ji:ji.filter((function(e){return Bi(e)===l})):Di,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=oa(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[ai(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,_=k[0],I=0;I<k.length;I++){var S=k[I],T=ai(S),C=Bi(S)===Pi,N=[Ti,Ci].indexOf(T)>=0,A=N?"width":"height",O=oa(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?Ni:Ai:C?Ci:Ti;b[A]>w[A]&&(D=Qi(D));var P=Qi(D),R=[];if(a&&R.push(O[T]<=0),u&&R.push(O[D]<=0,O[P]<=0),R.every((function(e){return e}))){_=S,E=!1;break}x.set(S,R)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function sa(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ca(e){return[Ti,Ni,Ci,Ai].some((function(t){return e[t]>=0}))}var la={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Fi.reduce((function(e,n){return e[n]=function(e,t,n){var r=ai(e),i=[Ai,Ti].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[Ai,Ni].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var fa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=oa(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=ai(t.placement),g=Bi(t.placement),k=!g,b=bi(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S={x:0,y:0};if(x){if(a||u){var T="y"===b?Ti:Ai,C="y"===b?Ci:Ni,N="y"===b?"height":"width",A=x[b],O=x[b]+m[T],D=x[b]-m[C],P=d?-_[N]/2:0,R=g===Pi?E[N]:_[N],L=g===Pi?-_[N]:-E[N],M=t.elements.arrow,j=d&&M?ui(M):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=F[T],U=F[C],B=_i(0,E[N],j[N]),q=k?E[N]/2-P-B-V-I:R-B-V-I,z=k?-E[N]/2+P+B+U+I:L+B+U+I,K=t.elements.arrow&&ki(t.elements.arrow),W=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,H=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,G=x[b]+q-H-W,Q=x[b]+z-H;if(a){var Y=_i(d?xi(O,G):O,A,d?wi(D,Q):D);x[b]=Y,S[b]=Y-A}if(u){var $="x"===b?Ti:Ai,X="x"===b?Ci:Ni,J=x[w],Z=J+m[$],ee=J-m[X],te=_i(d?xi(Z,G):Z,J,d?wi(ee,Q):ee);x[w]=te,S[w]=te-J}}t.modifiersData[r]=S}},requiresIfExists:["offset"]};function ha(e,t,n){void 0===n&&(n=!1);var r=li(t),i=li(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),a=mi(t),o=oi(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==di(t)||Zi(a))&&(u=function(e){return e!==si(e)&&li(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Xi(e);var t}(t)),li(t)?((s=oi(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Ji(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function da(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function pa(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var va={placement:"bottom",modifiers:[],strategy:"absolute"};function ma(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ya(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?va:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},va,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:ci(e)?ta(e):e.contextElement?ta(e.contextElement):[],popper:ta(t)};var l=function(e){var t=da(e);return Vi.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(ma(t,n)){i.rects={reference:ha(t,ki(n),"fixed"===i.options.strategy),popper:ui(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:pa((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!ma(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var ga=ya({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=oa(t,{elementContext:"reference"}),u=oa(t,{altBoundary:!0}),s=sa(o,r),c=sa(u,i,a),l=ca(s),f=ca(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=aa({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ki,Hi,la,ua,fa,Ui]}),ka=["enabled","placement","strategy","modifiers"];function ba(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var wa={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},xa={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},Ea=[];var _a=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,u=void 0===o?"bottom":o,s=r.strategy,c=void 0===s?"absolute":s,l=r.modifiers,f=void 0===l?Ea:l,h=ba(r,ka),d=(0,t.useRef)(f),p=(0,t.useRef)(),v=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),m=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),y=ii((0,t.useState)({placement:u,update:v,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),g=$t(y,2),k=g[0],b=g[1],w=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:v,forceUpdate:m,placement:t.placement})}}}),[v,m,b]),x=(0,t.useMemo)((function(){return ri(d.current,f)||(d.current=f),d.current}),[f]);return(0,t.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:u,strategy:c,modifiers:[].concat(on(x),[w,wa])})}),[c,u,w,a,x]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return p.current=ga(e,n,Object.assign({},h,{placement:u,strategy:c,modifiers:[].concat(on(x),[xa,w])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,b((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),k},Ia=n(391),Sa=n.n(Ia),Ta=function(){};function Ca(e){return 0===e.button}function Na(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Aa=function(e){return e&&("current"in e?e.current:e)};var Oa=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,u=(0,t.useRef)(!1),s=n||Ta,c=(0,t.useCallback)((function(t){var n=Aa(e);Sa()(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!n||Na(t)||!Ca(t)||!!Jt(n,t.target)}),[e]),l=rn((function(e){u.current||s(e)})),f=rn((function(e){27===e.keyCode&&s(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=window.event,n=Qe(Aa(e)),r=yt(n,o,c,!0),a=yt(n,o,(function(e){e!==t?l(e):t=void 0})),u=yt(n,"keyup",(function(e){e!==t?f(e):t=void 0})),s=[];return"ontouchstart"in n.documentElement&&(s=[].slice.call(n.body.children).map((function(e){return yt(e,"mousemove",Ta)}))),function(){r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Pa(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,u=e.placement,s=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:u,enabled:a,strategy:l?"fixed":p.strategy,modifiers:Da(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var Ra=["children"];var La=function(){};function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(Zr),r=Br(),i=$t(r,2),a=i[0],o=i[1],u=(0,t.useRef)(!1),s=e.flip,c=e.offset,l=e.rootCloseEvent,f=e.fixed,h=void 0!==f&&f,d=e.placement,p=e.popperConfig,v=void 0===p?{}:p,m=e.enableEventListeners,y=void 0===m||m,g=e.usePopper,k=void 0===g?!!n:g,b=null==(null==n?void 0:n.show)?!!e.show:n.show;b&&!u.current&&(u.current=!0);var w=function(e){null==n||n.toggle(!1,e)},x=n||{},E=x.placement,_=x.setMenu,I=x.menuElement,S=x.toggleElement,T=_a(S,I,Pa({placement:d||E||"bottom-start",enabled:k,enableEvents:null==y?b:y,offset:c,flip:s,fixed:h,arrowElement:a,popperConfig:v})),C=Object.assign({ref:_||La,"aria-labelledby":null==S?void 0:S.id},T.attributes.popper,{style:T.styles.popper}),N={show:b,placement:E,hasShown:u.current,toggle:null==n?void 0:n.toggle,popper:k?T:null,arrowProps:k?Object.assign({ref:o},T.attributes.arrow,{style:T.styles.arrow}):{}};return Oa(I,w,{clickTrigger:l,disabled:!b}),[C,N]}function ja(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ra),r=$t(Ma(n),2),i=r[0],a=r[1];return(0,Fe.jsx)(Fe.Fragment,{children:t(i,a)})}ja.displayName="DropdownMenu",ja.defaultProps={usePopper:!0};var Fa=ja,Va={prefix:String(Math.round(1e10*Math.random())),current:0},Ua=t.createContext(Va);var Ba=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var qa=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},za=function(){};function Ka(){var e=function(e){var n=(0,t.useContext)(Ua);return n!==Va||Ba||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria"+n.prefix+"-"+ ++n.current}),[e])}(),n=(0,t.useContext)(Zr)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?za:a,u=n.setToggle,s=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||za,onClick:c,"aria-expanded":!!i};return s&&qa(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function Wa(e){var t=e.children,n=$t(Ka(),2),r=n[0],i=n[1];return(0,Fe.jsx)(Fe.Fragment,{children:t(r,i)})}Wa.displayName="DropdownToggle";var Ha=Wa,Ga=["eventKey","disabled","onClick","active","as"];function Qa(e){var n=e.key,r=e.href,i=e.active,a=e.disabled,o=e.onClick,u=(0,t.useContext)(Ne),s=((0,t.useContext)(Er)||{}).activeKey,c=Ce(n,r),l=null==i&&null!=n?Ce(s)===c:i;return[xe({onClick:rn((function(e){a||(null==o||o(e),u&&!e.isPropagationStopped()&&u(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},ln("dropdown-item"),""),{isActive:l}]}var Ya=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?Cr:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ga),c=$t(Qa({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,Fe.jsx)(u,Object.assign({},s,{ref:t},c))}));Ya.displayName="DropdownItem";var $a=Ya;function Xa(){var e=kr(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function Ja(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(ln("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,l=void 0===c?"bottom-start":c,f=e.children,h=$t(De(r,n,a),2),d=h[0],p=h[1],v=$t(Xa(),2),m=v[0],y=v[1],g=m.current,k=$t(Xa(),2),b=k[0],w=k[1],x=b.current,E=tn(d),_=(0,t.useRef)(null),I=(0,t.useRef)(!1),S=(0,t.useContext)(Ne),T=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;p(e,{originalEvent:t,source:n})}),[p]),C=rn((function(e,t){null==i||i(e,t),T(!1,t,"select"),t.isPropagationStopped()||null==S||S(e,t)})),N=(0,t.useMemo)((function(){return{toggle:T,placement:l,show:d,menuElement:g,toggleElement:x,setMenu:y,setToggle:w}}),[T,l,d,g,x,y,w]);g&&E&&!d&&(I.current=g.contains(document.activeElement));var A=rn((function(){x&&x.focus&&x.focus()})),O=rn((function(){var e=_.current,t=s;if(null==t&&(t=!(!m.current||!qa(m.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=er(m.current,u)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){d?O():I.current&&(I.current=!1,A())}),[d,I,A,O]),(0,t.useEffect)((function(){_.current=null}));var D=function(e,t){if(!m.current)return null;var n=er(m.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return qr("keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=m.current)?void 0:t.contains(i),o=null==(n=b.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a))&&(a||o)&&("Tab"!==r||m.current&&d)){_.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=D(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),d){var c=D(i,1);c&&c.focus&&c.focus()}else p(!0,u);return;case"Tab":vt(document,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=m.current)&&t.contains(e.target)||p(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),p(!1,u)}}})),(0,Fe.jsx)(Ne.Provider,{value:C,children:(0,Fe.jsx)(Zr.Provider,{value:N,children:f})})}Ja.displayName="Dropdown",Ja.Menu=Fa,Ja.Toggle=Ha,Ja.Item=$a;var Za=Ja,eo=t.createContext({});eo.displayName="DropdownContext";var to=eo,no=["bsPrefix","className","eventKey","disabled","onClick","active","as"],ro=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,u=e.onClick,s=e.active,c=e.as,l=void 0===c?Hr:c,f=Ie(e,no),h=Ue(n,"dropdown-item"),d=$t(Qa({key:i,href:f.href,disabled:o,onClick:u,active:s}),2),p=d[0],v=d[1];return(0,Fe.jsx)(l,_e(_e(_e({},f),p),{},{ref:t,className:Te()(r,h,v.isActive&&"active",o&&"disabled")}))}));ro.displayName="DropdownItem";var io=ro,ao="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,oo="undefined"!==typeof document||ao?t.useLayoutEffect:t.useEffect,uo=t.createContext(null);uo.displayName="InputGroupContext";var so=uo;function co(e,t){return e}var lo=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function fo(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var ho=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,u=e.flip,s=e.show,c=e.renderOnMount,l=e.as,f=void 0===l?"div":l,h=e.popperConfig,d=e.variant,p=Ie(e,lo),v=!1,m=(0,t.useContext)(jt),y=Ue(r,"dropdown-menu"),g=(0,t.useContext)(to),k=g.align,b=g.drop,w=g.isRTL;a=a||k;var x=(0,t.useContext)(so),E=[];if(a)if("object"===typeof a){var _=Object.keys(a);if(_.length){var I=_[0],S=a[I];v="start"===S,E.push("".concat(y,"-").concat(I,"-").concat(S))}}else"end"===a&&(v=!0);var T=fo(v,b,w),C=$t(Ma({flip:u,rootCloseEvent:o,show:s,usePopper:!m&&0===E.length,offset:[0,2],popperConfig:h,placement:T}),2),N=C[0],A=C[1],O=A.hasShown,D=A.popper,P=A.show,R=A.toggle;if(N.ref=It(co(n),N.ref),oo((function(){P&&(null==D||D.update())}),[P]),!O&&!c&&!x)return null;"string"!==typeof f&&(N.show=P,N.close=function(){return null==R?void 0:R(!1)},N.align=a);var L=p.style;return null!=D&&D.placement&&(L=_e(_e({},p.style),N.style),p["x-placement"]=D.placement),(0,Fe.jsx)(f,_e(_e(_e(_e({},p),N),{},{style:L},(E.length||m)&&{"data-bs-popper":"static"}),{},{className:Te().apply(void 0,[i,y,P&&"show",v&&"".concat(y,"-end"),d&&"".concat(y,"-").concat(d)].concat(E))}))}));ho.displayName="DropdownMenu",ho.defaultProps={flip:!0};var po=ho,vo=["as","bsPrefix","variant","size","active","className"],mo=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,s=Ie(e,vo),c=Ue(r,"btn"),l=$t(Sr(_e({tagName:n},s)),2),f=l[0],h=l[1].tagName;return(0,Fe.jsx)(h,_e(_e(_e({},s),f),{},{ref:t,className:Te()(u,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),s.href&&s.disabled&&"disabled")}))}));mo.displayName="Button",mo.defaultProps={variant:"primary",active:!1,disabled:!1};var yo=mo,go=["bsPrefix","split","className","childBsPrefix","as"],ko=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,u=e.as,s=void 0===u?yo:u,c=Ie(e,go),l=Ue(r,"dropdown-toggle"),f=(0,t.useContext)(Zr),h=(0,t.useContext)(so);void 0!==o&&(c.bsPrefix=o);var d=$t(Ka(),1)[0];return d.ref=It(d.ref,co(n)),(0,Fe.jsx)(s,_e(_e({className:Te()(a,l,i&&"".concat(l,"-split"),!!h&&(null==f?void 0:f.show)&&"show")},d),c))}));ko.displayName="DropdownToggle";var bo=ko,wo=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],xo=Ke("dropdown-header",{defaultProps:{role:"heading"}}),Eo=Ke("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),_o=Ke("dropdown-item-text",{Component:"span"}),Io=t.forwardRef((function(e,n){var r=Pe(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=r.show,u=r.className,s=r.align,c=r.onSelect,l=r.onToggle,f=r.focusFirstItemOnShow,h=r.as,d=void 0===h?"div":h,p=(r.navbar,r.autoClose),v=Ie(r,wo),m=(0,t.useContext)(so),y=Ue(i,"dropdown"),g=Be(),k=qt((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),b=fo("end"===s,a,g),w=(0,t.useMemo)((function(){return{align:s,drop:a,isRTL:g}}),[s,a,g]);return(0,Fe.jsx)(to.Provider,{value:w,children:(0,Fe.jsx)(Za,{placement:b,show:o,onSelect:c,onToggle:k,focusFirstItemOnShow:f,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,Fe.jsx)(d,_e(_e({},v),{},{ref:n,className:Te()(u,o&&"show",(!a||"down"===a)&&y,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));Io.displayName="Dropdown",Io.defaultProps={navbar:!1,align:"start",autoClose:!0};var So=Object.assign(Io,{Toggle:bo,Menu:po,Item:io,ItemText:_o,Divider:Eo,Header:xo}),To=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],Co=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,u=e.rootCloseEvent,s=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,h=e.menuVariant,d=Ie(e,To),p=Ue(void 0,"nav-item");return(0,Fe.jsxs)(So,_e(_e({ref:t},d),{},{className:Te()(o,p),children:[(0,Fe.jsx)(So.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:Yr,children:r}),(0,Fe.jsx)(So.Menu,{role:s,renderOnMount:f,rootCloseEvent:u,variant:h,children:i})]}))}));Co.displayName="NavDropdown";var No=Object.assign(Co,{Item:So.Item,ItemText:So.ItemText,Divider:So.Divider,Header:So.Header}),Ao=t.createContext({});var Oo=function(){return(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsx)(Ao.Consumer,{children:function(e){return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)(gr,{bg:"light",expand:"lg",children:[(0,Fe.jsx)(gr.Brand,{as:ke,to:"/",children:"M3XXH4RD"}),(0,Fe.jsx)(gr.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,Fe.jsx)(gr.Collapse,{id:"basic-navbar-nav",children:(0,Fe.jsxs)(Jr,{className:"me-auto",children:[(0,Fe.jsx)(Jr.Link,{as:ke,to:"/",children:"Home"}),(0,Fe.jsx)(Jr.Link,{as:ke,to:"/contacto",children:"Contacto"}),!e.userLogin&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Jr.Link,{as:ke,to:"/ingresar",children:"Ingresar"}),(0,Fe.jsx)(Jr.Link,{as:ke,to:"/registro",children:"Registrarse"})]}),e.userLogin&&(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsxs)(No,{title:"Mas",id:"basic-nav-dropdown",children:[(0,Fe.jsx)(No.Item,{as:ke,to:"/alta",children:"Alta de Producto"}),(0,Fe.jsx)(No.Item,{onClick:e.logoutUser,children:"Salir"})]})})]})})]}),e.userInfo&&(0,Fe.jsxs)("div",{children:["Hola ",e.userInfo.nombre]})]})}})})};function Do(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Po(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Do(a,r,i,o,u,"next",e)}function u(e){Do(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ro=n(757),Lo=n.n(Ro),Mo=["bsPrefix","className","variant","as"],jo=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=Ie(e,Mo),s=Ue(n,"card-img");return(0,Fe.jsx)(o,_e({ref:t,className:Te()(i?"".concat(s,"-").concat(i):s,r)},u))}));jo.displayName="CardImg";var Fo=jo,Vo=["bsPrefix","className","as"],Uo=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=Ie(e,Vo),s=Ue(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,Fe.jsx)(Vr.Provider,{value:c,children:(0,Fe.jsx)(o,_e(_e({ref:n},u),{},{className:Te()(i,s)}))})}));Uo.displayName="CardHeader";var Bo=Uo,qo=["bsPrefix","className","bg","text","border","body","children","as"],zo=qn("h5"),Ko=qn("h6"),Wo=Ke("card-body"),Ho=Ke("card-title",{Component:zo}),Go=Ke("card-subtitle",{Component:Ko}),Qo=Ke("card-link",{Component:"a"}),Yo=Ke("card-text",{Component:"p"}),$o=Ke("card-footer"),Xo=Ke("card-img-overlay"),Jo=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=Ie(e,qo),h=Ue(n,"card");return(0,Fe.jsx)(l,_e(_e({ref:t},f),{},{className:Te()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,Fe.jsx)(Wo,{children:s}):s}))}));Jo.displayName="Card",Jo.defaultProps={body:!1};var Zo=Object.assign(Jo,{Img:Fo,Title:Ho,Subtitle:Go,Body:Wo,Link:Qo,Text:Yo,Header:Bo,Footer:$o,ImgOverlay:Xo});var eu=function(e){var t=e.datos,n=e.handleDelete;return(0,Fe.jsx)(Ao.Consumer,{children:function(e){return(0,Fe.jsx)(Zo,{style:{width:"18rem"},children:(0,Fe.jsxs)(Zo.Body,{children:[(0,Fe.jsx)(Zo.Title,{children:t.title}),(0,Fe.jsxs)(Zo.Text,{children:["$",t.price]}),(0,Fe.jsx)(yo,{variant:"primary",as:ke,to:"/producto/"+t.id,children:"Ver Detalle"}),e.userLogin&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(yo,{variant:"primary",as:ke,to:"/producto/modificar/"+t.id,children:"Modificar"}),(0,Fe.jsx)(yo,{variant:"danger",onClick:function(e){return n(t.id)},children:"Eliminar"})]})]})})}})},tu=["bsPrefix","variant","animation","size","as","className"],nu=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,u=void 0===o?"div":o,s=e.className,c=Ie(e,tu);n=Ue(n,"spinner");var l="".concat(n,"-").concat(i);return(0,Fe.jsx)(u,_e(_e({ref:t},c),{},{className:Te()(s,l,a&&"".concat(l,"-").concat(a),r&&"text-".concat(r))}))}));nu.displayName="Spinner";var ru=nu;var iu=function(e){return e.active?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(ru,{animation:"grow"}),(0,Fe.jsx)(ru,{animation:"grow"}),(0,Fe.jsx)(ru,{animation:"grow"})]}):(0,Fe.jsx)(Fe.Fragment,{children:e.children})};function au(e,t,n){return au=Qn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},au.apply(null,arguments)}function ou(e){var t="function"===typeof Map?new Map:void 0;return ou=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return au(e,arguments,Kn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},ou(e)}var uu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},su={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(uu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},cu=function(e){return function(e){var t=uu(e);return su.encodeByteArray(t,!0)}(e).replace(/\./g,"")},lu=function(e){try{return su.decodeString(e,!0)}catch(UL){console.error("base64Decode failed: ",UL)}return null};function fu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&hu(n)&&(e[n]=fu(e[n],t[n]));return e}function hu(e){return"__proto__"!==e}var du=function(){function e(){var t=this;un(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return cn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cu(JSON.stringify({alg:"none",type:"JWT"})),cu(JSON.stringify(a)),""].join(".")}function vu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mu(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vu())}function yu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(UL){return!1}}function gu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ku(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function bu(){var e=vu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wu(){return"object"===typeof indexedDB}var xu=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf($n(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace($n(a),Eu.prototype.create),a}return cn(n)}(ou(Error)),Eu=function(){function e(t,n,r){un(this,e),this.service=t,this.serviceName=n,this.errors=r}return cn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?_u(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xu(n,a,t);return o}}]),e}();function _u(e,t){return e.replace(Iu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Iu=/\{\$([^}]+)}/g;function Su(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Cu(u)&&Cu(s)){if(!Tu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Cu(e){return null!==e&&"object"===typeof e}function Nu(e){for(var t=[],n=function(){var e=$t(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Au(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=$t(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ou(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Du(e,t){var n=new Pu(e,t);return n.subscribe.bind(n)}var Pu=function(){function e(t,n){var r=this;un(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return cn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ei(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ru),void 0===r.error&&(r.error=Ru),void 0===r.complete&&(r.complete=Ru);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(UL){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(UL){"undefined"!==typeof console&&console.error&&console.error(UL)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ru(){}function Lu(e){return e&&e._delegate?e._delegate:e}function Mu(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var ju=function(){function e(t){un(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return cn(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Fu(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Vu(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Fu=function(){function e(t){var n=this;un(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return cn(e,[{key:"objectStore",value:function(e){return new Vu(this._transaction.objectStore(e))}}]),e}(),Vu=function(){function e(t){un(this,e),this._store=t}return cn(e,[{key:"index",value:function(e){return new Uu(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Uu(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Mu(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Mu(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Mu(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Mu(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Uu=function(){function e(t){un(this,e),this._index=t}return cn(e,[{key:"get",value:function(e){return Mu(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var Bu=function(){function e(t,n,r){un(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return cn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),qu="[DEFAULT]",zu=function(){function e(t,n){un(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return cn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new du;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(UL){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(UL){if(r)return null;throw UL}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qu})}catch(UL){}var t,n=ei(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=$t(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(UL){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Po(Ro.mark((function e(){var t;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(on(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),on(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ei(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=$t(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(lx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===qu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(lx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qu;return this.component?this.component.multipleInstances?e:qu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ku,Wu,Hu=function(){function e(t){un(this,e),this.name=t,this.providers=new Map}return cn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new zu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Gu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wu||(Wu={}));var Qu,Yu,$u={debug:Wu.DEBUG,verbose:Wu.VERBOSE,info:Wu.INFO,warn:Wu.WARN,error:Wu.ERROR,silent:Wu.SILENT},Xu=Wu.INFO,Ju=(xe(Ku={},Wu.DEBUG,"log"),xe(Ku,Wu.VERBOSE,"log"),xe(Ku,Wu.INFO,"info"),xe(Ku,Wu.WARN,"warn"),xe(Ku,Wu.ERROR,"error"),Ku),Zu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ju[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},es=function(){function e(t){un(this,e),this.name=t,this._logLevel=Xu,this._logHandler=Zu,this._userLogHandler=null,Gu.push(this)}return cn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?$u[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wu.INFO].concat(t)),this._logHandler.apply(this,[this,Wu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wu.WARN].concat(t)),this._logHandler.apply(this,[this,Wu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wu.ERROR].concat(t)),this._logHandler.apply(this,[this,Wu.ERROR].concat(t))}}]),e}();var ts=function(){function e(t){un(this,e),this.container=t}return cn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ns="@firebase/app",rs="0.7.22",is=new es("@firebase/app"),as="[DEFAULT]",os=(xe(Qu={},ns,"fire-core"),xe(Qu,"@firebase/app-compat","fire-core-compat"),xe(Qu,"@firebase/analytics","fire-analytics"),xe(Qu,"@firebase/analytics-compat","fire-analytics-compat"),xe(Qu,"@firebase/app-check","fire-app-check"),xe(Qu,"@firebase/app-check-compat","fire-app-check-compat"),xe(Qu,"@firebase/auth","fire-auth"),xe(Qu,"@firebase/auth-compat","fire-auth-compat"),xe(Qu,"@firebase/database","fire-rtdb"),xe(Qu,"@firebase/database-compat","fire-rtdb-compat"),xe(Qu,"@firebase/functions","fire-fn"),xe(Qu,"@firebase/functions-compat","fire-fn-compat"),xe(Qu,"@firebase/installations","fire-iid"),xe(Qu,"@firebase/installations-compat","fire-iid-compat"),xe(Qu,"@firebase/messaging","fire-fcm"),xe(Qu,"@firebase/messaging-compat","fire-fcm-compat"),xe(Qu,"@firebase/performance","fire-perf"),xe(Qu,"@firebase/performance-compat","fire-perf-compat"),xe(Qu,"@firebase/remote-config","fire-rc"),xe(Qu,"@firebase/remote-config-compat","fire-rc-compat"),xe(Qu,"@firebase/storage","fire-gcs"),xe(Qu,"@firebase/storage-compat","fire-gcs-compat"),xe(Qu,"@firebase/firestore","fire-fst"),xe(Qu,"@firebase/firestore-compat","fire-fst-compat"),xe(Qu,"fire-js","fire-js"),xe(Qu,"firebase","fire-js-all"),Qu),us=new Map,ss=new Map;function cs(e,t){try{e.container.addComponent(t)}catch(UL){is.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),UL)}}function ls(e,t){e.container.addOrOverwriteComponent(t)}function fs(e){var t=e.name;if(ss.has(t))return is.debug("There were multiple attempts to register component ".concat(t,".")),!1;ss.set(t,e);var n,r=ei(us.values());try{for(r.s();!(n=r.n()).done;){cs(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function hs(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ds(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:as;hs(e,t).clearInstance(n)}function ps(){ss.clear()}var vs=(xe(Yu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(Yu,"bad-app-name","Illegal App name: '{$appName}"),xe(Yu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),xe(Yu,"app-deleted","Firebase App named '{$appName}' already deleted"),xe(Yu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xe(Yu,"invalid-log-argument","First argument to `onLog` must be null or a function."),xe(Yu,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),xe(Yu,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),xe(Yu,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),xe(Yu,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Yu),ms=new Eu("app","Firebase",vs),ys=function(){function e(t,n,r){var i=this;un(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bu("app",(function(){return i}),"PUBLIC"))}return cn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}]),e}(),gs="9.7.0";function ks(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:as,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ms.create("bad-app-name",{appName:String(i)});var a=us.get(i);if(a){if(Tu(e,a.options)&&Tu(r,a.config))return a;throw ms.create("duplicate-app",{appName:i})}var o,u=new Hu(i),s=ei(ss.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ys(e,r,u);return us.set(i,l),l}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as,t=us.get(e);if(!t)throw ms.create("no-app",{appName:e});return t}function ws(){return Array.from(us.values())}function xs(e){return Es.apply(this,arguments)}function Es(){return(Es=Po(Ro.mark((function e(t){var n;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!us.has(n)){e.next=6;break}return us.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e,t,n){var r,i=null!==(r=os[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void is.warn(u.join(" "))}fs(new Bu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Is(e,t){if(null!==e&&"function"!==typeof e)throw ms.create("invalid-log-argument");!function(e,t){var n,r=ei(Gu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=$u[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Wu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ss(e){var t;t=e,Gu.forEach((function(e){e.setLogLevel(t)}))}var Ts="firebase-heartbeat-store",Cs=null;function Ns(){var e,t,n;return Cs||(Cs=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ts)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new ju(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new ju(a.result),e.oldVersion,e.newVersion,new Fu(a.transaction))}}catch(UL){i("Error opening indexedDB: ".concat(UL.message))}}))).catch((function(e){throw ms.create("storage-open",{originalErrorMessage:e.message})}))),Cs}function As(e){return Os.apply(this,arguments)}function Os(){return Os=Po(Ro.mark((function e(t){var n;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ns();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ts).objectStore(Ts).get(Rs(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ms.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Os.apply(this,arguments)}function Ds(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=Po(Ro.mark((function e(t,n){var r,i,a;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ns();case 3:return r=e.sent,i=r.transaction(Ts,"readwrite"),a=i.objectStore(Ts),e.next=8,a.put(n,Rs(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ms.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ps.apply(this,arguments)}function Rs(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ls=function(){function e(t){var n=this;un(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Us(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return cn(e,[{key:"triggerHeartbeat",value:function(){var e=Po(Ro.mark((function e(){var t,n,r;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ms(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Po(Ro.mark((function e(){var t,n,r,i,a;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ms(),n=js(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=cu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ms(){return(new Date).toISOString().substring(0,10)}function js(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ei(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Bs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Bs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fs,Vs,Us=function(){function e(t){un(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return cn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Po(Ro.mark((function e(){return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Po(Ro.mark((function e(){var t;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,As(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Po(Ro.mark((function e(t){var n,r;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ds(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Po(Ro.mark((function e(t){var n,r;return Ro.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ds(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(on(r.heartbeats),on(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Bs(e){return cu(JSON.stringify({version:2,heartbeats:e})).length}Fs="",fs(new Bu("platform-logger",(function(e){return new ts(e)}),"PRIVATE")),fs(new Bu("heartbeat",(function(e){return new Ls(e)}),"PRIVATE")),_s(ns,rs,Fs),_s(ns,rs,"esm2017"),_s("fire-js","");var qs=function(){function e(t,n){var r=this;un(this,e),this._delegate=t,this.firebase=n,cs(t,new Bu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return cn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){cs(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ls(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),zs=(xe(Vs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xe(Vs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vs),Ks=new Eu("app-compat","Firebase",zs);var Ws=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ks(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Su(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:_s,setLogLevel:Ss,onLog:Is,apps:null,SDK_VERSION:gs,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(fs(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ks.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&fu(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Su(n,e=e||as))throw Ks.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(qs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){fu(n,e)},createSubscribe:Du,ErrorFactory:Eu,deepExtend:fu}),n}(),Hs=new es("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Hs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gs=self.firebase.SDK_VERSION;Gs&&Gs.indexOf("LITE")>=0&&Hs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Qs=Ws;!function(e){_s("@firebase/app-compat","0.1.23",e)}();Qs.registerVersion("firebase","9.7.0","app-compat");var Ys,$s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xs={},Js=Js||{},Zs=$s||self;function ec(){}function tc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function nc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var rc="closure_uid_"+(1e9*Math.random()>>>0),ic=0;function ac(e,t,n){return e.call.apply(e.bind,arguments)}function oc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function uc(e,t,n){return(uc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ac:oc).apply(null,arguments)}function sc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function lc(){this.s=this.s,this.o=this.o}var fc={};lc.prototype.s=!1,lc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,rc)&&e[rc]||(e[rc]=++ic)}(this);delete fc[e]}},lc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},dc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function pc(e){return Array.prototype.concat.apply([],arguments)}function vc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mc(e){return/^[\s\xa0]*$/.test(e)}var yc,gc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kc(e,t){return-1!=e.indexOf(t)}function bc(e,t){return e<t?-1:e>t?1:0}e:{var wc=Zs.navigator;if(wc){var xc=wc.userAgent;if(xc){yc=xc;break e}}yc=""}function Ec(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _c(e){var t={};for(var n in e)t[n]=e[n];return t}var Ic="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ic.length;a++)n=Ic[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tc(e){return Tc[" "](e),e}Tc[" "]=ec;var Cc,Nc=kc(yc,"Opera"),Ac=kc(yc,"Trident")||kc(yc,"MSIE"),Oc=kc(yc,"Edge"),Dc=Oc||Ac,Pc=kc(yc,"Gecko")&&!(kc(yc.toLowerCase(),"webkit")&&!kc(yc,"Edge"))&&!(kc(yc,"Trident")||kc(yc,"MSIE"))&&!kc(yc,"Edge"),Rc=kc(yc.toLowerCase(),"webkit")&&!kc(yc,"Edge");function Lc(){var e=Zs.document;return e?e.documentMode:void 0}e:{var Mc="",jc=function(){var e=yc;return Pc?/rv:([^\);]+)(\)|;)/.exec(e):Oc?/Edge\/([\d\.]+)/.exec(e):Ac?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rc?/WebKit\/(\S+)/.exec(e):Nc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(jc&&(Mc=jc?jc[1]:""),Ac){var Fc=Lc();if(null!=Fc&&Fc>parseFloat(Mc)){Cc=String(Fc);break e}}Cc=Mc}var Vc,Uc={};function Bc(){return function(e){var t=Uc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gc(String(Cc)).split("."),n=gc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=bc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||bc(0==a[2].length,0==o[2].length)||bc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Zs.document&&Ac){var qc=Lc();Vc=qc||(parseInt(Cc,10)||void 0)}else Vc=void 0;var zc=Vc,Kc=function(){if(!Zs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Zs.addEventListener("test",ec,t),Zs.removeEventListener("test",ec,t)}catch(n){}return e}();function Wc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Hc(e,t){if(Wc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pc){e:{try{Tc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hc.Z.h.call(this)}}Wc.prototype.h=function(){this.defaultPrevented=!0},cc(Hc,Wc);var Gc={2:"touch",3:"pen",4:"mouse"};Hc.prototype.h=function(){Hc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qc="closure_listenable_"+(1e6*Math.random()|0),Yc=0;function $c(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Yc,this.ca=this.fa=!1}function Xc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Jc(e){this.src=e,this.g={},this.h=0}function Zc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function el(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Jc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=el(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new $c(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var tl="closure_lm_"+(1e6*Math.random()|0),nl={};function rl(e,t,n,r,i){if(r&&r.once)return al(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)rl(e,t[a],n,r,i);return null}return n=hl(n),e&&e[Qc]?e.N(t,n,nc(r)?!!r.capture:!!r,i):il(e,t,n,!1,r,i)}function il(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=nc(i)?!!i.capture:!!i,u=ll(e);if(u||(e[tl]=u=new Jc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=cl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function al(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)al(e,t[a],n,r,i);return null}return n=hl(n),e&&e[Qc]?e.O(t,n,nc(r)?!!r.capture:!!r,i):il(e,t,n,!0,r,i)}function ol(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ol(e,t[a],n,r,i);else r=nc(r)?!!r.capture:!!r,n=hl(n),e&&e[Qc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=el(a=e.g[t],n,r,i))&&(Xc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ll(e))&&(t=e.g[t.toString()],e=-1,t&&(e=el(t,n,r,i)),(n=-1<e?t[e]:null)&&ul(n))}function ul(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Qc])Zc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ll(t))?(Zc(n,e),0==n.h&&(n.src=null,t[tl]=null)):Xc(e)}}}function sl(e){return e in nl?nl[e]:nl[e]="on"+e}function cl(e,t){if(e.ca)e=!0;else{t=new Hc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ul(e),e=n.call(r,t)}return e}function ll(e){return(e=e[tl])instanceof Jc?e:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function hl(e){return"function"===typeof e?e:(e[fl]||(e[fl]=function(t){return e.handleEvent(t)}),e[fl])}function dl(){lc.call(this),this.i=new Jc(this),this.P=this,this.I=null}function pl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Wc(t,e);else if(t instanceof Wc)t.target=t.target||e;else{var i=t;Sc(t=new Wc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=vl(o,r,!0,t)&&i}if(i=vl(o=t.g=e,r,!0,t)&&i,i=vl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=vl(o=t.g=n[a],r,!1,t)&&i}function vl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Zc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}cc(dl,lc),dl.prototype[Qc]=!0,dl.prototype.removeEventListener=function(e,t,n,r){ol(this,e,t,n,r)},dl.prototype.M=function(){if(dl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xc(n[r]);delete t.g[e],t.h--}}this.I=null},dl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},dl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ml=Zs.JSON.stringify;function yl(){var e=Il,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gl,kl=function(){function e(){un(this,e),this.h=this.g=null}return cn(e,[{key:"add",value:function(e,t){var n=bl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),bl=new(function(){function e(t,n){un(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return cn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wl}),(function(e){return e.reset()})),wl=function(){function e(){un(this,e),this.next=this.g=this.h=null}return cn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xl(e){Zs.setTimeout((function(){throw e}),0)}function El(e,t){gl||function(){var e=Zs.Promise.resolve(void 0);gl=function(){e.then(Sl)}}(),_l||(gl(),_l=!0),Il.add(e,t)}var _l=!1,Il=new kl;function Sl(){for(var e;e=yl();){try{e.h.call(e.g)}catch(n){xl(n)}var t=bl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_l=!1}function Tl(e,t){dl.call(this),this.h=e||1,this.g=t||Zs,this.j=uc(this.kb,this),this.l=Date.now()}function Cl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Nl(e,t,n){if("function"===typeof e)n&&(e=uc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=uc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Zs.setTimeout(e,t||0)}function Al(e){e.g=Nl((function(){e.g=null,e.i&&(e.i=!1,Al(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cc(Tl,dl),(Ys=Tl.prototype).da=!1,Ys.S=null,Ys.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pl(this,"tick"),this.da&&(Cl(this),this.start()))}},Ys.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ys.M=function(){Tl.Z.M.call(this),Cl(this),delete this.g};var Ol=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return cn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Al(this)}},{key:"M",value:function(){Hn(Kn(n.prototype),"M",this).call(this),this.g&&(Zs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(lc);function Dl(e){lc.call(this),this.h=e,this.g={}}cc(Dl,lc);var Pl=[];function Rl(e,t,n,r){Array.isArray(n)||(n&&(Pl[0]=n.toString()),n=Pl);for(var i=0;i<n.length;i++){var a=rl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ll(e){Ec(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ul(e)}),e),e.g={}}function Ml(){this.g=!0}function jl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ml(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Dl.prototype.M=function(){Dl.Z.M.call(this),Ll(this)},Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ml.prototype.Aa=function(){this.g=!1},Ml.prototype.info=function(){};var Fl={},Vl=null;function Ul(){return Vl=Vl||new dl}function Bl(e){Wc.call(this,Fl.Ma,e)}function ql(e){var t=Ul();pl(t,new Bl(t,e))}function zl(e,t){Wc.call(this,Fl.STAT_EVENT,e),this.stat=t}function Kl(e){var t=Ul();pl(t,new zl(t,e))}function Wl(e,t){Wc.call(this,Fl.Na,e),this.size=t}function Hl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Zs.setTimeout((function(){e()}),t)}Fl.Ma="serverreachability",cc(Bl,Wc),Fl.STAT_EVENT="statevent",cc(zl,Wc),Fl.Na="timingevent",cc(Wl,Wc);var Gl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ql={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yl(){}function $l(e){return e.h||(e.h=e.i())}function Xl(){}Yl.prototype.h=null;var Jl,Zl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ef(){Wc.call(this,"d")}function tf(){Wc.call(this,"c")}function nf(){}function rf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Dl(this),this.P=of,e=Dc?125:void 0,this.W=new Tl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new af}function af(){this.i=null,this.g="",this.h=!1}cc(ef,Wc),cc(tf,Wc),cc(nf,Yl),nf.prototype.g=function(){return new XMLHttpRequest},nf.prototype.i=function(){return{}},Jl=new nf;var of=45e3,uf={},sf={};function cf(e,t,n){e.K=1,e.v=Df(Sf(t)),e.s=n,e.U=!0,lf(e,null)}function lf(e,t){e.F=Date.now(),pf(e),e.A=Sf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Wf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new af,e.g=Gh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ol(uc(e.Ia,e,e.g),e.O)),Rl(e.V,e.g,"readystatechange",e.gb),t=e.H?_c(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ql(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ff(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function hf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=df(e,n))==sf){4==t&&(e.o=4,Kl(14),i=!1),jl(e.j,e.m,null,"[Incomplete Response]");break}if(r==uf){e.o=4,Kl(15),jl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}jl(e.j,e.m,r,null),kf(e,r)}ff(e)&&r!=sf&&r!=uf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Kl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vh(t),t.L=!0,Kl(11))):(jl(e.j,e.m,n,"[Invalid Chunked Response]"),gf(e),yf(e))}function df(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?sf:(n=Number(t.substring(n,r)),isNaN(n)?uf:(r+=1)+n>t.length?sf:(t=t.substr(r,n),e.C=r+n,t))}function pf(e){e.Y=Date.now()+e.P,vf(e,e.P)}function vf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hl(uc(e.eb,e),t)}function mf(e){e.B&&(Zs.clearTimeout(e.B),e.B=null)}function yf(e){0==e.l.G||e.I||qh(e.l,e)}function gf(e){mf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Cl(e.W),Ll(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function kf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zf(n.i,e)))if(n.I=e.N,!e.J&&Zf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bh(n),Ah(n)}Fh(n),Kl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hl(uc(n.ab,n),6e3));if(1>=Jf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Kh(n,11)}else if((e.J||n.g==e)&&Bh(n),!mc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(kc(l,"spdy")||kc(l,"quic")||kc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(eh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Of(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Hh(r,r.H?r.la:null,r.W),d.J){th(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(mf(p),pf(p)),r.g=d}else jh(r);0<n.l.length&&Ph(n)}else"stop"!=a[0]&&"close"!=a[0]||Kh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Kh(n,7):Nh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ql(4)}catch(a){}}function bf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(tc(e)||"string"===typeof e)dc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(tc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(tc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function wf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ef(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ef(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ef(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ys=rf.prototype).setTimeout=function(e){this.P=e},Ys.gb=function(e){e=e.target;var t=this.L;t&&3==_h(e)?t.l():this.Ia(e)},Ys.Ia=function(e){try{if(e==this.g)e:{var t=_h(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Dc||this.g&&(this.h.h||this.g.ga()||Ih(this.g)))){this.I||4!=t||7==n||ql(8==n||0>=r?3:2),mf(this);var i=this.g.ba();this.N=i;t:if(ff(this)){var a=Ih(this.g);e="";var o=a.length,u=4==_h(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){gf(this),yf(this);var s="";break t}this.h.i=new Zs.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Kl(12),gf(this),yf(this);break e}jl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kf(this,i)}this.U?(hf(this,t,s),Dc&&this.i&&3==t&&(Rl(this.V,this.W,"tick",this.fb),this.W.start())):(jl(this.j,this.m,s,null),kf(this,s)),4==t&&gf(this),this.i&&!this.I&&(4==t?qh(this.l,this):(this.i=!1,pf(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Kl(12)):(this.o=0,Kl(13)),gf(this),yf(this)}}}catch(t){}},Ys.fb=function(){if(this.g){var e=_h(this.g),t=this.g.ga();this.C<t.length&&(mf(this),hf(this,e,t),this.i&&4!=e&&pf(this))}},Ys.cancel=function(){this.I=!0,gf(this)},Ys.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ql(3),Kl(17)),gf(this),this.o=2,yf(this)):vf(this,this.Y-e)},(Ys=wf.prototype).R=function(){xf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ys.T=function(){return xf(this),this.g.concat()},Ys.get=function(e,t){return Ef(this.h,e)?this.h[e]:t},Ys.set=function(e,t){Ef(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ys.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var _f=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function If(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof If){this.g=void 0!==t?t:e.g,Tf(this,e.j),this.s=e.s,Cf(this,e.i),Nf(this,e.m),this.l=e.l,t=e.h;var n=new Bf;n.i=t.i,t.g&&(n.g=new wf(t.g),n.h=t.h),Af(this,n),this.o=e.o}else e&&(n=String(e).match(_f))?(this.g=!!t,Tf(this,n[1]||"",!0),this.s=Pf(n[2]||""),Cf(this,n[3]||"",!0),Nf(this,n[4]),this.l=Pf(n[5]||"",!0),Af(this,n[6]||"",!0),this.o=Pf(n[7]||"")):(this.g=!!t,this.h=new Bf(null,this.g))}function Sf(e){return new If(e)}function Tf(e,t,n){e.j=n?Pf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cf(e,t,n){e.i=n?Pf(t,!0):t}function Nf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Af(e,t,n){t instanceof Bf?(e.h=t,function(e,t){t&&!e.j&&(qf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zf(this,t),Wf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Rf(t,Vf)),e.h=new Bf(t,e.g))}function Of(e,t,n){e.h.set(t,n)}function Df(e){return Of(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Lf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Lf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}If.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rf(t,Mf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rf(t,Mf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rf(n,"/"==n.charAt(0)?Ff:jf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rf(n,Uf)),e.join("")};var Mf=/[#\/\?@]/g,jf=/[#\?:]/g,Ff=/[#\?]/g,Vf=/[#\?@]/g,Uf=/#/g;function Bf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qf(e){e.g||(e.g=new wf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zf(e,t){qf(e),t=Hf(e,t),Ef(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ef((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xf(e)))}function Kf(e,t){return qf(e),t=Hf(e,t),Ef(e.g.h,t)}function Wf(e,t,n){zf(e,t),0<n.length&&(e.i=null,e.g.set(Hf(e,t),vc(n)),e.h+=n.length)}function Hf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ys=Bf.prototype).add=function(e,t){qf(this),this.i=null,e=Hf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ys.forEach=function(e,t){qf(this),this.g.forEach((function(n,r){dc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ys.T=function(){qf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ys.R=function(e){qf(this);var t=[];if("string"===typeof e)Kf(this,e)&&(t=pc(t,this.g.get(Hf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pc(t,e[n])}return t},Ys.set=function(e,t){return qf(this),this.i=null,Kf(this,e=Hf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ys.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ys.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Gf=cn((function e(t,n){un(this,e),this.h=t,this.g=n}));function Qf(e){this.l=e||$f,Zs.PerformanceNavigationTiming?e=0<(e=Zs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Zs.g&&Zs.g.Ea&&Zs.g.Ea()&&Zs.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yf,$f=10;function Xf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jf(e){return e.h?1:e.g?e.g.size:0}function Zf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eh(e,t){e.g?e.g.add(t):e.h=t}function th(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ei(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return vc(e.i)}function rh(){}function ih(){this.g=new rh}function ah(e,t,n){var r=n||"";try{bf(e,(function(e,n){var i=e;nc(e)&&(i=ml(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(UL){throw t.push(r+"type="+encodeURIComponent("_badmap")),UL}}function oh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function uh(e){this.l=e.$b||null,this.j=e.ib||!1}function sh(e,t){dl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ch,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qf.prototype.cancel=function(){if(this.i=nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ei(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},rh.prototype.stringify=function(e){return Zs.JSON.stringify(e,void 0)},rh.prototype.parse=function(e){return Zs.JSON.parse(e,void 0)},cc(uh,Yl),uh.prototype.g=function(){return new sh(this.l,this.j)},uh.prototype.i=(Yf={},function(){return Yf}),cc(sh,dl);var ch=0;function lh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function fh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hh(e)}function hh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ys=sh.prototype).open=function(e,t){if(this.readyState!=ch)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hh(this)},Ys.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Zs).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ys.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fh(this)),this.readyState=ch},Ys.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hh(this)),this.g&&(this.readyState=3,hh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Zs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ys.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fh(this):hh(this),3==this.readyState&&lh(this)}},Ys.Ua=function(e){this.g&&(this.response=this.responseText=e,fh(this))},Ys.Ta=function(e){this.g&&(this.response=e,fh(this))},Ys.ha=function(){this.g&&fh(this)},Ys.setRequestHeader=function(e,t){this.v.append(e,t)},Ys.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ys.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dh=Zs.JSON.parse;function ph(e){dl.call(this),this.headers=new wf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vh,this.K=this.L=!1}cc(ph,dl);var vh="",mh=/^https?$/i,yh=["POST","PUT"];function gh(e){return"content-type"==e.toLowerCase()}function kh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bh(e),xh(e)}function bh(e){e.D||(e.D=!0,pl(e,"complete"),pl(e,"error"))}function wh(e){if(e.h&&"undefined"!=typeof Js&&(!e.C[1]||4!=_h(e)||2!=e.ba()))if(e.v&&4==_h(e))Nl(e.Fa,0,e);else if(pl(e,"readystatechange"),4==_h(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(_f)[1]||null;if(!a&&Zs.self&&Zs.self.location){var o=Zs.self.location.protocol;a=o.substr(0,o.length-1)}i=!mh.test(a?a.toLowerCase():"")}t=i}if(t)pl(e,"complete"),pl(e,"success");else{e.m=6;try{var u=2<_h(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",bh(e)}}finally{xh(e)}}}function xh(e,t){if(e.g){Eh(e);var n=e.g,r=e.C[0]?ec:null;e.g=null,e.C=null,t||pl(e,"ready");try{n.onreadystatechange=r}catch(UL){}}}function Eh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Zs.clearTimeout(e.A),e.A=null)}function _h(e){return e.g?e.g.readyState:0}function Ih(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Sh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ec(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Of(e,t,n))}function Th(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ch(e){this.za=0,this.l=[],this.h=new Ml,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Th("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Th("baseRetryDelayMs",5e3,e),this.$a=Th("retryDelaySeedMs",1e4,e),this.Ya=Th("forwardChannelMaxRetries",2,e),this.ra=Th("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qf(e&&e.concurrentRequestLimit),this.Ca=new ih,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Nh(e){if(Oh(e),3==e.G){var t=e.V++,n=Sf(e.F);Of(n,"SID",e.J),Of(n,"RID",t),Of(n,"TYPE","terminate"),Lh(e,n),(t=new rf(e,e.h,t,void 0)).K=2,t.v=Df(Sf(n)),n=!1,Zs.navigator&&Zs.navigator.sendBeacon&&(n=Zs.navigator.sendBeacon(t.v.toString(),"")),!n&&Zs.Image&&((new Image).src=t.v,n=!0),n||(t.g=Gh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pf(t)}Wh(e)}function Ah(e){e.g&&(Vh(e),e.g.cancel(),e.g=null)}function Oh(e){Ah(e),e.u&&(Zs.clearTimeout(e.u),e.u=null),Bh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Zs.clearTimeout(e.m),e.m=null)}function Dh(e,t){e.l.push(new Gf(e.Za++,t)),3==e.G&&Ph(e)}function Ph(e){Xf(e.i)||e.m||(e.m=!0,El(e.Ha,e),e.C=0)}function Rh(e,t){var n;n=t?t.m:e.V++;var r=Sf(e.F);Of(r,"SID",e.J),Of(r,"RID",n),Of(r,"AID",e.U),Lh(e,r),e.o&&e.s&&Sh(r,e.o,e.s),n=new rf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Mh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),eh(e.i,n),cf(n,r,t)}function Lh(e,t){e.j&&bf({},(function(e,n){Of(t,n,e)}))}function Mh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?uc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ah(l,o,"req"+c+"_")}catch(wd){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function jh(e){e.g||e.u||(e.Y=1,El(e.Ga,e),e.A=0)}function Fh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Hl(uc(e.Ga,e),zh(e,e.A)),e.A++,!0)}function Vh(e){null!=e.B&&(Zs.clearTimeout(e.B),e.B=null)}function Uh(e){e.g=new rf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Sf(e.oa);Of(t,"RID","rpc"),Of(t,"SID",e.J),Of(t,"CI",e.N?"0":"1"),Of(t,"AID",e.U),Lh(e,t),Of(t,"TYPE","xmlhttp"),e.o&&e.s&&Sh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Df(Sf(t)),n.s=null,n.U=!0,lf(n,e)}function Bh(e){null!=e.v&&(Zs.clearTimeout(e.v),e.v=null)}function qh(e,t){var n=null;if(e.g==t){Bh(e),Vh(e),e.g=null;var r=2}else{if(!Zf(e.i,t))return;n=t.D,th(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;pl(r=Ul(),new Wl(r,n,t,i)),Ph(e)}else jh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Jf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Hl(uc(e.Ha,e,t),zh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Kh(e,5);break;case 4:Kh(e,10);break;case 3:Kh(e,6);break;default:Kh(e,2)}}function zh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Kh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=uc(e.jb,e);n||(n=new If("//www.google.com/images/cleardot.gif"),Zs.location&&"http"==Zs.location.protocol||Tf(n,"https"),Df(n)),function(e,t){var n=new Ml;if(Zs.Image){var r=new Image;r.onload=sc(oh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sc(oh,n,r,"TestLoadImage: error",!1,t),r.onabort=sc(oh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sc(oh,n,r,"TestLoadImage: timeout",!1,t),Zs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Kl(2);e.G=0,e.j&&e.j.va(t),Wh(e),Oh(e)}function Wh(e){e.G=0,e.I=-1,e.j&&(0==nh(e.i).length&&0==e.l.length||(e.i.i.length=0,vc(e.l),e.l.length=0),e.j.ua())}function Hh(e,t,n){var r=function(e){return e instanceof If?Sf(e):new If(e,void 0)}(n);if(""!=r.i)t&&Cf(r,t+"."+r.i),Nf(r,r.m);else{var i=Zs.location;r=function(e,t,n,r){var i=new If(null,void 0);return e&&Tf(i,e),t&&Cf(i,t),n&&Nf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ec(e.aa,(function(e,t){Of(r,t,e)})),t=e.D,n=e.sa,t&&n&&Of(r,t,n),Of(r,"VER",e.ma),Lh(e,r),r}function Gh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ph(new uh({ib:!0})):new ph(e.qa)).L=e.H,t}function Qh(){}function Yh(){if(Ac&&!(10<=Number(zc)))throw Error("Environmental error: no available transport.")}function $h(e,t){dl.call(this),this.g=new Ch(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!mc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zh(this)}function Xh(e){ef.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jh(){tf.call(this),this.status=1}function Zh(e){this.g=e}(Ys=ph.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jl.g(),this.C=this.u?$l(this.u):$l(Jl),this.g.onreadystatechange=uc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void kh(this,a)}e=n||"";var i=new wf(this.headers);r&&bf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=gh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Zs.FormData&&e instanceof Zs.FormData,!(0<=hc(yh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Eh(this),0<this.B&&((this.K=function(e){return Ac&&Bc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=uc(this.pa,this)):this.A=Nl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){kh(this,a)}},Ys.pa=function(){"undefined"!=typeof Js&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pl(this,"timeout"),this.abort(8))},Ys.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pl(this,"complete"),pl(this,"abort"),xh(this))},Ys.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xh(this,!0)),ph.Z.M.call(this)},Ys.Fa=function(){this.s||(this.F||this.v||this.l?wh(this):this.cb())},Ys.cb=function(){wh(this)},Ys.ba=function(){try{return 2<_h(this)?this.g.status:-1}catch(Yf){return-1}},Ys.ga=function(){try{return this.g?this.g.responseText:""}catch(Yf){return""}},Ys.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dh(t)}},Ys.Da=function(){return this.m},Ys.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ys=Ch.prototype).ma=8,Ys.G=1,Ys.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ys.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new rf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Sc(n=_c(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mh(this,t,r),Of(i=Sf(this.F),"RID",e),Of(i,"CVER",22),this.D&&Of(i,"X-HTTP-Session-Id",this.D),Lh(this,i),this.o&&n&&Sh(i,this.o,n),eh(this.i,t),this.Ra&&Of(i,"TYPE","init"),this.ja?(Of(i,"$req",r),Of(i,"SID","null"),t.$=!0,cf(t,i,null)):cf(t,i,r),this.G=2}}else 3==this.G&&(e?Rh(this,e):0==this.l.length||Xf(this.i)||Rh(this))},Ys.Ga=function(){if(this.u=null,Uh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Hl(uc(this.bb,this),e)}},Ys.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kl(10),Ah(this),Uh(this))},Ys.ab=function(){null!=this.v&&(this.v=null,Ah(this),Fh(this),Kl(19))},Ys.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Kl(2)):(this.h.info("Failed to ping google.com"),Kl(1))},(Ys=Qh.prototype).xa=function(){},Ys.wa=function(){},Ys.va=function(){},Ys.ua=function(){},Ys.Oa=function(){},Yh.prototype.g=function(e,t){return new $h(e,t)},cc($h,dl),$h.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),El(uc(e.hb,e,t))),Kl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Hh(e,null,e.W),Ph(e)},$h.prototype.close=function(){Nh(this.g)},$h.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Dh(this.g,t)}else this.v?((t={}).__data__=ml(e),Dh(this.g,t)):Dh(this.g,e)},$h.prototype.M=function(){this.g.j=null,delete this.j,Nh(this.g),delete this.g,$h.Z.M.call(this)},cc(Xh,ef),cc(Jh,tf),cc(Zh,Qh),Zh.prototype.xa=function(){pl(this.g,"a")},Zh.prototype.wa=function(e){pl(this.g,new Xh(e))},Zh.prototype.va=function(e){pl(this.g,new Jh(e))},Zh.prototype.ua=function(){pl(this.g,"b")},Yh.prototype.createWebChannel=Yh.prototype.g,$h.prototype.send=$h.prototype.u,$h.prototype.open=$h.prototype.m,$h.prototype.close=$h.prototype.close,Gl.NO_ERROR=0,Gl.TIMEOUT=8,Gl.HTTP_ERROR=6,Ql.COMPLETE="complete",Xl.EventType=Zl,Zl.OPEN="a",Zl.CLOSE="b",Zl.ERROR="c",Zl.MESSAGE="d",dl.prototype.listen=dl.prototype.N,ph.prototype.listenOnce=ph.prototype.O,ph.prototype.getLastError=ph.prototype.La,ph.prototype.getLastErrorCode=ph.prototype.Da,ph.prototype.getStatus=ph.prototype.ba,ph.prototype.getResponseJson=ph.prototype.Qa,ph.prototype.getResponseText=ph.prototype.ga,ph.prototype.send=ph.prototype.ea;var ed=Xs.createWebChannelTransport=function(){return new Yh},td=Xs.getStatEventTarget=function(){return Ul()},nd=Xs.ErrorCode=Gl,rd=Xs.EventType=Ql,id=Xs.Event=Fl,ad=Xs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},od=Xs.FetchXmlHttpFactory=uh,ud=Xs.WebChannel=Xl,sd=Xs.XhrIo=ph,cd="@firebase/firestore",ld=function(){function e(t){un(this,e),this.uid=t}return cn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ld.UNAUTHENTICATED=new ld(null),ld.GOOGLE_CREDENTIALS=new ld("google-credentials-uid"),ld.FIRST_PARTY=new ld("first-party-uid"),ld.MOCK_USER=new ld("mock-user");var fd="9.6.11",hd=new es("@firebase/firestore");function dd(){return hd.logLevel}function pd(e){if(hd.logLevel<=Wu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yd);hd.debug.apply(hd,["Firestore (".concat(fd,"): ").concat(e)].concat(on(i)))}}function vd(e){if(hd.logLevel<=Wu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yd);hd.error.apply(hd,["Firestore (".concat(fd,"): ").concat(e)].concat(on(i)))}}function md(e){if(hd.logLevel<=Wu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yd);hd.warn.apply(hd,["Firestore (".concat(fd,"): ").concat(e)].concat(on(i)))}}function yd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function gd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fd,") INTERNAL ASSERTION FAILED: ")+e;throw vd(t),new Error(t)}function kd(e,t){e||gd()}function bd(e,t){return e}var wd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xd=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return cn(n)}(xu),Ed=cn((function e(){var t=this;un(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_d=cn((function e(t,n){un(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Id=function(){function e(){un(this,e)}return cn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ld.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Sd=function(){function e(t){un(this,e),this.token=t,this.changeListener=null}return cn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Td=function(){function e(t){un(this,e),this.t=t,this.currentUser=ld.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return cn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ed;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ed,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){pd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(pd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ed)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(kd("string"==typeof n.accessToken),new _d(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return kd(null===e||"string"==typeof e),new ld(e)}}]),e}(),Cd=cn((function e(t,n,r){un(this,e),this.type="FirstParty",this.user=ld.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Nd=function(){function e(t,n,r){un(this,e),this.h=t,this.l=n,this.m=r}return cn(e,[{key:"getToken",value:function(){return Promise.resolve(new Cd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ld.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ad=cn((function e(t){un(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Od=function(){function e(t){un(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return cn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&pd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,pd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):pd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(kd("string"==typeof t.token),e.p=t.token,new Ad(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Dd=function(){function e(t,n){var r=this;un(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return cn(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Pd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Dd.A=-1;var Rd=function(){function e(){un(this,e)}return cn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Pd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ld(e,t){return e<t?-1:e>t?1:0}function Md(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function jd(e){return e+"\0"}var Fd=function(){function e(t,n){if(un(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xd(wd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xd(wd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xd(wd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xd(wd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return cn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ld(this.nanoseconds,e.nanoseconds):Ld(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vd=function(){function e(t){un(this,e),this.timestamp=t}return cn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Fd(0,0))}},{key:"max",value:function(){return new e(new Fd(253402300799,999999999))}}]),e}();function Ud(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var zd=function(){function e(t,n,r){un(this,e),void 0===n?n=0:n>t.length&&gd(),void 0===r?r=t.length-n:r>t.length-n&&gd(),this.segments=t,this.offset=n,this.len=r}return cn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Kd=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new xd(wd.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,on(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zd),Wd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hd=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new xd(wd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new xd(wd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new xd(wd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new xd(wd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zd),Gd=function(){function e(t){un(this,e),this.fields=t,t.sort(Hd.comparator)}return cn(e,[{key:"covers",value:function(e){var t,n=ei(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Md(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Qd=function(e){function t(e){un(this,t),this.binaryString=e}return cn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ld(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Qd.EMPTY_BYTE_STRING=new Qd("");var Yd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $d(e){if(kd(!!e),"string"==typeof e){var t=0,n=Yd.exec(e);if(kd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xd(e.seconds),nanos:Xd(e.nanos)}}function Xd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jd(e){return"string"==typeof e?Qd.fromBase64String(e):Qd.fromUint8Array(e)}function Zd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ep(e){var t=e.mapValue.fields.__previous_value__;return Zd(t)?ep(t):t}function tp(e){var t=$d(e.mapValue.fields.__local_write_time__.timestampValue);return new Fd(t.seconds,t.nanos)}var np=cn((function e(t,n,r,i,a,o,u,s){un(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),rp=function(){function e(t,n){un(this,e),this.projectId=t,this.database=n||"(default)"}return cn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ip(e){return null==e}function ap(e){return 0===e&&1/e==-1/0}function op(e){return"number"==typeof e&&Number.isInteger(e)&&!ap(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var up=function(){function e(t){un(this,e),this.path=t}return cn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Kd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Kd.fromString(t))}},{key:"fromName",value:function(t){return new e(Kd.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Kd.emptyPath())}},{key:"comparator",value:function(e,t){return Kd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Kd(t.slice()))}}]),e}(),sp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cp={nullValue:"NULL_VALUE"};function lp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zd(e)?4:_p(e)?9:10:gd()}function fp(e,t){if(e===t)return!0;var n=lp(e);if(n!==lp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tp(e).isEqual(tp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=$d(e.timestampValue),r=$d(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Jd(e.bytesValue).isEqual(Jd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xd(e.geoPointValue.latitude)===Xd(t.geoPointValue.latitude)&&Xd(e.geoPointValue.longitude)===Xd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xd(e.integerValue)===Xd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xd(e.doubleValue),r=Xd(t.doubleValue);return n===r?ap(n)===ap(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Md(e.arrayValue.values||[],t.arrayValue.values||[],fp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ud(n)!==Ud(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fp(n[i],r[i])))return!1;return!0}(e,t);default:return gd()}}function hp(e,t){return void 0!==(e.values||[]).find((function(e){return fp(e,t)}))}function dp(e,t){if(e===t)return 0;var n=lp(e),r=lp(t);if(n!==r)return Ld(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ld(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xd(e.integerValue||e.doubleValue),r=Xd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pp(e.timestampValue,t.timestampValue);case 4:return pp(tp(e),tp(t));case 5:return Ld(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Jd(e),r=Jd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ld(n[i],r[i]);if(0!==a)return a}return Ld(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ld(Xd(e.latitude),Xd(t.latitude));return 0!==n?n:Ld(Xd(e.longitude),Xd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=dp(n[i],r[i]);if(a)return a}return Ld(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ld(r[o],a[o]);if(0!==u)return u;var s=dp(n[r[o]],i[a[o]]);if(0!==s)return s}return Ld(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gd()}}function pp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ld(e,t);var n=$d(e),r=$d(t),i=Ld(n.seconds,r.seconds);return 0!==i?i:Ld(n.nanos,r.nanos)}function vp(e){return mp(e)}function mp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=$d(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Jd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,up.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ei(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=mp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ei(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(mp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gd();var t,n}function yp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gp(e){return!!e&&"integerValue"in e}function kp(e){return!!e&&"arrayValue"in e}function bp(e){return!!e&&"nullValue"in e}function wp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xp(e){return!!e&&"mapValue"in e}function Ep(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Bd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ep(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ep(e.arrayValue.values[r]);return n}return Object.assign({},e)}function _p(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ip(e){return"nullValue"in e?cp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?yp(rp.empty(),up.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:gd()}function Sp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?yp(rp.empty(),up.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?sp:gd()}function Tp(e,t){return void 0===e?t:void 0===t||dp(e,t)>0?e:t}function Cp(e,t){return void 0===e?t:void 0===t||dp(e,t)<0?e:t}var Np=function(){function e(t){un(this,e),this.value=t}return cn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ep(t)}},{key:"setAll",value:function(e){var t=this,n=Hd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ep(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Bd(t,(function(t,n){return e[t]=n}));var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ep(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ap(e){var t=[];return Bd(e.fields,(function(e,n){var r=new Hd([e]);if(xp(n)){var i=Ap(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ei(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Gd(t)}var Op=function(){function e(t,n,r,i,a,o){un(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return cn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Np.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Np.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vd.min(),Vd.min(),Np.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Vd.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vd.min(),Np.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vd.min(),Np.empty(),2)}}]),e}(),Dp=cn((function e(t,n,r,i){un(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Pp(e){return e.fields.find((function(e){return 2===e.kind}))}function Rp(e){return e.fields.filter((function(e){return 2!==e.kind}))}Dp.UNKNOWN_ID=-1;var Lp=cn((function e(t,n){un(this,e),this.fieldPath=t,this.kind=n})),Mp=function(){function e(t,n){un(this,e),this.sequenceNumber=t,this.offset=n}return cn(e,null,[{key:"empty",value:function(){return new e(0,Vp.min())}}]),e}();function jp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vd.fromTimestamp(1e9===r?new Fd(n+1,0):new Fd(n,r));return new Vp(i,up.empty(),t)}function Fp(e){return new Vp(e.readTime,e.key,-1)}var Vp=function(){function e(t,n,r){un(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return cn(e,null,[{key:"min",value:function(){return new e(Vd.min(),up.empty(),-1)}},{key:"max",value:function(){return new e(Vd.max(),up.empty(),-1)}}]),e}();function Up(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=up.comparator(e.documentKey,t.documentKey))?n:Ld(e.largestBatchId,t.largestBatchId)}var Bp=cn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;un(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function qp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bp(e,t,n,r,i,a,o)}function zp(e){var t=bd(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+vp(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ip(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vp(e)})).join(",")),t.P=n}return t.P}function Kp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ov(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!fp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sv(e.startAt,t.startAt)&&sv(e.endAt,t.endAt)}function Wp(e){return up.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hp(e,t){return e.filters.filter((function(e){return e instanceof Yp&&e.field.isEqual(t)}))}function Gp(e,t,n){var r,i,a=!0,o=ei(Hp(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=Ip(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=cp}Tp(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Tp(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function Qp(e,t,n){var r,i,a=!0,o=ei(Hp(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=Sp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=sp}Cp(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Cp(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var Yp=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return cn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(dp(t,this.value)):null!==t&&lp(this.value)===lp(t)&&this.v(dp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gd()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new $p(e,t,r):"array-contains"===t?new ev(e,r):"in"===t?new tv(e,r):"not-in"===t?new nv(e,r):"array-contains-any"===t?new rv(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Xp(e,n):new Jp(e,n)}}]),n}(function(){return cn((function e(){un(this,e)}))}()),$p=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this,e,r,i)).key=up.fromName(i.referenceValue),a}return cn(n,[{key:"matches",value:function(e){var t=up.comparator(e.key,this.key);return this.v(t)}}]),n}(Yp),Xp=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,"in",r)).keys=Zp("in",r),i}return cn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Yp),Jp=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,"not-in",r)).keys=Zp("not-in",r),i}return cn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Yp);function Zp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return up.fromName(e.referenceValue)}))}var ev=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"array-contains",r)}return cn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return kp(t)&&hp(t.arrayValue,this.value)}}]),n}(Yp),tv=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"in",r)}return cn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hp(this.value.arrayValue,t)}}]),n}(Yp),nv=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"not-in",r)}return cn(n,[{key:"matches",value:function(e){if(hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hp(this.value.arrayValue,t)}}]),n}(Yp),rv=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"array-contains-any",r)}return cn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hp(t.value.arrayValue,e)}))}}]),n}(Yp),iv=cn((function e(t,n){un(this,e),this.position=t,this.inclusive=n})),av=cn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";un(this,e),this.field=t,this.dir=n}));function ov(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?up.comparator(up.fromName(o.referenceValue),n.key):dp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fp(e.position[n],t.position[n]))return!1;return!0}var cv=cn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;un(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function lv(e,t,n,r,i,a,o,u){return new cv(e,t,n,r,i,a,o,u)}function fv(e){return new cv(e)}function hv(e){return!ip(e.limit)&&"F"===e.limitType}function dv(e){return!ip(e.limit)&&"L"===e.limitType}function pv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vv(e){var t,n=ei(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function mv(e){return null!==e.collectionGroup}function yv(e){var t=bd(e);if(null===t.D){t.D=[];var n=vv(t),r=pv(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new av(n)),t.D.push(new av(Hd.keyField(),"asc"));else{var i,a=!1,o=ei(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new av(Hd.keyField(),s))}}}return t.D}function gv(e){var t=bd(e);if(!t.C)if("F"===t.limitType)t.C=qp(t.path,t.collectionGroup,yv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ei(yv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new av(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new iv(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new iv(t.startAt.position,!t.startAt.inclusive):null;t.C=qp(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function kv(e,t,n){return new cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bv(e,t){return Kp(gv(e),gv(t))&&e.limitType===t.limitType}function wv(e){return"".concat(zp(gv(e)),"|lt:").concat(e.limitType)}function xv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vp(t.value));var t})).join(", "),"]")),ip(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vp(e)})).join(",")),"Target(".concat(t,")")}(gv(e)),"; limitType=").concat(e.limitType,")")}function Ev(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):up.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ei(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ei(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=uv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yv(e),t))&&!(e.endAt&&!function(e,t,n){var r=uv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yv(e),t))}(e,t)}function _v(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Iv(e){return function(t,n){var r,i=!1,a=ei(yv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Sv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Sv(e,t,n){var r=e.field.isKeyField()?up.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dp(r,i):gd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gd()}}function Tv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(t)?"-0":t}}function Cv(e){return{integerValue:""+e}}function Nv(e,t){return op(t)?Cv(t):Tv(e,t)}var Av=cn((function e(){un(this,e),this._=void 0}));function Ov(e,t,n){return e instanceof Rv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Lv?Mv(e,t):e instanceof jv?Fv(e,t):function(e,t){var n=Pv(e,t),r=Uv(n)+Uv(e.k);return gp(n)&&gp(e.k)?Cv(r):Tv(e.M,r)}(e,t)}function Dv(e,t,n){return e instanceof Lv?Mv(e,t):e instanceof jv?Fv(e,t):n}function Pv(e,t){return e instanceof Vv?gp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Rv=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n)}(Av),Lv=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).elements=e,r}return cn(n)}(Av);function Mv(e,t){var n,r=Bv(t),i=ei(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jv=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).elements=e,r}return cn(n)}(Av);function Fv(e,t){var n,r=Bv(t),i=ei(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Vv=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).M=e,i.k=r,i}return cn(n)}(Av);function Uv(e){return Xd(e.integerValue||e.doubleValue)}function Bv(e){return kp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var qv=cn((function e(t,n){un(this,e),this.field=t,this.transform=n}));var zv=cn((function e(t,n){un(this,e),this.version=t,this.transformResults=n})),Kv=function(){function e(t,n){un(this,e),this.updateTime=t,this.exists=n}return cn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Wv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Hv=cn((function e(){un(this,e)}));function Gv(e,t,n){e instanceof Jv?function(e,t,n){var r=e.value.clone(),i=tm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zv?function(e,t,n){if(Wv(e.precondition,t)){var r=tm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(em(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qv(e,t,n){e instanceof Jv?function(e,t,n){if(Wv(e.precondition,t)){var r=e.value.clone(),i=nm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Zv?function(e,t,n){if(Wv(e.precondition,t)){var r=nm(e.fieldTransforms,n,t),i=t.data;i.setAll(em(e)),i.setAll(r),t.convertToFoundDocument(Xv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Wv(e.precondition,t)&&t.convertToNoDocument(Vd.min())}(e,t)}function Yv(e,t){var n,r=null,i=ei(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Pv(a.transform,o||null);null!=u&&(null==r&&(r=Np.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function $v(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Md(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lv&&t instanceof Lv||e instanceof jv&&t instanceof jv?Md(e.elements,t.elements,fp):e instanceof Vv&&t instanceof Vv?fp(e.k,t.k):e instanceof Rv&&t instanceof Rv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xv(e){return e.isFoundDocument()?e.version:Vd.min()}var Jv=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return un(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return cn(n)}(Hv),Zv=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return un(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return cn(n)}(Hv);function em(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function tm(e,t,n){var r=new Map;kd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Dv(o,u,n[i]))}return r}function nm(e,t,n){var r,i=new Map,a=ei(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ov(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var rm,im,am=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return cn(n)}(Hv),om=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return cn(n)}(Hv),um=cn((function e(t){un(this,e),this.count=t}));function sm(e){switch(e){default:return gd();case wd.CANCELLED:case wd.UNKNOWN:case wd.DEADLINE_EXCEEDED:case wd.RESOURCE_EXHAUSTED:case wd.INTERNAL:case wd.UNAVAILABLE:case wd.UNAUTHENTICATED:return!1;case wd.INVALID_ARGUMENT:case wd.NOT_FOUND:case wd.ALREADY_EXISTS:case wd.PERMISSION_DENIED:case wd.FAILED_PRECONDITION:case wd.ABORTED:case wd.OUT_OF_RANGE:case wd.UNIMPLEMENTED:case wd.DATA_LOSS:return!0}}function cm(e){if(void 0===e)return vd("GRPC error has no .code"),wd.UNKNOWN;switch(e){case rm.OK:return wd.OK;case rm.CANCELLED:return wd.CANCELLED;case rm.UNKNOWN:return wd.UNKNOWN;case rm.DEADLINE_EXCEEDED:return wd.DEADLINE_EXCEEDED;case rm.RESOURCE_EXHAUSTED:return wd.RESOURCE_EXHAUSTED;case rm.INTERNAL:return wd.INTERNAL;case rm.UNAVAILABLE:return wd.UNAVAILABLE;case rm.UNAUTHENTICATED:return wd.UNAUTHENTICATED;case rm.INVALID_ARGUMENT:return wd.INVALID_ARGUMENT;case rm.NOT_FOUND:return wd.NOT_FOUND;case rm.ALREADY_EXISTS:return wd.ALREADY_EXISTS;case rm.PERMISSION_DENIED:return wd.PERMISSION_DENIED;case rm.FAILED_PRECONDITION:return wd.FAILED_PRECONDITION;case rm.ABORTED:return wd.ABORTED;case rm.OUT_OF_RANGE:return wd.OUT_OF_RANGE;case rm.UNIMPLEMENTED:return wd.UNIMPLEMENTED;case rm.DATA_LOSS:return wd.DATA_LOSS;default:return gd()}}(im=rm||(rm={}))[im.OK=0]="OK",im[im.CANCELLED=1]="CANCELLED",im[im.UNKNOWN=2]="UNKNOWN",im[im.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",im[im.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",im[im.NOT_FOUND=5]="NOT_FOUND",im[im.ALREADY_EXISTS=6]="ALREADY_EXISTS",im[im.PERMISSION_DENIED=7]="PERMISSION_DENIED",im[im.UNAUTHENTICATED=16]="UNAUTHENTICATED",im[im.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",im[im.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",im[im.ABORTED=10]="ABORTED",im[im.OUT_OF_RANGE=11]="OUT_OF_RANGE",im[im.UNIMPLEMENTED=12]="UNIMPLEMENTED",im[im.INTERNAL=13]="INTERNAL",im[im.UNAVAILABLE=14]="UNAVAILABLE",im[im.DATA_LOSS=15]="DATA_LOSS";var lm=function(){function e(t,n){un(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return cn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=$t(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Bd(this.inner,(function(t,n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=$t(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return qd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),fm=function(){function e(t,n){un(this,e),this.comparator=t,this.root=n||dm.EMPTY}return cn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new hm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new hm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new hm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new hm(this.root,e,this.comparator,!0)}}]),e}(),hm=function(){function e(t,n,r,i){un(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return cn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),dm=function(){function e(t,n,r,i,a){un(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return cn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gd();if(this.right.isRed())throw gd();var e=this.left.check();if(e!==this.right.check())throw gd();return e+(this.isRed()?0:1)}}]),e}();dm.EMPTY=null,dm.RED=!0,dm.BLACK=!1,dm.EMPTY=new(function(){function e(){un(this,e),this.size=0}return cn(e,[{key:"key",get:function(){throw gd()}},{key:"value",get:function(){throw gd()}},{key:"color",get:function(){throw gd()}},{key:"left",get:function(){throw gd()}},{key:"right",get:function(){throw gd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new dm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var pm=function(){function e(t){un(this,e),this.comparator=t,this.data=new fm(this.comparator)}return cn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new vm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new vm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),vm=function(){function e(t){un(this,e),this.iter=t}return cn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function mm(e){return e.hasNext()?e.getNext():void 0}var ym=new fm(up.comparator);function gm(){return ym}var km=new fm(up.comparator);function bm(){return km}function wm(){return new lm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var xm=new fm(up.comparator),Em=new pm(up.comparator);function _m(){for(var e=Em,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Im=new pm(Ld);function Sm(){return Im}var Tm=function(){function e(t,n,r,i,a){un(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return cn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Cm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Vd.min(),r,Sm(),gm(),_m())}}]),e}(),Cm=function(){function e(t,n,r,i,a){un(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return cn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Qd.EMPTY_BYTE_STRING,n,_m(),_m(),_m())}}]),e}(),Nm=cn((function e(t,n,r,i){un(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Am=cn((function e(t,n){un(this,e),this.targetId=t,this.$=n})),Om=cn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;un(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Dm=function(){function e(){un(this,e),this.B=0,this.L=Lm(),this.U=Qd.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return cn(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=_m(),t=_m(),n=_m();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gd()}})),new Cm(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Lm()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Pm=function(){function e(t){un(this,e),this.nt=t,this.st=new Map,this.it=gm(),this.rt=Rm(),this.ot=new pm(Ld)}return cn(e,[{key:"ut",value:function(e){var t,n=ei(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=ei(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:gd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Wp(i))if(0===n){var a=new up(i.path);this.ct(t,a,Op.newNoDocument(a,Vd.min()))}else kd(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Wp(a.target)){var o=new up(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Op.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=_m();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Tm(e,n,this.ot,this.it,r);return this.it=gm(),this.rt=Rm(),this.ot=new pm(Ld),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Dm,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new pm(Ld),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||pd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Dm),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Rm(){return new fm(up.comparator)}function Lm(){return new fm(up.comparator)}var Mm={asc:"ASCENDING",desc:"DESCENDING"},jm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fm=cn((function e(t,n){un(this,e),this.databaseId=t,this.N=n}));function Vm(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Um(e,t){return e.N?t.toBase64():t.toUint8Array()}function Bm(e,t){return Vm(e,t.toTimestamp())}function qm(e){return kd(!!e),Vd.fromTimestamp(function(e){var t=$d(e);return new Fd(t.seconds,t.nanos)}(e))}function zm(e,t){return function(e){return new Kd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Km(e){var t=Kd.fromString(e);return kd(dy(t)),t}function Wm(e,t){return zm(e.databaseId,t.path)}function Hm(e,t){var n=Km(t);if(n.get(1)!==e.databaseId.projectId)throw new xd(wd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xd(wd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new up($m(n))}function Gm(e,t){return zm(e.databaseId,t)}function Qm(e){var t=Km(e);return 4===t.length?Kd.emptyPath():$m(t)}function Ym(e){return new Kd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $m(e){return kd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xm(e,t,n){return{name:Wm(e,t),fields:n.value.mapValue.fields}}function Jm(e,t,n){var r=Hm(e,t.name),i=qm(t.updateTime),a=new Np({mapValue:{fields:t.fields}}),o=Op.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Zm(e,t){return"found"in t?function(e,t){kd(!!t.found),t.found.name,t.found.updateTime;var n=Hm(e,t.found.name),r=qm(t.found.updateTime),i=new Np({mapValue:{fields:t.found.fields}});return Op.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){kd(!!t.missing),kd(!!t.readTime);var n=Hm(e,t.missing),r=qm(t.readTime);return Op.newNoDocument(n,r)}(e,t):gd()}function ey(e,t){var n;if(t instanceof Jv)n={update:Xm(e,t.key,t.value)};else if(t instanceof am)n={delete:Wm(e,t.key)};else if(t instanceof Zv)n={update:Xm(e,t.key,t.data),updateMask:hy(t.fieldMask)};else{if(!(t instanceof om))return gd();n={verify:Wm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Rv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vv)return{fieldPath:t.field.canonicalString(),increment:n.k};throw gd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gd()}(e,t.precondition)),n}function ty(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Kv.updateTime(qm(e.updateTime)):void 0!==e.exists?Kv.exists(e.exists):Kv.none()}(t.currentDocument):Kv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)kd("REQUEST_TIME"===t.setToServerValue),n=new Rv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Lv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jv(i)}else"increment"in t?n=new Vv(e,t.increment):gd();var a=Hd.fromServerFormat(t.fieldPath);return new qv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Hm(e,t.update.name),a=new Np({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Gd(t.map((function(e){return Hd.fromServerFormat(e)})))}(t.updateMask);return new Zv(i,a,o,n,r)}return new Jv(i,a,n,r)}if(t.delete){var u=Hm(e,t.delete);return new am(u,n)}if(t.verify){var s=Hm(e,t.verify);return new om(s,n)}return gd()}function ny(e,t){return{documents:[Gm(e,t.path)]}}function ry(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(wp(e.value))return{unaryFilter:{field:sy(e.field),op:"IS_NAN"}};if(bp(e.value))return{unaryFilter:{field:sy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wp(e.value))return{unaryFilter:{field:sy(e.field),op:"IS_NOT_NAN"}};if(bp(e.value))return{unaryFilter:{field:sy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sy(e.field),op:uy(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sy(e.field),direction:oy(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ip(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function iy(e){var t=Qm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){kd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ay(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new av(cy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ip(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new iv(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new iv(n,t)}(n.endAt)),lv(t,i,u,o,s,"F",c,l)}function ay(e){return e?void 0!==e.unaryFilter?[fy(e)]:void 0!==e.fieldFilter?[ly(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ay(e)})).reduce((function(e,t){return e.concat(t)})):gd():[]}function oy(e){return Mm[e]}function uy(e){return jm[e]}function sy(e){return{fieldPath:e.canonicalString()}}function cy(e){return Hd.fromServerFormat(e.fieldPath)}function ly(e){return Yp.create(cy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gd()}}(e.fieldFilter.op),e.fieldFilter.value)}function fy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cy(e.unaryFilter.field);return Yp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cy(e.unaryFilter.field);return Yp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cy(e.unaryFilter.field);return Yp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cy(e.unaryFilter.field);return Yp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gd()}}function hy(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function dy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function py(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=my(t)),t=vy(e.get(n),t);return my(t)}function vy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function my(e){return e+"\x01\x01"}function yy(e){var t=e.length;if(kd(t>=2),2===t)return kd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Kd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&gd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:gd()}a=o+2}return new Kd(r)}var gy=["userId","batchId"];function ky(e,t){return[e,py(t)]}function by(e,t,n){return[e,py(t),n]}var wy={},xy=["prefixPath","collectionGroup","readTime","documentId"],Ey=["prefixPath","collectionGroup","documentId"],_y=["collectionGroup","readTime","prefixPath","documentId"],Iy=["canonicalId","targetId"],Sy=["targetId","path"],Ty=["path","targetId"],Cy=["collectionId","parent"],Ny=["indexId","uid"],Ay=["uid","sequenceNumber"],Oy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dy=["indexId","uid","orderedDocumentKey"],Py=["userId","collectionPath","documentId"],Ry=["userId","collectionPath","largestBatchId"],Ly=["userId","collectionGroup","largestBatchId"],My=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),jy=[].concat(on(My),["documentOverlays"]),Fy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vy=[].concat(Fy,["indexConfiguration","indexState","indexEntries"]),Uy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",By=function(){function e(){un(this,e),this.onCommittedListeners=[]}return cn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),qy=function(){function e(t){var n=this;un(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return cn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ei(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),zy=function(){function e(t,n){var r=this;un(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Ed,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Hy(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Xy(e.target.error);r.At.reject(new Hy(t,n))}}return cn(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(pd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Qy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Hy(n,t)}}}]),e}(),Ky=function(){function e(t,n,r){un(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(vu())&&vd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return cn(e,[{key:"Nt",value:function(){var e=Po(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return pd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Hy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xd(wd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new xd(wd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Hy(t,n))},i.onupgradeneeded=function(e){pd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){pd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Po(Lo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Lo().mark((function e(){var n,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=zy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),qy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,pd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return pd("SimpleDb","Removing database:",e),Yy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!wu())return!1;if(e.St())return!0;var t=vu(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Wy=function(){function e(t){un(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return cn(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Yy(this.Ft.delete())}}]),e}(),Hy=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,wd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return cn(n)}(xd);function Gy(e){return"IndexedDbTransactionError"===e.name}var Qy=function(){function e(t){un(this,e),this.store=t}return cn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(pd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yy(n)}},{key:"add",value:function(e){return pd("SimpleDb","ADD",this.store.name,e,e),Yy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Yy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return pd("SimpleDb","DELETE",this.store.name,e),Yy(this.store.delete(e))}},{key:"count",value:function(){return pd("SimpleDb","COUNT",this.store.name),Yy(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new qy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new qy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){pd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new qy((function(n,r){t.onerror=function(e){var t=Xy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new qy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Wy(i),o=t(i.primaryKey,i.value,a);if(o instanceof qy){var u=o.catch((function(e){return a.done(),qy.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return qy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Yy(e){return new qy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Xy(e.target.error);n(t)}}))}var $y=!1;function Xy(e){var t=Ky.Vt(vu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return $y||($y=!0,setTimeout((function(){throw r}),0)),r}}return e}var Jy=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return cn(n)}(By);function Zy(e,t){var n=bd(e);return Ky.xt(n.Ht,t)}var eg=function(){function e(t,n,r,i){un(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return cn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Gv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ei(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Qv(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ei(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Qv(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),_m())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Md(this.mutations,e.mutations,(function(e,t){return $v(e,t)}))&&Md(this.baseMutations,e.baseMutations,(function(e,t){return $v(e,t)}))}}]),e}(),tg=function(){function e(t,n,r,i){un(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return cn(e,null,[{key:"from",value:function(t,n,r){kd(t.mutations.length===r.length);for(var i=xm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ng=function(){function e(t,n){un(this,e),this.largestBatchId=t,this.mutation=n}return cn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),rg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vd.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qd.EMPTY_BYTE_STRING;un(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return cn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ig=cn((function e(t){un(this,e),this.Jt=t}));function ag(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:og(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Wm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Vm(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ug(t.version)};else{if(!t.isUnknownDocument())return gd();r.unknownDocument={path:n.path.toArray(),version:ug(t.version)}}return r}function og(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ug(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sg(e){var t=new Fd(e.seconds,e.nanoseconds);return Vd.fromTimestamp(t)}function cg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ty(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ty(e.Jt,t)})),u=Fd.fromMillis(t.localWriteTimeMs);return new eg(t.batchId,u,n,o)}function lg(e){var t,n,r=sg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?sg(e.lastLimboFreeSnapshotVersion):Vd.min();return void 0!==e.query.documents?(kd(1===(n=e.query).documents.length),t=gv(fv(Qm(n.documents[0])))):t=function(e){return gv(iy(e))}(e.query),new rg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qd.fromBase64String(e.resumeToken))}function fg(e,t){var n,r=ug(t.snapshotVersion),i=ug(t.lastLimboFreeSnapshotVersion);n=Wp(t.target)?ny(e.Jt,t.target):ry(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function hg(e){var t=iy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kv(t,t.limit,"L"):t}function dg(e,t){return new ng(t.largestBatchId,ty(e.Jt,t.overlayMutation))}function pg(e,t){var n=t.path.lastSegment();return[e,py(t.path.popLast()),n]}var vg=function(){function e(){un(this,e)}return cn(e,[{key:"getBundleMetadata",value:function(e,t){return mg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:sg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mg(e).put({bundleId:(n=t).id,createTime:ug(qm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:hg(t.bundledQuery),readTime:sg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yg(e).put(function(e){return{name:e.name,readTime:ug(qm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mg(e){return Zy(e,"bundles")}function yg(e){return Zy(e,"namedQueries")}var gg=function(){function e(t,n){un(this,e),this.M=t,this.userId=n}return cn(e,[{key:"getOverlay",value:function(e,t){var n=this;return kg(e).get(pg(this.userId,t)).next((function(e){return e?dg(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ng(t,a);i.push(r.Xt(e,o))})),qy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(py(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(kg(e).Qt("collectionPathOverlayIndex",i))})),qy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=wm(),a=py(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kg(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=dg(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=wm(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kg(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=dg(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return kg(e).put(function(e,t,n){var r=$t(pg(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ey(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function kg(e){return Zy(e,"documentOverlays")}var bg=function(){function e(){un(this,e)}return cn(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Xd(e.integerValue));else if("doubleValue"in e){var n=Xd(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),ap(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Jd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?_p(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gd()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),up.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function wg(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=wg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bg.fe=new bg;var Eg=function(){function e(){un(this,e),this.buffer=new Uint8Array(1024),this.position=0}return cn(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=xg(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=xg(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),_g=function(){function e(t){un(this,e),this.De=t}return cn(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),Ig=function(){function e(t){un(this,e),this.De=t}return cn(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Sg=function(){function e(){un(this,e),this.De=new Eg,this.Ce=new _g(this.De),this.xe=new Ig(this.De)}return cn(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Tg=function(){function e(t,n,r,i){un(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return cn(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Cg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ng(e.arrayValue,t.arrayValue))?n:0!==(n=Ng(e.directionalValue,t.directionalValue))?n:up.comparator(e.documentKey,t.documentKey)}function Ng(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ag=function(){function e(t){un(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ei(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return cn(e,[{key:"$e",value:function(e){var t=Pp(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Rp(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ei(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Og=function(){function e(){un(this,e),this.qe=new Dg}return cn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),qy.resolve()}},{key:"getCollectionParents",value:function(e,t){return qy.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return qy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return qy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return qy.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return qy.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return qy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return qy.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return qy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return qy.resolve()}}]),e}(),Dg=function(){function e(){un(this,e),this.index={}}return cn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pm(Kd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new pm(Kd.comparator)).toArray()}}]),e}(),Pg=new Uint8Array(0),Rg=function(){function e(t,n){un(this,e),this.user=t,this.databaseId=n,this.Ke=new Dg,this.Ge=new lm((function(e){return zp(e)}),(function(e,t){return Kp(e,t)})),this.uid=t.uid||""}return cn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:py(i)};return Lg(e).put(a)}return qy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[jd(t),""],!1,!0);return Lg(e).qt(r).next((function(e){var r,i=ei(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(yy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=jg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=jg(e),r=Fg(e),i=Mg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Mg(e),i=!0,a=new Map;return qy.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=_m(),o=[];return qy.forEach(a,(function(i,a){var u;pd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(zp(t)));var s=function(e,t){var n=Pp(t);if(void 0===n)return null;var r,i=ei(Hp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ei(Rp(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ei(Hp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ei(Rp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Gp(e,o.fieldPath,e.startAt):Qp(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new iv(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ei(Rp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qp(e,o.fieldPath,e.endAt):Gp(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new iv(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return qy.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=up.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return qy.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Pg,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,on(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Tg(e,up.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Tg(e,up.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Tg(e,up.empty(),Pg,Pg)}},{key:"getFieldIndex",value:function(e,t){var n=new Ag(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Sg,i=ei(Rp(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);bg.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Sg;return bg.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Sg;return bg.fe.Zt(yp(this.databaseId,t),n.Ne(function(e){var t=Rp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Sg);var i,a=0,o=ei(Rp(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ei(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&kp(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);bg.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=on(e),a=[],o=ei(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ei(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Sg;f.seed(l.Se()),bg.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Yp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=jg(e),i=Fg(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return qy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Mp(t.sequenceNumber,new Vp(sg(t.readTime),new up(yy(t.documentKey)),t.largestBatchId)):Mp.empty(),r=e.fields.map((function(e){var t=$t(e,2),n=t[0],r=t[1];return new Lp(Hd.fromServerFormat(n),r)}));return new Dp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ld(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=jg(e),a=Fg(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return qy.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ug(r.readTime),documentKey:py(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return qy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?qy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),qy.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?qy.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Mg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Mg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Mg(e),i=new pm(Cg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Tg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new pm(Cg),r=this.Ze(t,e);if(null==r)return n;var i=Pp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(kp(a)){var o,u=ei(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Tg(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Tg(t.indexId,e.key,Pg,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;pd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=mm(a),s=mm(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=mm(o)):l?(i(u),u=mm(a)):(u=mm(a),s=mm(o))}}(r,i,Cg,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),qy.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Fg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Cg(e,t)})).filter((function(e,t,n){return!t||0!==Cg(e,n[t-1])}));var r=[];r.push(e);var i,a=ei(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Cg(o,e),s=Cg(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Pg,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Pg,[]]));return c}}]),e}();function Lg(e){return Zy(e,"collectionParents")}function Mg(e){return Zy(e,"indexEntries")}function jg(e){return Zy(e,"indexConfiguration")}function Fg(e){return Zy(e,"indexState")}var Vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ug=function(){function e(t,n,r){un(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return cn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Bg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){kd(1===u)})));var c,l=[],f=ei(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=by(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return qy.waitFor(a).next((function(){return l}))}function qg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gd();t=e.noDocument}return JSON.stringify(t).length}Ug.DEFAULT_COLLECTION_PERCENTILE=10,Ug.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ug.DEFAULT=new Ug(41943040,Ug.DEFAULT_COLLECTION_PERCENTILE,Ug.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ug.DISABLED=new Ug(-1,0,0);var zg=function(){function e(t,n,r,i){un(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return cn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wg(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Hg(e),o=Wg(e);return o.add({}).next((function(u){kd("number"==typeof u);var s,c=new eg(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ey(e.Jt,t)})),i=n.mutations.map((function(t){return ey(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new pm((function(e,t){return Ld(e.canonicalString(),t.canonicalString())})),d=ei(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=by(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,wy))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),qy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Wg(e).get(t).next((function(e){return e?(kd(e.userId===n.userId),cg(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?qy.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Wg(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(kd(t.batchId>=r),a=cg(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wg(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wg(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return cg(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ky(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Hg(e).Wt({range:i},(function(r,i,o){var u=$t(r,3),s=u[0],c=u[1],l=u[2],f=yy(c);if(s===n.userId&&t.path.isEqual(f))return Wg(e).get(l).next((function(e){if(!e)throw gd();kd(e.userId===n.userId),a.push(cg(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pm(Ld),i=[];return t.forEach((function(t){var a=ky(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Hg(e).Wt({range:o},(function(e,i,a){var o=$t(e,3),u=o[0],s=o[1],c=o[2],l=yy(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),qy.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ky(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new pm(Ld);return Hg(e).Wt({range:o},(function(e,t,a){var o=$t(e,3),s=o[0],c=o[1],l=o[2],f=yy(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Wg(e).get(t).next((function(e){if(null===e)throw gd();kd(e.userId===n.userId),r.push(cg(n.M,e))})))})),qy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Bg(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),qy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return qy.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Hg(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=yy(e[1]);i.push(a)}else r.done()})).next((function(){kd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Kg(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Gg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return kd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Kg(e,t,n){var r=ky(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Hg(e).Wt({range:a,jt:!0},(function(e,n,r){var a=$t(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Wg(e){return Zy(e,"mutations")}function Hg(e){return Zy(e,"documentMutations")}function Gg(e){return Zy(e,"mutationQueues")}var Qg=function(){function e(t){un(this,e),this.mn=t}return cn(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Yg=function(){function e(t,n){un(this,e),this.referenceDelegate=t,this.M=n}return cn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Qg(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Vd.fromTimestamp(new Fd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return $g(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return kd(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return $g(e).Wt((function(o,u){var s=lg(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return qy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return $g(e).Wt((function(e,n){var r=lg(n);t(r)}))}},{key:"pn",value:function(e){return Xg(e).get("targetGlobalKey").next((function(e){return kd(null!==e),e}))}},{key:"In",value:function(e,t){return Xg(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return $g(e).put(fg(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=zp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return $g(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=lg(n);Kp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Jg(e);return t.forEach((function(t){var o=py(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),qy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Jg(e);return qy.forEach(t,(function(t){var a=py(t.path);return qy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Jg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jg(e),i=_m();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=yy(e[1]),a=new up(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=py(t.path),r=IDBKeyRange.bound([n],[jd(n)],!1,!0),i=0;return Jg(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=$t(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return $g(e).get(t).next((function(e){return e?lg(e):null}))}}]),e}();function $g(e){return Zy(e,"targets")}function Xg(e){return Zy(e,"targetGlobal")}function Jg(e){return Zy(e,"targetDocuments")}function Zg(e){return ek.apply(this,arguments)}function ek(){return ek=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wd.FAILED_PRECONDITION&&t.message===Uy){e.next=2;break}throw t;case 2:pd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t){var n=$t(e,2),r=n[0],i=n[1],a=$t(t,2),o=a[0],u=a[1],s=Ld(r,o);return 0===s?Ld(i,u):s}var nk=function(){function e(t){un(this,e),this.An=t,this.buffer=new pm(tk),this.Rn=0}return cn(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rk=function(){function e(t,n){un(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return cn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;pd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Po(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Gy(n.t0)){n.next=12;break}pd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Zg(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ik=function(){function e(t,n){un(this,e),this.Dn=t,this.params=n}return cn(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return qy.resolve(Dd.A);var r=new nk(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pd("LruGarbageCollector","Garbage collection skipped; disabled"),qy.resolve(Vg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Vg):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),dd()<=Wu.DEBUG&&pd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),qy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ak=function(){function e(t,n){un(this,e),this.db=t,this.garbageCollector=function(e,t){return new ik(e,t)}(this,n)}return cn(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ok(e,n)}},{key:"removeReference",value:function(e,t,n){return ok(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ok(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Gg(e).zt((function(r){return Kg(e,r,t).next((function(e){return e&&(n=!0),qy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vd.min()),Jg(e).delete([0,py(o.path)])}))}));i.push(s)}})).next((function(){return qy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ok(e,t)}},{key:"Mn",value:function(e,t){var n,r=Jg(e),i=Dd.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=$t(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Dd.A&&t(new up(yy(n)),i),i=s,n=u):i=Dd.A})).next((function(){i!==Dd.A&&t(new up(yy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ok(e,t){return Jg(e).put(function(e,t){return{targetId:0,path:py(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var uk=function(){function e(){un(this,e),this.changes=new lm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return cn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Op.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?qy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),sk=function(){function e(t){un(this,e),this.M=t}return cn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return fk(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return fk(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],og(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Op.newInvalidDocument(t);return fk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(hk(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Op.newInvalidDocument(t)};return fk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(hk(t))},(function(e,i){r={document:n.$n(t,i),size:qg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=gm();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=gm(),i=new fm(up.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,qg(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return qy.resolve();var r=new pm(pk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(hk(r.first()),hk(r.last())),a=r.getIterator(),o=a.getNext();return fk(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=up.fromSegments([].concat(on(t.prefixPath),[t.collectionGroup,t.documentId]));o&&pk(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(hk(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),og(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fk(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=gm(),i=ei(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(up.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=gm(),o=dk(t,n),u=dk(t,Vp.max());return fk(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(up.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ck(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return lk(e).get("remoteDocumentGlobalKey").next((function(e){return kd(!!e),e}))}},{key:"Fn",value:function(e,t){return lk(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Jm(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=up.fromSegments(t.noDocument.path),i=sg(t.noDocument.readTime);n=Op.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return gd();var a=up.fromSegments(t.unknownDocument.path),o=sg(t.unknownDocument.version);n=Op.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Fd(e[0],e[1]);return Vd.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Vd.min()))return n}return Op.newInvalidDocument(e)}}]),e}(),ck=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new lm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return cn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new pm((function(e,t){return Ld(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ag(t.Kn.M,o);i=i.add(a.path.popLast());var c=qg(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ag(t.Kn.M,o.convertToNoDocument(Vd.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),qy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(uk);function lk(e){return Zy(e,"remoteDocumentGlobal")}function fk(e){return Zy(e,"remoteDocumentsV14")}function hk(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dk(e,t){var n=t.documentKey.path.toArray();return[e,og(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ld(n[a],r[a]))return i;return(i=Ld(n.length,r.length))||((i=Ld(n[n.length-2],r[r.length-2]))||Ld(n[n.length-1],r[r.length-1]))}var vk=function(){function e(t){un(this,e),this.M=t}return cn(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new zy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gy,{unique:!0}),e.createObjectStore("documentMutations")}(e),mk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=qy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),mk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gy,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return qy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Py});t.createIndex("collectionPathOverlayIndex",Ry,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ly,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:xy});t.createIndex("documentKeyIndex",Ey),t.createIndex("collectionGroupIndex",_y)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ny}).createIndex("sequenceNumberIndex",Ay,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Oy}).createIndex("documentKeyIndex",Dy,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=qg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return qy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return qy.forEach(r,(function(r){kd(r.userId===n.userId);var i=cg(t.M,r);return Bg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Kd(n),o=function(e){return[0,py(e)]}(a);r.push(t.get(o).next((function(n){return n?qy.resolve():function(n){return t.put({targetId:0,path:py(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return qy.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Cy});var n=t.store("collectionParents"),r=new Dg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:py(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Kd(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=$t(e,3),r=(n[0],n[1]),a=(n[2],yy(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=lg(r),a=fg(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new up(Kd.fromString(i.document.name).popFirst(5)):i.noDocument?up.fromSegments(i.noDocument.path):i.unknownDocument?up.fromSegments(i.unknownDocument.path):gd()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return qy.waitFor(r)}))}}]),e}();function mk(e){e.createObjectStore("targetDocuments",{keyPath:Sy}).createIndex("documentTargetsIndex",Ty,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Iy,{unique:!0}),e.createObjectStore("targetGlobal")}var yk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gk=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(un(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new xd(wd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ak(this,i),this.hs=n+"main",this.M=new ig(s),this.ls=new Ky(this.hs,this.ts,new vk(this.M)),this.fs=new Yg(this.referenceDelegate,this.M),this.ds=function(e){return new sk(e)}(this.M),this._s=new vg,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&vd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return cn(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xd(wd.FAILED_PRECONDITION,yk);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Dd(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Po(Lo().mark((function n(r){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Po(Lo().mark((function t(n){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bk(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(Gy(t))return pd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return kk(e).get("owner").next((function(e){return qy.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return bk(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Po(Lo().mark((function e(){var t,n,r,i,a=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Zy(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return qy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=ei(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?qy.resolve(!0):kk(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new xd(wd.FAILED_PRECONDITION,yk);return!1}}return!(!t.networkEnabled||!t.inForeground)||bk(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Po(Lo().mark((function e(){var t=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Jy(e,Dd.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bk(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return zg.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Rg(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return gg.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;pd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Vy:13===i?Fy:12===i?jy:11===i?My:void gd();return this.ls.runTransaction(e,o,u,(function(i){return a=new Jy(i,r.es?r.es.next():Dd.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw vd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new xd(wd.FAILED_PRECONDITION,Uy);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return kk(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xd(wd.FAILED_PRECONDITION,yk)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kk(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=kk(e);return n.get("owner").next((function(e){return t.bs(e)?(pd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):qy.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(vd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!yu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return pd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return vd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(cc){vd("Failed to set zombie client id.",cc)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(cc){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Ky.vt()}}]),e}();function kk(e){return Zy(e,"owner")}function bk(e){return Zy(e,"clientMetadata")}function wk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xk=function(){function e(t,n,r){un(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return cn(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=ei(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=ei(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return up.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):mv(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new up(t)).next((function(e){var t=bm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bm();return this.indexManager.getCollectionParents(e,i).next((function(o){return qy.forEach(o,(function(o){var u=function(e,t){return new cv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ei(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Op.newInvalidDocument(s),r=r.insert(s,c)),Qv(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ev(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Ek=function(){function e(t,n,r,i){un(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return cn(e,null,[{key:"Ys",value:function(t,n){var r,i=_m(),a=_m(),o=ei(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_k=function(){function e(){un(this,e)}return cn(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Vd.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(hv(t)||dv(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(dd()<=Wu.DEBUG&&pd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xv(t)),i.Zs.Qs(e,t,jp(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new pm(Iv(e));return t.forEach((function(t,r){Ev(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return dd()<=Wu.DEBUG&&pd("QueryEngine","Using full collection scan to execute query:",xv(t)),this.Zs.Qs(e,t,Vp.min())}}]),e}(),Ik=function(){function e(t,n,r,i){un(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new fm(Ld),this.ri=new lm((function(e){return zp(e)}),Kp),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return cn(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new xk(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function Sk(e,t,n,r){return new Ik(e,t,n,r)}function Tk(e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=_m(),s=ei(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ei(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ei(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ei(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Nk(e,t){var n=bd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=qy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);kd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Ak(e){var t=bd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Ok(e,t){var n=bd(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Qd.EMPTY_BYTE_STRING,Vd.min()).withLastLimboFreeSnapshotVersion(Vd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=gm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Dk(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Vd.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return qy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function Dk(e,t,n){var r=_m();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=gm();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Vd.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):pd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Pk(e,t){var n=bd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Rk(e,t){var n=bd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,qy.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new rg(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Lk(e,t,n){return Mk.apply(this,arguments)}function Mk(){return Mk=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bd(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Gy(e.t1)){e.next=12;break}throw e.t1;case 12:pd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Mk.apply(this,arguments)}function jk(e,t,n){var r=bd(e),i=Vd.min(),a=_m();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=bd(e),i=r.ri.get(n);return void 0!==i?qy.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,gv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Vd.min(),n?a:_m())})).next((function(e){return Uk(r,_v(t),e),{documents:e,li:a}}))}))}function Fk(e,t){var n=bd(e),r=bd(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Vk(e,t){var n=bd(e),r=n.oi.get(t)||Vd.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,jp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Uk(n,t,e),e}))}function Uk(e,t,n){var r=Vd.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function Bk(e,t,n,r){return qk.apply(this,arguments)}function qk(){return qk=Po(Lo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=bd(t),o=_m(),u=gm(),s=ei(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Rk(a,function(e){return gv(fv(Kd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Dk(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),qk.apply(this,arguments)}function zk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=Po(Lo().mark((function e(t,n){var r,i,a,o=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:_m(),e.next=3,Rk(t,gv(hg(n.bundledQuery)));case 3:return i=e.sent,a=bd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=qm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Qd.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}var Wk=function(){function e(t){un(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return cn(e,[{key:"getBundleMetadata",value:function(e,t){return qy.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:qm(n.createTime)}),qy.resolve()}},{key:"getNamedQuery",value:function(e,t){return qy.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:hg(e.bundledQuery),readTime:qm(e.readTime)}}(t)),qy.resolve()}}]),e}(),Hk=function(){function e(){un(this,e),this.overlays=new fm(up.comparator),this.gi=new Map}return cn(e,[{key:"getOverlay",value:function(e,t){return qy.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),qy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),qy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wm(),i=t.length+1,a=new up(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return qy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new fm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=wm(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=wm(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return qy.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ng(t,n));var a=this.gi.get(t);void 0===a&&(a=_m(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),Gk=function(){function e(){un(this,e),this.yi=new pm(Qk.pi),this.Ii=new pm(Qk.Ti)}return cn(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Qk(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Qk(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new up(new Kd([])),r=new Qk(n,e),i=new Qk(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new up(new Kd([])),n=new Qk(t,e),r=new Qk(t,e+1),i=_m();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Qk(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Qk=function(){function e(t,n){un(this,e),this.key=t,this.vi=n}return cn(e,null,[{key:"pi",value:function(e,t){return up.comparator(e.key,t.key)||Ld(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Ld(e.vi,t.vi)||up.comparator(e.key,t.key)}}]),e}(),Yk=function(){function e(t,n){un(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new pm(Qk.pi)}return cn(e,[{key:"checkEmpty",value:function(e){return qy.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new eg(i,t,n,r);this.Bs.push(a);var o,u=ei(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new Qk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return qy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return qy.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return qy.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return qy.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return qy.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Qk(t,0),i=new Qk(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),qy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pm(Ld);return t.forEach((function(e){var t=new Qk(e,0),i=new Qk(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),qy.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;up.isDocumentKey(i)||(i=i.child(""));var a=new Qk(new up(i),0),o=new pm(Ld);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),qy.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;kd(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return qy.forEach(t.mutations,(function(i){var a=new Qk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Qk(t,0),r=this.Di.firstAfterOrEqual(n);return qy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,qy.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),$k=function(){function e(t){un(this,e),this.Mi=t,this.docs=new fm(up.comparator),this.size=0}return cn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return qy.resolve(n?n.document.mutableCopy():Op.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Op.newInvalidDocument(e))})),qy.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=gm(),i=new up(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Up(Fp(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return qy.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gd()}},{key:"Oi",value:function(e,t){return qy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Xk(this)}},{key:"getSize",value:function(e){return qy.resolve(this.size)}}]),e}(),Xk=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).Kn=e,r}return cn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),qy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(uk),Jk=function(){function e(t){un(this,e),this.persistence=t,this.Fi=new lm((function(e){return zp(e)}),Kp),this.lastRemoteSnapshotVersion=Vd.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Gk,this.targetCount=0,this.Li=Qg.gn()}return cn(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),qy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return qy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return qy.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),qy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),qy.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new Qg(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,qy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),qy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,qy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),qy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return qy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return qy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),qy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),qy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),qy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return qy.resolve(n)}},{key:"containsKey",value:function(e,t){return qy.resolve(this.Bi.containsKey(t))}}]),e}(),Zk=function(){function e(t,n){var r=this;un(this,e),this.Ui={},this.overlays={},this.es=new Dd(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Jk(this),this.indexManager=new Og,this.ds=new $k((function(e){return r.referenceDelegate.qi(e)})),this.M=new ig(n),this._s=new Wk(this.M)}return cn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Hk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Yk(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;pd("MemoryPersistence","Starting transaction:",e);var i=new eb(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return qy.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),eb=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return cn(n)}(By),tb=function(){function e(t){un(this,e),this.persistence=t,this.ji=new Gk,this.Wi=null}return cn(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw gd()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),qy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),qy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),qy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qy.forEach(this.Hi,(function(r){var i=up.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Vd.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return qy.or([function(){return qy.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function nb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rb(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ib(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ab=function(){function e(t,n,r,i){un(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return cn(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new xd(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(vd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ob=function(){function e(t,n,r){un(this,e),this.targetId=t,this.state=n,this.error=r}return cn(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xd(i.error.code,i.error.message))),a?new e(t,i.state,r):(vd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ub=function(){function e(t,n){un(this,e),this.clientId=t,this.activeTargetIds=n}return cn(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Sm(),o=0;i&&o<r.activeTargetIds.length;++o)i=op(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(vd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),sb=function(){function e(t,n){un(this,e),this.clientId=t,this.onlineState=n}return cn(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),cb=function(){function e(){un(this,e),this.activeTargetIds=Sm()}return cn(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lb=function(){function e(t,n,r,i,a){un(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new fm(Ld),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=nb(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new cb),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return cn(e,[{key:"start",value:function(){var e=Po(Lo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=ei(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(nb(this.persistenceKey,i)))&&(o=ub.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=ei(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ib(this.persistenceKey,e));if(n){var r=ob.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ib(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return pd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){pd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){pd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void vd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Po(Lo().mark((function e(){var r,i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Dd.A;if(null!=e)try{var n=JSON.parse(e);kd("number"==typeof n),t=n}catch(e){vd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Dd.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new ab(this.currentUser,e,t,n),i=rb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=rb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=ib(this.persistenceKey,e),i=new ob(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return ub.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ab.Yi(new ld(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return ob.Yi(r,t)}},{key:"mr",value:function(e){return sb.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:pd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=Sm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),fb=function(){function e(){un(this,e),this.$r=new cb,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return cn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new cb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),hb=function(){function e(){un(this,e)}return cn(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),db=function(){function e(){var t=this;un(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return cn(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){pd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ei(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){pd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ei(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vb=function(){function e(t){un(this,e),this.Wr=t.Wr,this.zr=t.zr}return cn(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),mb=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return cn(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new sd;o.listenOnce(rd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case nd.NO_ERROR:var t=o.getResponseJson();pd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case nd.TIMEOUT:pd("Connection",'RPC "'+e+'" timed out'),a(new xd(wd.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:var n=o.getStatus();if(pd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wd).indexOf(t)>=0?t:wd.UNKNOWN}(r.status);a(new xd(u,r.message))}else a(new xd(wd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new xd(wd.UNAVAILABLE,"Connection failed."));break;default:gd()}}finally{pd("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ed(),a=td(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new od({})),this.ao(o.initMessageHeaders,t,n),mu()||ku()||vu().indexOf("Electron/")>=0||bu()||vu().indexOf("MSAppHost/")>=0||gu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");pd("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new vb({Wr:function(e){l?pd("Connection","Not sending because WebChannel is closed:",e):(c||(pd("Connection","Opening WebChannel transport."),s.open(),c=!0),pd("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ud.EventType.OPEN,(function(){l||pd("Connection","WebChannel transport opened.")})),h(s,ud.EventType.CLOSE,(function(){l||(l=!0,pd("Connection","WebChannel transport closed"),f.no())})),h(s,ud.EventType.ERROR,(function(e){l||(l=!0,md("Connection","WebChannel transport errored:",e),f.no(new xd(wd.UNAVAILABLE,"The operation could not be completed")))})),h(s,ud.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];kd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){pd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=rm[e];if(void 0!==t)return cm(t)}(a),u=i.message;void 0===o&&(o=wd.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new xd(o,u)),s.close()}else pd("Connection","WebChannel received:",n),f.so(n)}})),h(a,id.STAT_EVENT,(function(e){e.stat===ad.PROXY?pd("Connection","Detected buffering proxy"):e.stat===ad.NOPROXY&&pd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){un(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return cn(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);pd("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return pd("RestConnection","Received: ",e),e}),(function(t){throw md("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=pb[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function yb(){return"undefined"!=typeof window?window:null}function gb(){return"undefined"!=typeof document?document:null}function kb(e){return new Fm(e,!0)}var bb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;un(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return cn(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&pd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),wb=function(){function e(t,n,r,i,a,o,u,s){un(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new bb(t,n)}return cn(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===wd.RESOURCE_EXHAUSTED?(vd(n.toString()),vd("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===wd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=$t(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new xd(wd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return pd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(pd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),xb=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a,o,u){var s;return un(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return cn(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(kd(void 0===t||"string"==typeof t),Qd.fromBase64String(t||"")):(kd(void 0===t||t instanceof Uint8Array),Qd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wd.UNKNOWN:cm(e.code);return new xd(t,e.message||"")}(o);n=new Om(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Hm(e,s.document.name),l=qm(s.document.updateTime),f=new Np({mapValue:{fields:s.document.fields}}),h=Op.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Nm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Hm(e,v.document),y=v.readTime?qm(v.readTime):Vd.min(),g=Op.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Nm([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Hm(e,b.document),x=b.removedTargetIds||[];n=new Nm([],x,w,null)}else{if(!("filter"in t))return gd();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new um(_),S=E.targetId;n=new Am(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Vd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vd.min():t.readTime?qm(t.readTime):Vd.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Ym(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Wp(r)?{documents:ny(e,r)}:{query:ry(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Um(e,t.resumeToken):t.snapshotVersion.compareTo(Vd.min())>0&&(n.readTime=Vm(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Ym(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(wb),Eb=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a,o,u){var s;return un(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return cn(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Hn(Kn(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(kd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(kd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?qm(e.updateTime):qm(t);return n.isEqual(Vd.min())&&(n=qm(t)),new zv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=qm(e.commitTime);return this.listener.Yo(n,t)}return kd(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Ym(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ey(t.M,e)}))};this.Fo(n)}}]),n}(wb),_b=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a){var o;return un(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return cn(n,[{key:"eu",value:function(){if(this.tu)throw new xd(wd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=$t(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xd(wd.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=$t(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xd(wd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return cn((function e(){un(this,e)}))}()),Ib=function(){function e(t,n){un(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return cn(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(vd(t),this.iu=!1):pd("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),Sb=cn((function e(t,n,r,i,a){var o=this;un(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=jb(o),!e.t0){e.next=5;break}return pd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bd(t)).fu.add(4),e.next=4,Nb(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,Tb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new Ib(r,i)}));function Tb(e){return Cb.apply(this,arguments)}function Cb(){return Cb=Po(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jb(t)){e.next=18;break}n=ei(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Cb.apply(this,arguments)}function Nb(e){return Ab.apply(this,arguments)}function Ab(){return Ab=Po(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ei(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ab.apply(this,arguments)}function Ob(e,t){var n=bd(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),Mb(n)?Lb(n):hw(n).xo()&&Pb(n,t))}function Db(e,t){var n=bd(e),r=hw(n);n.lu.delete(t),r.xo()&&Rb(n,t),0===n.lu.size&&(r.xo()?r.Mo():jb(n)&&n.wu.set("Unknown"))}function Pb(e,t){e.mu.Z(t.targetId),hw(e).jo(t)}function Rb(e,t){e.mu.Z(t),hw(e).Wo(t)}function Lb(e){e.mu=new Pm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),hw(e).start(),e.wu.ru()}function Mb(e){return jb(e)&&!hw(e).Co()&&e.lu.size>0}function jb(e){return 0===bd(e).fu.size}function Fb(e){e.mu=void 0}function Vb(e){return Ub.apply(this,arguments)}function Ub(){return Ub=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){Pb(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fb(t),Mb(t)?(t.wu.au(n),Lb(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function zb(e,t,n){return Kb.apply(this,arguments)}function Kb(){return Kb=Po(Lo().mark((function e(t,n,r){var i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Om&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ei(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Wb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Nm?t.mu.ut(n):n instanceof Am?t.mu._t(n):t.mu.ht(n),r.isEqual(Vd.min())){e.next=29;break}return e.prev=14,e.next=17,Ak(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Qd.EMPTY_BYTE_STRING,n.snapshotVersion)),Rb(e,t);var r=new rg(n.target,t,1,n.sequenceNumber);Pb(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),pd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Wb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Kb.apply(this,arguments)}function Wb(e,t,n){return Hb.apply(this,arguments)}function Hb(){return Hb=Po(Lo().mark((function e(t,n,r){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gy(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,Nb(t);case 5:t.wu.set("Offline"),r||(r=function(){return Ak(t.localStore)}),t.asyncQueue.enqueueRetryable(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,Tb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Gb(e,t){return t().catch((function(n){return Wb(e,n,t)}))}function Qb(e){return Yb.apply(this,arguments)}function Yb(){return Yb=Po(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bd(t),r=dw(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!$b(n)){e.next=19;break}return e.prev=3,e.next=6,Pk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,Xb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Wb(n,e.t0);case 17:e.next=2;break;case 19:Jb(n)&&Zb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Yb.apply(this,arguments)}function $b(e){return jb(e)&&e.hu.length<10}function Xb(e,t){e.hu.push(t);var n=dw(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function Jb(e){return jb(e)&&!dw(e).Co()&&e.hu.length>0}function Zb(e){dw(e).start()}function ew(e){return tw.apply(this,arguments)}function tw(){return tw=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dw(t).Zo();case 1:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e){return rw.apply(this,arguments)}function rw(){return rw=Po(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dw(t),r=ei(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=tg.from(i,n,r),e.next=3,Gb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Qb(t);case 5:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){return uw.apply(this,arguments)}function uw(){return uw=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dw(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sm(i=n.code)||i===wd.ABORTED){e.next=7;break}return r=t.hu.shift(),dw(t).ko(),e.next=5,Gb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Qb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Jb(t)&&Zb(t);case 5:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t){return cw.apply(this,arguments)}function cw(){return cw=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=bd(t)).asyncQueue.verifyOperationInProgress(),pd("RemoteStore","RemoteStore received new credentials"),i=jb(r),r.fu.add(3),e.next=6,Nb(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,Tb(r);case 12:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bd(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,Tb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,Nb(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e){return e.gu||(e.gu=function(e,t,n){var r=bd(e);return r.eu(),new xb(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Vb.bind(null,e),Yr:Bb.bind(null,e),Qo:zb.bind(null,e)}),e.du.push(function(){var t=Po(Lo().mark((function t(n){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),Mb(e)?Lb(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:Fb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function dw(e){return e.yu||(e.yu=function(e,t,n){var r=bd(e);return r.eu(),new Eb(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:ew.bind(null,e),Yr:ow.bind(null,e),Xo:nw.bind(null,e),Yo:iw.bind(null,e)}),e.du.push(function(){var t=Po(Lo().mark((function t(n){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,Qb(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(pd("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var pw=function(){function e(t,n,r,i,a){un(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ed,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return cn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xd(wd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vw(e,t){if(vd("AsyncQueue","".concat(t,": ").concat(e)),Gy(e))return new xd(wd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mw=function(){function e(t){un(this,e),this.comparator=t?function(e,n){return t(e,n)||up.comparator(e.key,n.key)}:function(e,t){return up.comparator(e.key,t.key)},this.keyedMap=bm(),this.sortedSet=new fm(this.comparator)}return cn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yw=function(){function e(){un(this,e),this.pu=new fm(up.comparator)}return cn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):gd():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gw=function(){function e(t,n,r,i,a,o,u,s){un(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return cn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,mw.emptySet(n),a,r,i,!0,!1)}}]),e}(),kw=cn((function e(){un(this,e),this.Tu=void 0,this.listeners=[]})),bw=cn((function e(){un(this,e),this.queries=new lm((function(e){return wv(e)}),bv),this.onlineState="Unknown",this.Eu=new Set}));function ww(e,t){return xw.apply(this,arguments)}function xw(){return xw=Po(Lo().mark((function e(t,n){var r,i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new kw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=vw(e.t0,"Initialization of query '".concat(xv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&Tw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xw.apply(this,arguments)}function Ew(e,t){return _w.apply(this,arguments)}function _w(){return _w=Po(Lo().mark((function e(t,n){var r,i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function Iw(e,t){var n,r=bd(e),i=!1,a=ei(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ei(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Tw(r)}function Sw(e,t,n){var r=bd(e),i=r.queries.get(t);if(i){var a,o=ei(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Tw(e){e.Eu.forEach((function(e){e.next()}))}var Cw=function(){function e(t,n,r){un(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return cn(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ei(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=gw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),Nw=function(){function e(t,n){un(this,e),this.payload=t,this.byteLength=n}return cn(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),Aw=function(){function e(t){un(this,e),this.M=t}return cn(e,[{key:"fi",value:function(e){return Hm(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?Jm(this.M,e.document,!1):Op.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return qm(e)}}]),e}(),Ow=function(){function e(t,n,r){un(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dw(t)}return cn(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Kd.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new Aw(this.M),i=ei(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=ei(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||_m()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Po(Lo().mark((function e(){var t,n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bk(this.localStore,new Aw(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=ei(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,zk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Pw=cn((function e(t){un(this,e),this.key=t})),Rw=cn((function e(t){un(this,e),this.key=t})),Lw=function(){function e(t,n){un(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=_m(),this.mutatedKeys=_m(),this.Uu=Iv(t),this.qu=new mw(this.Uu)}return cn(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new yw,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=hv(this.query)&&i.size===this.query.limit?i.last():null,c=dv(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ev(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),hv(this.query)||dv(this.query))for(;o.size>this.query.limit;){var l=hv(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gd()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new gw(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new yw,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=_m(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new Rw(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new Pw(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=_m();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return gw.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),Mw=cn((function e(t,n,r){un(this,e),this.query=t,this.targetId=n,this.view=r})),jw=cn((function e(t){un(this,e),this.key=t,this.Zu=!1})),Fw=function(){function e(t,n,r,i,a,o){un(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new lm((function(e){return wv(e)}),bv),this.na=new Map,this.sa=new Set,this.ia=new fm(up.comparator),this.ra=new Map,this.oa=new Gk,this.ua={},this.aa=new Map,this.ca=Qg.yn(),this.onlineState="Unknown",this.ha=void 0}return cn(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function Vw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dx(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,Rk(r.localStore,gv(n));case 8:return u=e.sent,r.isPrimaryClient&&Ob(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Bw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Bw(e,t,n,r){return qw.apply(this,arguments)}function qw(){return qw=Po(Lo().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=Po(Lo().mark((function e(t,n,r,i){var a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,jk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sx(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,jk(t.localStore,n,!0);case 3:return a=e.sent,o=new Lw(n,a.li),u=o.Gu(a.documents),s=Cm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),sx(t,r,c.Hu),l=new Mw(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function zw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bd(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!bv(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Lk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Db(r.remoteStore,i.targetId),ox(r,i.targetId)})).catch(Zg);case 9:e.next=14;break;case 11:return ox(r,i.targetId),e.next=14,Lk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Ww(e,t,n){return Hw.apply(this,arguments)}function Hw(){return Hw=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Px(t),e.prev=1,e.next=4,function(e,t){var n,r=bd(e),i=Fd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),_m());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=ei(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Yv(c,n.get(c.key));null!=l&&u.push(new Zv(c.key,l,Ap(l.value.mapValue),Kv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new fm(Ld)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fx(i,a.changes);case 9:return e.next=11,Qb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Hw.apply(this,arguments)}function Gw(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),e.prev=1,e.next=4,Ok(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(kd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?kd(n.Zu):e.removedDocuments.size>0&&(kd(n.Zu),n.Zu=!1))})),e.next=8,fx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Qw.apply(this,arguments)}function Yw(e,t,n){var r=bd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=bd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ei(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Tw(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function $w(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=bd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new fm(up.comparator)).insert(o,Op.newNoDocument(o,Vd.min())),s=_m().add(o),c=new Tm(Vd.min(),new Map,new pm(Ld),u,s),e.next=9,Gw(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),lx(i),e.next=16;break;case 14:return e.next=16,Lk(i.localStore,n,!1).then((function(){return ox(i,n,r)})).catch(Zg);case 16:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),i=n.batch.batchId,e.prev=1,e.next=4,Nk(r.localStore,n);case 4:return a=e.sent,ax(r,i,null),ix(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Zw.apply(this,arguments)}function ex(e,t,n){return tx.apply(this,arguments)}function tx(){return tx=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bd(t),e.prev=1,e.next=4,function(e,t){var n=bd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return kd(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ax(i,n,r),ix(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jb((r=bd(t)).remoteStore)||pd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=bd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rx.apply(this,arguments)}function ix(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function ax(e,t,n){var r=bd(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function ox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ei(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||ux(e,t)}))}function ux(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(Db(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),lx(e))}function sx(e,t,n){var r,i=ei(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Pw?(e.oa.addReference(a.key,t),cx(e,a)):a instanceof Rw?(pd("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||ux(e,a.key)):gd()}}catch(o){i.e(o)}finally{i.f()}}function cx(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(pd("SyncEngine","New document in limbo: "+n),e.sa.add(r),lx(e))}function lx(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new up(Kd.fromString(t)),r=e.ca.next();e.ra.set(r,new jw(n)),e.ia=e.ia.insert(n,r),Ob(e.remoteStore,new rg(gv(fv(n.path)),r,2,Dd.A))}}function fx(e,t,n){return hx.apply(this,arguments)}function hx(){return hx=Po(Lo().mark((function e(t,n,r){var i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bd(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ek.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return qy.forEach(n,(function(t){return qy.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return qy.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Gy(e.t0)){e.next=10;break}throw e.t0;case 10:pd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ei(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return px=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=bd(t)).currentUser.isEqual(n)){e.next=11;break}return pd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Tk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new xd(wd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fx(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){var n=bd(e),r=n.ra.get(t);if(r&&r.Zu)return _m().add(r.key);var i=_m(),a=n.na.get(t);if(!a)return i;var o,u=ei(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function mx(e,t){return yx.apply(this,arguments)}function yx(){return yx=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),e.next=3,jk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&sx(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),e.abrupt("return",Vk(r.localStore,n).then((function(e){return fx(r,e)})));case 2:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t,n,r){return wx.apply(this,arguments)}function wx(){return wx=Po(Lo().mark((function e(t,n,r,i){var a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bd(t),e.next=3,function(e,t){var n=bd(e),r=bd(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):qy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Qb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ax(a,n,i||null),ix(a,n),function(e,t){bd(bd(e).Bs)._n(t)}(a.localStore,n)):gd();case 11:return e.next=13,fx(a,o);case 13:e.next=16;break;case 15:pd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dx(r=bd(t)),Px(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,_x(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,lw(r.remoteStore,!0);case 9:o=ei(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Ob(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ox(r,t),Lk(r.localStore,t,!0)})),Db(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,_x(r,c);case 21:return function(e){var t=bd(e);t.ra.forEach((function(e,n){Db(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new fm(up.comparator)}(r),r.ha=!1,e.next=25,lw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function _x(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=bd(t),a=[],o=[],u=ei(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,Rk(i.localStore,gv(f[0]));case 11:l=e.sent,h=ei(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,mx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Fk(i.localStore,c);case 36:return y=e.sent,e.next=39,Rk(i.localStore,y);case 39:return l=e.sent,e.next=42,Bw(i,Sx(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Ix.apply(this,arguments)}function Sx(e){return lv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Tx(e){var t=bd(e);return bd(bd(t.localStore).persistence).Fs()}function Cx(e,t,n,r){return Nx.apply(this,arguments)}function Nx(){return Nx=Po(Lo().mark((function e(t,n,r,i){var a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=bd(t)).ha){e.next=3;break}return e.abrupt("return",void pd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Vk(a.localStore,_v(o[0]));case 10:return u=e.sent,s=Tm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,fx(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Lk(a.localStore,n,!0);case 17:return ox(a,n,i),e.abrupt("break",20);case 19:gd();case 20:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Ax(e,t,n){return Ox.apply(this,arguments)}function Ox(){return Ox=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Dx(t)).ha){e.next=45;break}a=ei(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return pd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Fk(i.localStore,u);case 12:return s=e.sent,e.next=15,Rk(i.localStore,s);case 15:return c=e.sent,e.next=18,Bw(i,Sx(s),c.targetId,!1);case 18:Ob(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ei(r),e.prev=30,h=Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,Lk(i.localStore,t,!1).then((function(){Db(i.remoteStore,t),ox(i,t)})).catch(Zg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ox.apply(this,arguments)}function Dx(e){var t=bd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$w.bind(null,t),t.ta.Qo=Iw.bind(null,t.eventManager),t.ta.fa=Sw.bind(null,t.eventManager),t}function Px(e){var t=bd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ex.bind(null,t),t}function Rx(e,t,n){var r=bd(e);(function(){var e=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=bd(e),r=qm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Dw(i)),a=new Ow(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,fx(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=bd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(md("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Lx=function(){function e(){un(this,e),this.synchronizeTabs=!1}return cn(e,[{key:"initialize",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=kb(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return Sk(this.persistence,new _k,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Zk(tb.zi,this.M)}},{key:"_a",value:function(e){return new fb}},{key:"terminate",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mx=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return cn(n,[{key:"initialize",value:function(){var e=Po(Lo().mark((function e(t){var r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(Kn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,Px(this.ya.syncEngine);case 6:return e.next=8,Qb(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return Sk(this.persistence,new _k,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new rk(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=wk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ug.withCacheSize(this.cacheSizeBytes):Ug.DEFAULT;return new gk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yb(),gb(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new fb}}]),n}(Lx),jx=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return cn(n,[{key:"initialize",value:function(){var e=Po(Lo().mark((function e(t){var r,i=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(Kn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof lb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:bx.bind(null,r),Or:Cx.bind(null,r),Fr:Ax.bind(null,r),Fs:Tx.bind(null,r),kr:gx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xx(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=yb();if(!lb.vt(t))throw new xd(wd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Mx),Fx=function(){function e(){un(this,e)}return cn(e,[{key:"initialize",value:function(){var e=Po(Lo().mark((function e(t,n){var r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Yw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dx.bind(null,this.syncEngine),e.next=12,lw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bw}},{key:"createDatastore",value:function(e){var t,n=kb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mb(t));return function(e,t,n,r){return new _b(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Yw(o.syncEngine,e,0)},a=db.vt()?new db:new hb,new Sb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Fw(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bd(t),pd("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,Nb(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Vx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Po(Lo().mark((function r(){var i;return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ux=function(){function e(t){un(this,e),this.observer=t,this.muted=!1}return cn(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Bx=function(){function e(t,n){var r=this;un(this,e),this.Ta=t,this.M=n,this.metadata=new Ed,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return cn(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=Po(Lo().mark((function e(){var t,n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Nw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=Po(Lo().mark((function e(){var t,n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=Po(Lo().mark((function e(){var t,n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qx=function(){function e(t){un(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return cn(e,[{key:"lookup",value:function(){var e=Po(Lo().mark((function e(t){var n,r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new xd(wd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),i=Ym(r.M)+"/documents",a={documents:n.map((function(e){return Wm(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Zm(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());kd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new am(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Po(Lo().mark((function e(){var t,n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=up.fromPath(t);n.mutations.push(new om(r,n.precondition(r)))})),e.next=7,function(){var e=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bd(t),i=Ym(r.M)+"/documents",a={writes:n.map((function(e){return ey(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gd();t=Vd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xd(wd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Kv.updateTime(t):Kv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vd.min()))throw new xd(wd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kv.updateTime(t)}return Kv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zx=function(){function e(t,n,r,i){un(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new bb(this.asyncQueue,"transaction_retry")}return cn(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(Po(Lo().mark((function t(){var n,r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new qx(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!ip(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!sm(t)}return!1}}]),e}(),Kx=function(){function e(t,n,r,i){var a=this;un(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ld.UNAUTHENTICATED,this.clientId=Rd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return pd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return cn(e,[{key:"getConfiguration",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xd(wd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ed;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Po(Lo().mark((function n(){var r;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Wx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),pd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Tk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Yx(t);case 3:return r=e.sent,pd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function Yx(e){return $x.apply(this,arguments)}function $x(){return $x=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return pd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Wx(t,new Lx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Xx(e){return Jx.apply(this,arguments)}function Jx(){return Jx=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return pd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Gx(t,new Fx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e){return Yx(e).then((function(e){return e.persistence}))}function eE(e){return Yx(e).then((function(e){return e.localStore}))}function tE(e){return Xx(e).then((function(e){return e.remoteStore}))}function nE(e){return Xx(e).then((function(e){return e.syncEngine}))}function rE(e){return iE.apply(this,arguments)}function iE(){return iE=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Vw.bind(null,n.syncEngine),r.onUnlisten=zw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function i(){return Lo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ux({next:function(a){t.enqueueAndForget((function(){return Ew(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new xd(wd.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new xd(wd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Cw(fv(n.path),a,{includeMetadataChanges:!0,Cu:!0});return ww(e,o)},i.next=3,rE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function i(){return Lo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ux({next:function(n){t.enqueueAndForget((function(){return Ew(e,o)})),n.fromCache&&"server"===r.source?i.reject(new xd(wd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Cw(n,a,{includeMetadataChanges:!0,Cu:!0});return ww(e,o)},i.next=3,rE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var uE=new Map;function sE(e,t,n){if(!n)throw new xd(wd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cE(e,t,n,r){if(!0===t&&!0===r)throw new xd(wd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function lE(e){if(!up.isDocumentKey(e))throw new xd(wd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fE(e){if(up.isDocumentKey(e))throw new xd(wd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gd()}function dE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xd(wd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hE(e);throw new xd(wd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function pE(e,t){if(t<=0)throw new xd(wd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var vE=function(){function e(t){var n;if(un(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xd(wd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xd(wd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return cn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mE=function(){function e(t,n,r){un(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,t instanceof rp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xd(wd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rp(e.options.projectId)}(t))}return cn(e,[{key:"app",get:function(){if(!this._app)throw new xd(wd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xd(wd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Id;switch(e.type){case"gapi":var t=e.client;return kd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Nd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xd(wd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=uE.get(e);t&&(pd("ComponentProvider","Removing Datastore"),uE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function yE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=dE(e,mE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&md("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ld.MOCK_USER;else{o=pu(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new xd(wd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ld(s)}e._authCredentials=new Sd(new _d(o,u))}}var gE=function(){function e(t,n,r){un(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return cn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kE=function(){function e(t,n,r){un(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return cn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bE=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this,e,r,fv(i)))._path=i,a.type="collection",a}return cn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new gE(this.firestore,null,new up(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kE);function wE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Lu(e),sE("collection","path",t),e instanceof mE){var a=Kd.fromString.apply(Kd,[t].concat(r));return fE(a),new bE(e,null,a)}if(!(e instanceof gE||e instanceof bE))throw new xd(wd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Kd.fromString.apply(Kd,[t].concat(r)));return fE(o),new bE(e.firestore,null,o)}function xE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Lu(e),1===arguments.length&&(t=Rd.R()),sE("doc","path",t),e instanceof mE){var a=Kd.fromString.apply(Kd,[t].concat(r));return lE(a),new gE(e,null,new up(a))}if(!(e instanceof gE||e instanceof bE))throw new xd(wd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Kd.fromString.apply(Kd,[t].concat(r)));return lE(o),new gE(e.firestore,e instanceof bE?e.converter:null,new up(o))}function EE(e,t){return e=Lu(e),t=Lu(t),(e instanceof gE||e instanceof bE)&&(t instanceof gE||t instanceof bE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function _E(e,t){return e=Lu(e),t=Lu(t),e instanceof kE&&t instanceof kE&&e.firestore===t.firestore&&bv(e._query,t._query)&&e.converter===t.converter}var IE=function(){function e(){var t=this;un(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new bb(this,"async_queue_retry"),this.qa=function(){var e=gb();e&&pd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=gb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return cn(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=gb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Ed;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=Po(Lo().mark((function e(){var t=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Gy(e.t0)){e.next=12;break}throw e.t0;case 12:pd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=pw.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&gd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=ei(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ei(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function SE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ei(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var TE=function(){function e(){un(this,e),this._progressObserver={},this._taskCompletionResolver=new Ed,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return cn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),CE=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new IE,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return cn(n,[{key:"_terminate",value:function(){return this._firestoreClient||AE(this),this._firestoreClient.terminate()}}]),n}(mE);function NE(e){return e._firestoreClient||AE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new np(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Kx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function OE(e,t,n){var r=new Ed;return e.asyncQueue.enqueue(Po(Lo().mark((function i(){return Lo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Wx(e,n);case 3:return i.next=5,Gx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===wd.FAILED_PRECONDITION||e.code===wd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function DE(e){return function(e){return e.asyncQueue.enqueue(Po(Lo().mark((function t(){var n,r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zx(e);case 2:return n=t.sent,t.next=5,tE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=bd(e);return t.fu.delete(0),Tb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(NE(e=dE(e,CE)))}function PE(e){return function(e){return e.asyncQueue.enqueue(Po(Lo().mark((function t(){var n,r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zx(e);case 2:return n=t.sent,t.next=5,tE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bd(t)).fu.add(0),e.next=4,Nb(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(NE(e=dE(e,CE)))}function RE(e,t){var n=NE(e=dE(e,CE)),r=new TE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Bx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Vx(e,t);if(e instanceof ArrayBuffer)return Vx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,kb(t));e.asyncQueue.enqueueAndForget(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rx,t.next=3,nE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LE(e,t){return function(e,t){return e.asyncQueue.enqueue(Po(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=bd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,eE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(NE(e=dE(e,CE)),t).then((function(t){return t?new kE(e,null,t.query):null}))}function ME(e){if(e._initialized||e._terminated)throw new xd(wd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jE=function(){function e(){un(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xd(wd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hd(n)}return cn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FE=function(){function e(t){un(this,e),this._byteString=t}return cn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Qd.fromBase64String(t))}catch(t){throw new xd(wd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Qd.fromUint8Array(t))}}]),e}(),VE=cn((function e(t){un(this,e),this._methodName=t})),UE=function(){function e(t,n){if(un(this,e),!isFinite(t)||t<-90||t>90)throw new xd(wd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xd(wd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return cn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ld(this._lat,e._lat)||Ld(this._long,e._long)}}]),e}(),BE=/^__.*__$/,qE=function(){function e(t,n,r){un(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return cn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Zv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jv(e,this.data,t,this.fieldTransforms)}}]),e}(),zE=function(){function e(t,n,r){un(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return cn(e,[{key:"toMutation",value:function(e,t){return new Zv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function KE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gd()}}var WE=function(){function e(t,n,r,i,a,o){un(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return cn(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return f_(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(KE(this.Xa)&&BE.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),HE=function(){function e(t,n,r){un(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||kb(t)}return cn(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WE({Xa:e,methodName:t,uc:n,path:Hd.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function GE(e){var t=e._freezeSettings(),n=kb(e._databaseId);return new HE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);u_("Data must be an object, but it was:",o,r);var u,s,c=a_(r,o);if(a.merge)u=new Gd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ei(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=s_(t,d,n);if(!o.contains(p))throw new xd(wd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));h_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Gd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new qE(new Np(c),u,s)}var YE=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VE);function $E(e,t,n){return new WE({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var XE=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"_toFieldTransform",value:function(e){return new qv(e.path,new Rv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VE),JE=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e)).cc=r,i}return cn(n,[{key:"_toFieldTransform",value:function(e){var t=$E(this,e,!0),n=this.cc.map((function(e){return i_(e,t)})),r=new Lv(n);return new qv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VE),ZE=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e)).cc=r,i}return cn(n,[{key:"_toFieldTransform",value:function(e){var t=$E(this,e,!0),n=this.cc.map((function(e){return i_(e,t)})),r=new jv(n);return new qv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VE),e_=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e)).hc=r,i}return cn(n,[{key:"_toFieldTransform",value:function(e){var t=new Vv(e.M,Nv(e.M,this.hc));return new qv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VE);function t_(e,t,n,r){var i=e.ac(1,t,n);u_("Data must be an object, but it was:",i,r);var a=[],o=Np.empty();Bd(r,(function(e,r){var u=l_(t,e,n);r=Lu(r);var s=i.sc(u);if(r instanceof YE)a.push(u);else{var c=i_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Gd(a);return new zE(o,u,i.fieldTransforms)}function n_(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[s_(t,r,n)],s=[i];if(a.length%2!=0)throw new xd(wd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(s_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Np.empty(),h=u.length-1;h>=0;--h)if(!h_(l,u[h])){var d=u[h],p=s[h];p=Lu(p);var v=o.sc(d);if(p instanceof YE)l.push(d);else{var m=i_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Gd(l);return new zE(f,y,o.fieldTransforms)}function r_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i_(n,e.ac(r?4:3,t))}function i_(e,t){if(o_(e=Lu(e)))return u_("Unsupported field value:",t,e),a_(e,t);if(e instanceof VE)return function(e,t){if(!KE(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ei(e);try{for(a.s();!(n=a.n()).done;){var o=i_(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Lu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Nv(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Fd.fromDate(e);return{timestampValue:Vm(t.M,n)}}if(e instanceof Fd){var r=new Fd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vm(t.M,r)}}if(e instanceof UE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof FE)return{bytesValue:Um(t.M,e._byteString)};if(e instanceof gE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(hE(e)))}(e,t)}function a_(e,t){var n={};return qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bd(e,(function(e,r){var i=i_(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function o_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fd||e instanceof UE||e instanceof FE||e instanceof gE||e instanceof VE)}function u_(e,t,n){if(!o_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=hE(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function s_(e,t,n){if((t=Lu(t))instanceof jE)return t._internalPath;if("string"==typeof t)return l_(e,t);throw f_("Field path arguments must be of type string or ",e,!1,void 0,n)}var c_=new RegExp("[~\\*/\\[\\]]");function l_(e,t,n){if(t.search(c_)>=0)throw f_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return au(jE,on(t.split(".")))._internalPath}catch(r){throw f_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function f_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new xd(wd.INVALID_ARGUMENT,u+e+s)}function h_(e,t){return e.some((function(e){return e.isEqual(t)}))}var d_=function(){function e(t,n,r,i,a){un(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return cn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new gE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new p_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),p_=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"data",value:function(){return Hn(Kn(n.prototype),"data",this).call(this)}}]),n}(d_);function v_(e,t){return"string"==typeof t?l_(e,t):t instanceof jE?t._internalPath:t._delegate._internalPath}var m_=function(){function e(t,n){un(this,e),this.hasPendingWrites=t,this.fromCache=n}return cn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),y_=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a,o,u){var s;return un(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return cn(n,[{key:"exists",value:function(){return Hn(Kn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new g_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(d_),g_=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hn(Kn(n.prototype),"data",this).call(this,e)}}]),n}(y_),k_=function(){function e(t,n,r,i){un(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new m_(i.hasPendingWrites,i.fromCache),this.query=r}return cn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new g_(n._firestore,n._userDataWriter,r.key,r,new m_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xd(wd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new g_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new m_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new g_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new m_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:b_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function b_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gd()}}function w_(e,t){return e instanceof y_&&t instanceof y_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof k_&&t instanceof k_&&e._firestore===t._firestore&&_E(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function x_(e){if(dv(e)&&0===e.explicitOrderBy.length)throw new xd(wd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var E_=cn((function e(){un(this,e)}));function __(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var I_=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return cn(n,[{key:"_apply",value:function(e){var t=GE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new xd(wd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){M_(o,a);var s,c=[],l=ei(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(L_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=L_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||M_(o,a),u=r_(n,"where",o,"in"===a||"not-in"===a);var h=Yp.create(i,a,u);return function(e,t){if(t.S()){var n=vv(e);if(null!==n&&!n.isEqual(t.field))throw new xd(wd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=pv(e);null!==r&&j_(e,t.field,r)}var i=function(e,t){var n,r=ei(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new xd(wd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xd(wd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new kE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(E_);var S_=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return cn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xd(wd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xd(wd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new av(t,n);return function(e,t){if(null===pv(e)){var n=vv(e);null!==n&&j_(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new kE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new cv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(E_);var T_=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return cn(n,[{key:"_apply",value:function(e){return new kE(e.firestore,e.converter,kv(e._query,this.wc,this.mc))}}]),n}(E_);var C_=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return cn(n,[{key:"_apply",value:function(e){var t=R_(e,this.type,this.gc,this.yc);return new kE(e.firestore,e.converter,function(e,t){return new cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(E_);function N_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new C_("startAt",t,!0)}function A_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new C_("startAfter",t,!1)}var O_=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a;return un(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return cn(n,[{key:"_apply",value:function(e){var t=R_(e,this.type,this.gc,this.yc);return new kE(e.firestore,e.converter,function(e,t){return new cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(E_);function D_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new O_("endBefore",t,!1)}function P_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new O_("endAt",t,!0)}function R_(e,t,n,r){if(n[0]=Lu(n[0]),n[0]instanceof d_)return function(e,t,n,r,i){if(!r)throw new xd(wd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ei(yv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(yp(t,r.key));else{var c=r.data.field(s.field);if(Zd(c))throw new xd(wd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new xd(wd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new iv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=GE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new xd(wd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new xd(wd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!mv(e)&&-1!==c.indexOf("/"))throw new xd(wd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Kd.fromString(c));if(!up.isDocumentKey(l))throw new xd(wd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new up(l);u.push(yp(t,f))}else{var h=r_(n,r,c);u.push(h)}}return new iv(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function L_(e,t,n){if("string"==typeof(n=Lu(n))){if(""===n)throw new xd(wd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mv(t)&&-1!==n.indexOf("/"))throw new xd(wd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Kd.fromString(n));if(!up.isDocumentKey(r))throw new xd(wd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return yp(e,new up(r))}if(n instanceof gE)return yp(e,n._key);throw new xd(wd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hE(n),"."))}function M_(e,t){if(!Array.isArray(e)||0===e.length)throw new xd(wd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new xd(wd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function j_(e,t,n){if(!n.isEqual(t))throw new xd(wd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var F_=function(){function e(){un(this,e)}return cn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Bd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new UE(Xd(e.latitude),Xd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ep(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=$d(e);return new Fd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Kd.fromString(e);kd(dy(n));var r=new rp(n.get(1),n.get(3)),i=new up(n.popFirst(5));return r.isEqual(t)||vd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function V_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var U_=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).firestore=e,r}return cn(n,[{key:"convertBytes",value:function(e){return new FE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gE(this.firestore,null,t)}}]),n}(F_),B_=function(){function e(t,n){un(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=GE(t)}return cn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=q_(e,this._firestore),i=V_(r.converter,t,n),a=QE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Kv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=q_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Lu(t))||t instanceof jE?n_(this._dataReader,"WriteBatch.update",i._key,t,n,o):t_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Kv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=q_(e,this._firestore);return this._mutations=this._mutations.concat(new am(t._key,Kv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new xd(wd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function q_(e,t){if((e=Lu(e)).firestore!==t)throw new xd(wd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var z_=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).firestore=e,r}return cn(n,[{key:"convertBytes",value:function(e){return new FE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gE(this.firestore,null,t)}}]),n}(F_);function K_(e){e=dE(e,gE);var t=dE(e.firestore,CE),n=NE(t),r=new z_(t);return function(e,t){var n=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function r(){return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=bd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new xd(wd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new y_(t,r,e._key,n,new m_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function W_(e){e=dE(e,kE);var t=dE(e.firestore,CE),n=NE(t),r=new z_(t);return function(e,t){var n=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function r(){return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jk(t,n,!0);case 3:i=e.sent,a=new Lw(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=vw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new k_(t,r,e,n)}))}function H_(e,t,n){e=dE(e,gE);var r=dE(e.firestore,CE),i=V_(e.converter,t,n);return $_(r,[QE(GE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Kv.none())])}function G_(e,t,n){e=dE(e,gE);for(var r=dE(e.firestore,CE),i=GE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return $_(r,[("string"==typeof(t=Lu(t))||t instanceof jE?n_(i,"updateDoc",e._key,t,n,o):t_(i,"updateDoc",e._key,t)).toMutation(e._key,Kv.exists(!0))])}function Q_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Lu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||SE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(SE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof gE)l=dE(e.firestore,CE),f=fv(e._key.path),c={next:function(t){n[s]&&n[s](X_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=dE(e,kE);l=dE(p.firestore,CE),f=p._query;var v=new z_(l);c={next:function(e){n[s]&&n[s](new k_(l,v,p,e))},error:n[s+1],complete:n[s+2]},x_(e._query)}return function(e,t,n,r){var i=new Ux(r),a=new Cw(t,i,n);return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ww,t.next=3,rE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ew,t.next=3,rE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NE(l),f,h,c)}function Y_(e,t){return function(e,t){var n=new Ux(t);return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){bd(e).Eu.add(t),t.next()},t.next=3,rE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){bd(e).Eu.delete(t)},t.next=3,rE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NE(e=dE(e,CE)),SE(t)?t:{next:t})}function $_(e,t){return function(e,t){var n=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function r(){return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ww,r.next=3,nE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(NE(e),t)}function X_(e,t,n){var r=n.docs.get(t._key),i=new z_(e);return new y_(e,i,t._key,r,new m_(n.hasPendingWrites,n.fromCache),t.converter)}var J_=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,r))._firestore=e,i}return cn(n,[{key:"get",value:function(e){var t=this,r=q_(e,this._firestore),i=new z_(this._firestore);return Hn(Kn(n.prototype),"get",this).call(this,e).then((function(e){return new y_(t._firestore,i,r._key,e._document,new m_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){un(this,e),this._firestore=t,this._transaction=n,this._dataReader=GE(t)}return cn(e,[{key:"get",value:function(e){var t=this,n=q_(e,this._firestore),r=new U_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gd();var i=e[0];if(i.isFoundDocument())return new d_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new d_(t._firestore,r,n._key,null,n.converter);throw gd()}))}},{key:"set",value:function(e,t,n){var r=q_(e,this._firestore),i=V_(r.converter,t,n),a=QE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=q_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Lu(t))||t instanceof jE?n_(this._dataReader,"Transaction.update",i._key,t,n,o):t_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=q_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Z_(e,t){return function(e,t){var n=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function r(){var i;return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Xx(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new zx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(NE(e=dE(e,CE)),(function(n){return t(new J_(e,n))}))}function eI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JE("arrayUnion",t)}function tI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fd=e}(gs),fs(new Bu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new CE(i,new Td(e.getProvider("auth-internal")),new Od(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),_s(cd,"3.4.8",e),_s(cd,"3.4.8","esm2017")}();function nI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function rI(){if("undefined"===typeof Uint8Array)throw new xd("unimplemented","Uint8Arrays are not available in this environment.")}function iI(){if("undefined"==typeof atob)throw new xd("unimplemented","Blobs are unavailable in Firestore in this environment.")}var aI=function(){function e(t){un(this,e),this._delegate=t}return cn(e,[{key:"toBase64",value:function(){return iI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return rI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return iI(),new e(FE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return rI(),new e(FE.fromUint8Array(t))}}]),e}();function oI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ei(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uI=function(){function e(){un(this,e)}return cn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ME(e=dE(e,CE));var n=NE(e),r=e._freezeSettings(),i=new Fx;return OE(n,i,new Mx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ME(e=dE(e,CE));var t=NE(e),n=e._freezeSettings(),r=new Fx;return OE(t,r,new jx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new xd(wd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ed;return e._queue.enqueueAndForgetEvenWhileRestricted(Po(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ky.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ky.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(wk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),sI=function(){function e(t,n,r){var i=this;un(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rp||(this._appCompat=t)}return cn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||md("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return DE(this._delegate)}},{key:"disableNetwork",value:function(){return PE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&cE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ed;return e.asyncQueue.enqueueAndForget(Po(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=nx,n.next=3,nE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(NE(e=dE(e,CE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Y_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new xd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new xI(this,wE(this._delegate,e))}catch(UL){throw pI(UL,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new dI(this,xE(this._delegate,e))}catch(UL){throw pI(UL,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new kI(this,function(e,t){if(e=dE(e,mE),sE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xd(wd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kE(e,null,function(e){return new cv(Kd.emptyPath(),e)}(t))}(this._delegate,e))}catch(UL){throw pI(UL,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Z_(this._delegate,(function(n){return e(new lI(t,n))}))}},{key:"batch",value:function(){var e=this;return NE(this._delegate),new fI(new B_(this._delegate,(function(t){return $_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return RE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LE(this._delegate,e).then((function(e){return e?new kI(t,e):null}))}}]),e}(),cI=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this)).firestore=e,r}return cn(n,[{key:"convertBytes",value:function(e){return new aI(new FE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return dI.forKey(t,this.firestore,null)}}]),n}(F_);var lI=function(){function e(t,n){un(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new cI(t)}return cn(e,[{key:"get",value:function(e){var t=this,n=EI(e);return this._delegate.get(n).then((function(e){return new yI(t._firestore,new y_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=EI(e);return n?(nI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=EI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EI(e);return this._delegate.delete(t),this}}]),e}(),fI=function(){function e(t){un(this,e),this._delegate=t}return cn(e,[{key:"set",value:function(e,t,n){var r=EI(e);return n?(nI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=EI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),hI=function(){function e(t,n,r){un(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return cn(e,[{key:"fromFirestore",value:function(e,t){var n=new g_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new cI(t),n),i.set(n,a)),a}}]),e}();hI.INSTANCES=new WeakMap;var dI=function(){function e(t,n){un(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new cI(t)}return cn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new xI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new xI(this.firestore,wE(this._delegate,e))}catch(UL){throw pI(UL,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Lu(e))instanceof gE&&EE(this._delegate,e)}},{key:"set",value:function(e,t){t=nI("DocumentReference.set",t);try{return t?H_(this._delegate,e,t):H_(this._delegate,e)}catch(UL){throw pI(UL,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?G_(this._delegate,e):G_.apply(void 0,[this._delegate,e,t].concat(r))}catch(UL){throw pI(UL,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return $_(dE(e.firestore,CE),[new am(e._key,Kv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vI(n),a=mI(n,(function(t){return new yI(e.firestore,new y_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Q_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?K_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dE(e,gE);var t=dE(e.firestore,CE);return aE(NE(t),e._key,{source:"server"}).then((function(n){return X_(t,e,n)}))}(this._delegate):function(e){e=dE(e,gE);var t=dE(e.firestore,CE);return aE(NE(t),e._key).then((function(n){return X_(t,e,n)}))}(this._delegate),t.then((function(e){return new yI(n.firestore,new y_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new xd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new gE(n._delegate,r,new up(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new gE(n._delegate,r,t))}}]),e}();function pI(e,t,n){return e.message=e.message.replace(t,n),e}function vI(e){var t,n=ei(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!oI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function mI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=oI(e[0])?e[0]:oI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yI=function(){function e(t,n){un(this,e),this._firestore=t,this._delegate=n}return cn(e,[{key:"ref",get:function(){return new dI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return w_(this._delegate,e._delegate)}}]),e}(),gI=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||gd()}(void 0!==t),t}}]),n}(yI),kI=function(){function e(t,n){un(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new cI(t)}return cn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,__(this._delegate,function(e,t,n){var r=t,i=v_("where",e);return new I_(i,r,n)}(t,n,r)))}catch(UL){throw pI(UL,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,__(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=v_("orderBy",e);return new S_(n,t)}(t,n)))}catch(UL){throw pI(UL,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,__(this._delegate,function(e){return pE("limit",e),new T_("limit",e,"F")}(t)))}catch(UL){throw pI(UL,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,__(this._delegate,function(e){return pE("limitToLast",e),new T_("limitToLast",e,"L")}(t)))}catch(UL){throw pI(UL,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,__(this._delegate,N_.apply(void 0,arguments)))}catch(UL){throw pI(UL,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,__(this._delegate,A_.apply(void 0,arguments)))}catch(UL){throw pI(UL,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,__(this._delegate,D_.apply(void 0,arguments)))}catch(UL){throw pI(UL,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,__(this._delegate,P_.apply(void 0,arguments)))}catch(UL){throw pI(UL,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return _E(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?W_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dE(e,kE);var t=dE(e.firestore,CE),n=NE(t),r=new z_(t);return oE(n,e._query,{source:"server"}).then((function(n){return new k_(t,r,e,n)}))}(this._delegate):function(e){e=dE(e,kE);var t=dE(e.firestore,CE),n=NE(t),r=new z_(t);return x_(e._query),oE(n,e._query).then((function(n){return new k_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new wI(n.firestore,new k_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vI(n),a=mI(n,(function(t){return new wI(e.firestore,new k_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Q_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),bI=function(){function e(t,n){un(this,e),this._firestore=t,this._delegate=n}return cn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new gI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),wI=function(){function e(t,n){un(this,e),this._firestore=t,this._delegate=n}return cn(e,[{key:"query",get:function(){return new kI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new gI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new bI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new gI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return w_(this._delegate,e._delegate)}}]),e}(),xI=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return cn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new dI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new dI(this.firestore,void 0===e?xE(this._delegate):xE(this._delegate,e))}catch(UL){throw pI(UL,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=dE(e.firestore,CE),r=xE(e),i=V_(e.converter,t);return $_(n,[QE(GE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Kv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new dI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return EE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(hI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(kI);function EI(e){return dE(e,gE)}var _I,II=function(){function e(){un(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=au(jE,n)}return cn(e,[{key:"isEqual",value:function(e){return(e=Lu(e))instanceof jE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hd.keyField().canonicalString())}}]),e}(),SI=function(){function e(t){un(this,e),this._delegate=t}return cn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new XE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new YE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=eI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=tI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new e_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),TI={Firestore:sI,GeoPoint:UE,Timestamp:Fd,Blob:aI,Transaction:lI,WriteBatch:fI,DocumentReference:dI,DocumentSnapshot:yI,Query:kI,QueryDocumentSnapshot:gI,QuerySnapshot:wI,CollectionReference:xI,FieldPath:II,FieldValue:SI,setLogLevel:function(e){!function(e){hd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Bu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},TI)))})(_I=Qs,(function(e,t){return new sI(e,t,new uI)})),_I.registerVersion("@firebase/firestore-compat","0.1.17");function CI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var NI;Object.create;var AI="facebook.com",OI="github.com",DI="google.com",PI="password",RI="twitter.com",LI="EMAIL_SIGNIN",MI="PASSWORD_RESET",jI="RECOVER_EMAIL",FI="REVERT_SECOND_FACTOR_ADDITION",VI="VERIFY_AND_CHANGE_EMAIL",UI="VERIFY_EMAIL";function BI(){return xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qI=function(){var e;return xe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),xe(e,"argument-error",""),xe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),xe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),xe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),xe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),xe(e,"cordova-not-ready","Cordova framework is not ready."),xe(e,"cors-unsupported","This browser is not supported."),xe(e,"credential-already-in-use","This credential is already associated with a different user account."),xe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),xe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),xe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),xe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),xe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),xe(e,"email-already-in-use","The email address is already in use by another account."),xe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),xe(e,"expired-action-code","The action code has expired."),xe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),xe(e,"internal-error","An internal AuthError has occurred."),xe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),xe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),xe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),xe(e,"invalid-auth-event","An internal AuthError has occurred."),xe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),xe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),xe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),xe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),xe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),xe(e,"invalid-email","The email address is badly formatted."),xe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),xe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),xe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),xe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),xe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),xe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),xe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),xe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),xe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),xe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),xe(e,"wrong-password","The password is invalid or the user does not have a password."),xe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),xe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),xe(e,"invalid-provider-id","The specified provider ID is invalid."),xe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),xe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),xe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),xe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),xe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),xe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),xe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),xe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),xe(e,"missing-continue-uri","A continue URL must be provided in the request."),xe(e,"missing-iframe-start","An internal AuthError has occurred."),xe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),xe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),xe(e,"missing-multi-factor-info","No second factor identifier is provided."),xe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),xe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),xe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),xe(e,"app-deleted","This instance of FirebaseApp has been deleted."),xe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),xe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),xe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),xe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),xe(e,"no-auth-event","An internal AuthError has occurred."),xe(e,"no-such-provider","User was not linked to an account with the given provider."),xe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),xe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),xe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),xe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),xe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),xe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),xe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),xe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),xe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),xe(e,"rejected-credential","The request contains malformed or mismatching credentials."),xe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),xe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),xe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),xe(e,"timeout","The operation has timed out."),xe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),xe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),xe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),xe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),xe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),xe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),xe(e,"unverified-email","The operation requires a verified email."),xe(e,"user-cancelled","The user did not grant your application the permissions it requested."),xe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),xe(e,"user-disabled","The user account has been disabled by an administrator."),xe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),xe(e,"user-signed-out",""),xe(e,"weak-password","The password must be 6 characters long or more."),xe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),xe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},zI=BI,KI=new Eu("auth","Firebase",BI()),WI=new es("@firebase/auth");function HI(e){if(WI.logLevel<=Wu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];WI.error.apply(WI,["Auth (".concat(gs,"): ").concat(e)].concat(n))}}function GI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw XI.apply(void 0,[e].concat(n))}function QI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XI.apply(void 0,[e].concat(n))}function YI(e,t,n){var r=Object.assign(Object.assign({},zI()),xe({},t,n));return new Eu("auth","Firebase",r).create(t,{appName:e.name})}function $I(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&GI(e,"argument-error"),YI(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function XI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=on(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(on(o)))}return KI.create.apply(KI,[e].concat(n))}function JI(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw XI.apply(void 0,[t].concat(r))}}function ZI(e){var t="INTERNAL ASSERTION FAILED: "+e;throw HI(t),new Error(t)}function eS(e,t){e||ZI(t)}var tS=new Map;function nS(e){eS(e instanceof Function,"Expected a class definition");var t=tS.get(e);return t?(eS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tS.set(e,t),t)}function rS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function iS(){return"http:"===aS()||"https:"===aS()}function aS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var oS=function(){function e(t,n){un(this,e),this.shortDelay=t,this.longDelay=n,eS(n>t,"Short delay should be less than long delay!"),this.isMobile=mu()||ku()}return cn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(iS()||gu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function uS(e,t){eS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var sS=function(){function e(){un(this,e)}return cn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ZI("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ZI("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ZI("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),cS=(xe(NI={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),xe(NI,"MISSING_CUSTOM_TOKEN","internal-error"),xe(NI,"INVALID_IDENTIFIER","invalid-email"),xe(NI,"MISSING_CONTINUE_URI","internal-error"),xe(NI,"INVALID_PASSWORD","wrong-password"),xe(NI,"MISSING_PASSWORD","internal-error"),xe(NI,"EMAIL_EXISTS","email-already-in-use"),xe(NI,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),xe(NI,"INVALID_IDP_RESPONSE","invalid-credential"),xe(NI,"INVALID_PENDING_TOKEN","invalid-credential"),xe(NI,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),xe(NI,"MISSING_REQ_TYPE","internal-error"),xe(NI,"EMAIL_NOT_FOUND","user-not-found"),xe(NI,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),xe(NI,"EXPIRED_OOB_CODE","expired-action-code"),xe(NI,"INVALID_OOB_CODE","invalid-action-code"),xe(NI,"MISSING_OOB_CODE","internal-error"),xe(NI,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),xe(NI,"INVALID_ID_TOKEN","invalid-user-token"),xe(NI,"TOKEN_EXPIRED","user-token-expired"),xe(NI,"USER_NOT_FOUND","user-token-expired"),xe(NI,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),xe(NI,"INVALID_CODE","invalid-verification-code"),xe(NI,"INVALID_SESSION_INFO","invalid-verification-id"),xe(NI,"INVALID_TEMPORARY_PROOF","invalid-credential"),xe(NI,"MISSING_SESSION_INFO","missing-verification-id"),xe(NI,"SESSION_EXPIRED","code-expired"),xe(NI,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),xe(NI,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),xe(NI,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),xe(NI,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),xe(NI,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),xe(NI,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),xe(NI,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),xe(NI,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),xe(NI,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),xe(NI,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),xe(NI,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),NI),lS=new oS(3e4,6e4);function fS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function hS(e,t,n,r){return dS.apply(this,arguments)}function dS(){return dS=Po(Lo().mark((function e(t,n,r,i){var a,o=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",pS(t,a,Po(Lo().mark((function e(){var a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Nu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",sS.fetch()(gS(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t,n){return vS.apply(this,arguments)}function vS(){return(vS=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},cS),n),e.prev=2,a=new kS(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw bS(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=$t(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw bS(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw bS(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw YI(t,d,h);case 30:GI(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof xu)){e.next=37;break}throw e.t0;case 37:GI(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function mS(e,t,n,r){return yS.apply(this,arguments)}function yS(){return yS=Po(Lo().mark((function e(t,n,r,i){var a,o,u=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,hS(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&GI(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?uS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var kS=function(){function e(t){var n=this;un(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(QI(n.auth,"network-request-failed"))}),lS.get())}))}return cn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function bS(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=QI(e,t,r);return i.customData._tokenResponse=n,i}function wS(e,t){return xS.apply(this,arguments)}function xS(){return(xS=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t){return _S.apply(this,arguments)}function _S(){return(_S=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e,t){return SS.apply(this,arguments)}function SS(){return(SS=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(UL){}}function CS(){return CS=Po(Lo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Lu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,JI((a=AS(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:TS(NS(a.auth_time)),issuedAtTime:TS(NS(a.iat)),expirationTime:TS(NS(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function NS(e){return 1e3*Number(e)}function AS(e){var t=$t(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return HI("JWT malformed, contained fewer than 3 sections"),null;try{var a=lu(r);return a?JSON.parse(a):(HI("Failed to decode base64 JWT payload"),null)}catch(UL){return HI("Caught error parsing JWT payload as JSON",UL),null}}function OS(e,t){return DS.apply(this,arguments)}function DS(){return DS=Po(Lo().mark((function e(t,n){var r=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xu&&PS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),DS.apply(this,arguments)}function PS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var RS=function(){function e(t){un(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return cn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),LS=function(){function e(t,n){un(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return cn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=TS(this.lastLoginAt),this.creationTime=TS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function MS(e){return jS.apply(this,arguments)}function jS(){return jS=Po(Lo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,OS(t,IS(r,{idToken:i}));case 6:JI(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?US(o.providerUserInfo):[],s=VS(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new LS(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function FS(){return(FS=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lu(t),e.next=3,MS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VS(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(on(n),on(t))}function US(e){return e.map((function(e){var t=e.providerId,n=CI(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function BS(e,t){return qS.apply(this,arguments)}function qS(){return(qS=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pS(t,{},Po(Lo().mark((function e(){var r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=gS(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",sS.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zS=function(){function e(){un(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return cn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){JI(e.idToken,"internal-error"),JI("undefined"!==typeof e.idToken,"internal-error"),JI("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=AS(e);return JI(t,"internal-error"),JI("undefined"!==typeof t.exp,"internal-error"),JI("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Po(Lo().mark((function e(t){var n,r=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],JI(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BS(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ZI("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(JI("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(JI("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(JI("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function KS(e,t){JI("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var WS=function(){function e(t){un(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=CI(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?on(a.providerData):[],this.metadata=new LS(a.createdAt||void 0,a.lastLoginAt||void 0)}return cn(e,[{key:"getIdToken",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OS(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(JI(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return CS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return FS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(JI(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){JI(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Po(Lo().mark((function e(t){var n,r,i=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,MS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,OS(this,wS(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;JI(k&&E,t,"internal-error");var _=zS.fromJSON(this.name,E);JI("string"===typeof k,t,"internal-error"),KS(f,t.name),KS(h,t.name),JI("boolean"===typeof b,t,"internal-error"),JI("boolean"===typeof w,t,"internal-error"),KS(d,t.name),KS(p,t.name),KS(v,t.name),KS(m,t.name),KS(y,t.name),KS(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Po(Lo().mark((function t(n,r){var i,a,o,u=arguments;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new zS).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,MS(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),HS=function(){function e(){un(this,e),this.type="NONE",this.storage={}}return cn(e,[{key:"_isAvailable",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();HS.type="NONE";var GS=HS;function QS(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var YS=function(){function e(t,n,r){un(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=QS(this.userKey,a.apiKey,o),this.fullPersistenceKey=QS("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return cn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?WS._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Po(Lo().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(nS(GS),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||nS(GS),u=QS(i,n.config.apiKey,n.name),s=null,c=ei(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=WS._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $S(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(XS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nT(t))return"Blackberry";if(rT(t))return"Webos";if(JS(t))return"Safari";if((t.includes("chrome/")||ZS(t))&&!t.includes("edge/"))return"Chrome";if(tT(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function XS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/firefox\//i.test(e)}function JS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/crios\//i.test(e)}function eT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/iemobile/i.test(e)}function tT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/android/i.test(e)}function nT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/blackberry/i.test(e)}function rT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/webos/i.test(e)}function iT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/iphone|ipad|ipod/i.test(e)}function aT(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return iT(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function oT(){return bu()&&10===document.documentMode}function uT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return iT(e)||tT(e)||rT(e)||nT(e)||/windows phone/i.test(e)||eT(e)}function sT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$S(vu());break;case"Worker":t="".concat($S(vu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(gs,"/").concat(r)}var cT=function(){function e(t,n,r){un(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KI,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return cn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=nS(t)),this._initializationPromise=this.queue(Po(Lo().mark((function r(){var i,a;return Lo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,YS.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Po(Lo().mark((function e(t){var n,r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return JI(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,MS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Lu(t):null)&&JI(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Po(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&JI(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Po(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(nS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Eu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return JI(n=t&&nS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,YS.create(this,[nS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Po(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return JI(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return JI(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Po(Lo().mark((function e(){var t,n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lT(e){return Lu(e)}var fT=function(){function e(t){var n=this;un(this,e),this.auth=t,this.observer=null,this.addObserver=Du((function(e){return n.observer=e}))}return cn(e,[{key:"next",get:function(){return JI(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function hT(e,t,n){var r=lT(e);JI(r._canInitEmulator,r,"emulator-config-failed"),JI(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=dT(t),o=function(e){var t=dT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:pT(r.substr(a.length+1))}}var o=$t(r.split(":"),2);return{host:o[0],port:pT(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function dT(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pT(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var vT=function(){function e(t,n){un(this,e),this.providerId=t,this.signInMethod=n}return cn(e,[{key:"toJSON",value:function(){return ZI("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ZI("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ZI("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ZI("not implemented")}}]),e}();function mT(e,t){return yT.apply(this,arguments)}function yT(){return(yT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:resetPassword",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gT(e,t){return kT.apply(this,arguments)}function kT(){return(kT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bT(e,t){return wT.apply(this,arguments)}function wT(){return(wT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:update",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xT(e,t){return ET.apply(this,arguments)}function ET(){return(ET=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithPassword",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _T(e,t){return IT.apply(this,arguments)}function IT(){return(IT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:sendOobCode",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ST(e,t){return TT.apply(this,arguments)}function TT(){return(TT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_T(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CT(e,t){return NT.apply(this,arguments)}function NT(){return(NT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_T(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t){return OT.apply(this,arguments)}function OT(){return(OT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_T(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DT(e,t){return PT.apply(this,arguments)}function PT(){return(PT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_T(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RT(e,t){return LT.apply(this,arguments)}function LT(){return(LT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithEmailLink",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MT(e,t){return jT.apply(this,arguments)}function jT(){return(jT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithEmailLink",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FT=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return un(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return cn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xT(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",RT(t,{email:this._email,oobCode:this._password}));case 5:GI(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",gT(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",MT(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:GI(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(vT);function VT(e,t){return UT.apply(this,arguments)}function UT(){return(UT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithIdp",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var BT=function(e){Gn(n,e);var t=Jn(n);function n(){var e;return un(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return cn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return VT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,VT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,VT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):GI("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=CI(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(vT);function qT(e,t){return zT.apply(this,arguments)}function zT(){return(zT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:sendVerificationCode",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KT(){return(KT=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithPhoneNumber",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WT(){return(WT=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mS(t,"POST","/v1/accounts:signInWithPhoneNumber",fS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw bS(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HT=xe({},"USER_NOT_FOUND","user-not-found");function GT(){return(GT=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithPhoneNumber",fS(t,r),HT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QT=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this,"phone","phone")).params=e,r}return cn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return KT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return WT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return GT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(vT);var YT=function(){function e(t){var n,r,i,a,o,u;un(this,e);var s=Au(Ou(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);JI(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return cn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Au(Ou(e)).link,n=t?Au(Ou(t)).deep_link_id:null,r=Au(Ou(e)).deep_link_id;return(r?Au(Ou(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(lx){return null}}}]),e}();var $T=function(){function e(){un(this,e),this.providerId=e.PROVIDER_ID}return cn(e,null,[{key:"credential",value:function(e,t){return FT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=YT.parseLink(t);return JI(n,"argument-error"),FT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$T.PROVIDER_ID="password",$T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$T.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var XT=function(){function e(t){un(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return cn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),JT=function(e){Gn(n,e);var t=Jn(n);function n(){var e;return un(this,n),(e=t.apply(this,arguments)).scopes=[],e}return cn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return on(this.scopes)}}]),n}(XT),ZT=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.apply(this,arguments)}return cn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return JI(e.idToken||e.accessToken,"argument-error"),BT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return JI("providerId"in t&&"signInMethod"in t,"argument-error"),BT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(UL){return null}}}]),n}(JT),eC=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.call(this,"facebook.com")}return cn(n,null,[{key:"credential",value:function(e){return BT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lx){return null}}}]),n}(JT);eC.FACEBOOK_SIGN_IN_METHOD="facebook.com",eC.PROVIDER_ID="facebook.com";var tC=function(e){Gn(n,e);var t=Jn(n);function n(){var e;return un(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return cn(n,null,[{key:"credential",value:function(e,t){return BT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(lx){return null}}}]),n}(JT);tC.GOOGLE_SIGN_IN_METHOD="google.com",tC.PROVIDER_ID="google.com";var nC=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.call(this,"github.com")}return cn(n,null,[{key:"credential",value:function(e){return BT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lx){return null}}}]),n}(JT);nC.GITHUB_SIGN_IN_METHOD="github.com",nC.PROVIDER_ID="github.com";var rC=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i;return un(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return cn(n,[{key:"_getIdTokenResponse",value:function(e){return VT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,VT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,VT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vT),iC=function(e){Gn(n,e);var t=Jn(n);function n(e){return un(this,n),JI(e.startsWith("saml."),"argument-error"),t.call(this,e)}return cn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=rC.fromJSON(e);return JI(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return rC._create(r,n)}catch(UL){return null}}}]),n}(XT),aC=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.call(this,"twitter.com")}return cn(n,null,[{key:"credential",value:function(e,t){return BT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(lx){return null}}}]),n}(JT);function oC(e,t){return uC.apply(this,arguments)}function uC(){return(uC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signUp",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}aC.TWITTER_SIGN_IN_METHOD="twitter.com",aC.PROVIDER_ID="twitter.com";var sC=function(){function e(t){un(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return cn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Po(Lo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,WS._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=cC(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Po(Lo().mark((function t(n,r,i){var a;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=cC(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function cC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function lC(){return lC=Po(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lT(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new sC({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,oC(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,sC._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}var fC=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a){var o,u;return un(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf($n(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return cn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xu);function hC(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw fC._fromErrorAndOperation(e,n,t,r);throw n}))}function dC(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function pC(e,t){return vC.apply(this,arguments)}function vC(){return vC=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lu(t),e.next=3,gC(!0,r,n);case 3:return e.t0=ES,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=dC(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t){return yC.apply(this,arguments)}function yC(){return yC=Po(Lo().mark((function e(t,n){var r,i,a=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=OS,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",sC._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function gC(e,t,n){return kC.apply(this,arguments)}function kC(){return(kC=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS(n);case 2:i=dC(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",JI(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bC(e,t){return wC.apply(this,arguments)}function wC(){return wC=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,OS(t,hC(i,a,n,t),r);case 6:return JI((o=e.sent).idToken,i,"internal-error"),JI(u=AS(o.idToken),i,"internal-error"),s=u.sub,JI(t.uid===s,i,"user-mismatch"),e.abrupt("return",sC._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&GI(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),wC.apply(this,arguments)}function xC(e,t){return EC.apply(this,arguments)}function EC(){return EC=Po(Lo().mark((function e(t,n){var r,i,a,o,u=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,hC(t,i,n);case 4:return a=e.sent,e.next=7,sC._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function _C(e,t){return IC.apply(this,arguments)}function IC(){return(IC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xC(lT(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SC(e,t){return TC.apply(this,arguments)}function TC(){return(TC=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lu(t),e.next=3,gC(!1,r,n.providerId);case 3:return e.abrupt("return",mC(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CC(e,t){return NC.apply(this,arguments)}function NC(){return(NC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bC(Lu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AC(e,t){return OC.apply(this,arguments)}function OC(){return(OC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mS(t,"POST","/v1/accounts:signInWithCustomToken",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DC(){return(DC=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lT(t),e.next=3,AC(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,sC._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PC=function(){function e(t,n){un(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return cn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?RC._fromServerResponse(e,t):GI(e,"internal-error")}}]),e}(),RC=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return cn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(PC);function LC(e,t,n){var r;JI((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),JI("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(JI(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(JI(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function MC(){return(MC=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lu(t),a={requestType:"PASSWORD_RESET",email:n},r&&LC(i,a,r),e.next=5,CT(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jC(){return(jC=Po(Lo().mark((function e(t,n,r){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mT(Lu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FC(){return(FC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bT(Lu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VC(e,t){return UC.apply(this,arguments)}function UC(){return(UC=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lu(t),e.next=3,mT(r,{oobCode:n});case 3:i=e.sent,JI(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return JI(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:JI(i.mfaInfo,r,"internal-error");case 13:JI(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=PC._fromServerResponse(lT(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BC(){return(BC=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VC(Lu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qC(e,t,n){return zC.apply(this,arguments)}function zC(){return(zC=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lT(t),e.next=3,oC(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,sC._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(){return(KC=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lu(t),a={requestType:"EMAIL_SIGNIN",email:n},JI(r.handleCodeInApp,i,"argument-error"),r&&LC(i,a,r),e.next=6,AT(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WC(){return(WC=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lu(t),JI((a=$T.credentialWithLink(n,r||rS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",_C(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HC(e,t){return GC.apply(this,arguments)}function GC(){return(GC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:createAuthUri",fS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QC(){return(QC=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=iS()?rS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,HC(Lu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YC(){return(YC=Po(Lo().mark((function e(t,n){var r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&LC(r.auth,a,n),e.next=8,ST(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $C(){return($C=Po(Lo().mark((function e(t,n,r){var i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&LC(i.auth,o,r),e.next=8,DT(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XC(e,t){return JC.apply(this,arguments)}function JC(){return(JC=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZC(){return(ZC=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Lu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,OS(a,XC(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eN(e,t,n){return tN.apply(this,arguments)}function tN(){return(tN=Po(Lo().mark((function e(t,n,r){var i,a,o,u;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,OS(t,gT(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nN=cn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};un(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),rN=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a){var o;return un(this,n),(o=t.call(this,e,r,i)).username=a,o}return cn(n)}(nN),iN=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"facebook.com",r)}return cn(n)}(nN),aN=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return cn(n)}(rN),oN=function(e){Gn(n,e);var t=Jn(n);function n(e,r){return un(this,n),t.call(this,e,"google.com",r)}return cn(n)}(nN),uN=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i){return un(this,n),t.call(this,e,"twitter.com",r,i)}return cn(n)}(rN);function sN(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=AS(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new nN(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new iN(a,i);case"github.com":return new aN(a,i);case"google.com":return new oN(a,i);case"twitter.com":return new uN(a,i,e.screenName||null);case"custom":case"anonymous":return new nN(a,null);default:return new nN(a,r,i)}}(n)}var cN=function(){function e(t,n){un(this,e),this.type=t,this.credential=n}return cn(e,[{key:"toJSON",value:function(){return{multiFactorSession:xe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),lN=function(){function e(t,n,r){un(this,e),this.session=t,this.hints=n,this.signInResolver=r}return cn(e,[{key:"resolveSignIn",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=lT(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return PC._fromServerResponse(r,e)}));JI(i.mfaPendingCredential,r,"internal-error");var o=cN._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Po(Lo().mark((function e(t){var a,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,sC._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return JI(n.user,r,"internal-error"),e.abrupt("return",sC._forOperation(n.user,n.operationType,u));case 17:GI(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function fN(e,t){return hS(e,"POST","/v2/accounts/mfaEnrollment:start",fS(e,t))}var hN=function(){function e(t){var n=this;un(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return PC._fromServerResponse(t.auth,e)})))}))}return cn(e,[{key:"getSession",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=cN,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,OS(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Po(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,OS(this.user,hS(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",fS(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),dN=new WeakMap;var pN="__sak",vN=function(){function e(t,n){un(this,e),this.storageRetriever=t,this.type=n}return cn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pN,"1"),this.storage.removeItem(pN),Promise.resolve(!0)):Promise.resolve(!1)}catch(lx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var mN=function(e){Gn(n,e);var t=Jn(n);function n(){var e;return un(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vu();return JS(e)||iT(e)}()&&function(){try{return!(!window||window===window.top)}catch(UL){return!1}}(),e.fallbackToPolling=uT(),e._shouldAllowMigration=!0,e}return cn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);oT()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Po(Lo().mark((function e(t,r){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(Kn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Po(Lo().mark((function e(t){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(Kn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(Kn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(vN);mN.type="LOCAL";var yN=mN,gN=function(e){Gn(n,e);var t=Jn(n);function n(){return un(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return cn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vN);gN.type="SESSION";var kN=gN;function bN(e){return Promise.all(e.map(function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var wN=function(){function e(t){un(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return cn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Po(Lo().mark((function e(t){var n,r,i,a,o,u,s,c;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bN(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function xN(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wN.receivers=[];var EN=function(){function e(t){un(this,e),this.target=t,this.handlers=new Set}return cn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Po(Lo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=xN("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function _N(){return window}function IN(){return"undefined"!==typeof _N().WorkerGlobalScope&&"function"===typeof _N().importScripts}function SN(){return TN.apply(this,arguments)}function TN(){return(TN=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function CN(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var NN="firebaseLocalStorageDb",AN="firebaseLocalStorage",ON="fbase_key",DN=function(){function e(t){un(this,e),this.request=t}return cn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function PN(e,t){return e.transaction([AN],t?"readwrite":"readonly").objectStore(AN)}function RN(){var e=indexedDB.deleteDatabase(NN);return new DN(e).toPromise()}function LN(){var e=indexedDB.open(NN,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(AN,{keyPath:ON})}catch(UL){n(UL)}})),e.addEventListener("success",Po(Lo().mark((function n(){var r;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(AN)){n.next=12;break}return r.close(),n.next=5,RN();case 5:return n.t0=t,n.next=8,LN();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function MN(e,t,n){return jN.apply(this,arguments)}function jN(){return jN=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=PN(t,!0).put((xe(i={},ON,n),xe(i,"value",r),i)),e.abrupt("return",new DN(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),jN.apply(this,arguments)}function FN(e,t){return VN.apply(this,arguments)}function VN(){return VN=Po(Lo().mark((function e(t,n){var r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PN(t,!1).get(n),e.next=3,new DN(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}function UN(e,t){var n=PN(e,!0).delete(t);return new DN(n).toPromise()}var BN=function(){function e(){un(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return cn(e,[{key:"_openDb",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,LN();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IN()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Po(Lo().mark((function e(){var t=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=wN._getInstance(IN()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Po(Lo().mark((function e(n,r){var i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Po(Lo().mark((function e(){var t,n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SN();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new EN(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&CN()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,LN();case 5:return t=e.sent,e.next=8,MN(t,pN,"1");case 8:return e.next=10,UN(t,pN);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Po(Lo().mark((function e(t,n){var r=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return MN(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return FN(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Po(Lo().mark((function e(t){var n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return UN(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Po(Lo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=PN(e,!1).getAll();return new DN(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ei(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Po(Lo().mark((function t(){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();BN.type="LOCAL";var qN=BN;function zN(e,t){return hS(e,"POST","/v2/accounts/mfaSignIn:start",fS(e,t))}function KN(e){return WN.apply(this,arguments)}function WN(){return(WN=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HN(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=QI("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function GN(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var QN=1e12,YN=function(){function e(t){un(this,e),this.auth=t,this.counter=QN,this._widgets=new Map}return cn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new $N(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||QN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||QN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||QN,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$N=function(){function e(t,n,r){var i=this;un(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;JI(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return cn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(UL){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(UL){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var XN=GN("rcb"),JN=new oS(3e4,6e4),ZN="https://www.google.com/recaptcha/api.js?",eA=function(){function e(){un(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_N().grecaptcha}return cn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return JI(tA(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(_N().grecaptcha):new Promise((function(r,i){var a=_N().setTimeout((function(){i(QI(e,"network-request-failed"))}),JN.get());_N()[XN]=function(){_N().clearTimeout(a),delete _N()[XN];var o=_N().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(QI(e,"internal-error"))},HN("".concat(ZN,"?").concat(Nu({onload:XN,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(QI(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!_N().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function tA(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var nA=function(){function e(){un(this,e)}return cn(e,[{key:"load",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new YN(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),rA="recaptcha",iA={theme:"light",type:"image"},aA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},iA),r=arguments.length>2?arguments[2]:void 0;un(this,e),this.parameters=n,this.type=rA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lT(r),this.isInvisible="invisible"===this.parameters.size,JI("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;JI(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nA:new eA,this.validateStartingState()}return cn(e,[{key:"verify",value:function(){var e=Po(Lo().mark((function e(){var t,n,r,i=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(UL){return Promise.reject(UL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){JI(!this.parameters.sitekey,this.auth,"argument-error"),JI(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),JI("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=_N()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){JI(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Po(Lo().mark((function e(){var t,n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JI(iS()&&!IN(),this.auth,"internal-error"),e.next=3,oA();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,KN(this.auth);case 8:JI(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return JI(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function oA(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var uA=function(){function e(t,n){un(this,e),this.verificationId=t,this.onConfirmation=n}return cn(e,[{key:"confirm",value:function(e){var t=QT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function sA(){return(sA=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lT(t),e.next=3,hA(i,n,Lu(r));case 3:return a=e.sent,e.abrupt("return",new uA(a,(function(e){return _C(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cA(e,t,n){return lA.apply(this,arguments)}function lA(){return(lA=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lu(t),e.next=3,gC(!1,i,"phone");case 3:return e.next=5,hA(i.auth,n,Lu(r));case 5:return a=e.sent,e.abrupt("return",new uA(a,(function(e){return SC(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fA(){return(fA=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lu(t),e.next=3,hA(i.auth,n,Lu(r));case 3:return a=e.sent,e.abrupt("return",new uA(a,(function(e){return CC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return dA=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,JI("string"===typeof a,t,"argument-error"),JI(r.type===rA,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return JI("enroll"===u.type,t,"internal-error"),e.next=13,fN(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return JI("signin"===u.type,t,"internal-error"),JI(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,zN(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,qT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),dA.apply(this,arguments)}function pA(){return(pA=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mC(Lu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vA=function(){function e(t){un(this,e),this.providerId=e.PROVIDER_ID,this.auth=lT(t)}return cn(e,[{key:"verifyPhoneNumber",value:function(e,t){return hA(this.auth,e,Lu(t))}}],[{key:"credential",value:function(e,t){return QT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?QT._fromTokenResponse(n,r):null}}]),e}();function mA(e,t){return t?nS(t):(JI(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vA.PROVIDER_ID="phone",vA.PHONE_SIGN_IN_METHOD="phone";var yA=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this,"custom","custom")).params=e,r}return cn(n,[{key:"_getIdTokenResponse",value:function(e){return VT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return VT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return VT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vT);function gA(e){return xC(e.auth,new yA(e),e.bypassAuthState)}function kA(e){var t=e.auth,n=e.user;return JI(n,t,"internal-error"),bC(n,new yA(e),e.bypassAuthState)}function bA(e){return wA.apply(this,arguments)}function wA(){return(wA=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,JI(r=t.user,n,"internal-error"),e.abrupt("return",mC(r,new yA(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];un(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return cn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Po(Lo().mark((function t(n,r){return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Po(Lo().mark((function e(t){var n,r,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gA;case"linkViaPopup":case"linkViaRedirect":return bA;case"reauthViaPopup":case"reauthViaRedirect":return kA;default:GI(this.auth,"internal-error")}}},{key:"resolve",value:function(e){eS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){eS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),EA=new oS(2e3,1e4);function _A(e,t,n){return IA.apply(this,arguments)}function IA(){return(IA=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lT(t),$I(t,n,XT),a=mA(i,r),o=new NA(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SA(){return(SA=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $I((i=Lu(t)).auth,n,XT),a=mA(i.auth,r),o=new NA(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TA(e,t,n){return CA.apply(this,arguments)}function CA(){return(CA=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $I((i=Lu(t)).auth,n,XT),a=mA(i.auth,r),o=new NA(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var NA=function(e){Gn(n,e);var t=Jn(n);function n(e,r,i,a,o){var u;return un(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=$n(u),u}return cn(n,[{key:"executeNotNull",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return JI(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Po(Lo().mark((function e(){var t,n=this;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eS(1===this.filter.length,"Popup operations only handle one event"),t=xN(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(QI(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(QI(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(QI(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,EA.get())}()}}]),n}(xA);NA.currentPopupAction=null;var AA=new Map,OA=function(e){Gn(n,e);var t=Jn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return un(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return cn(n,[{key:"execute",value:function(){var e=Po(Lo().mark((function e(){var t,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=AA.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,DA(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Hn(Kn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:AA.set(this.auth._key(),t);case 21:return this.bypassAuthState||AA.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Po(Lo().mark((function e(t){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Hn(Kn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Hn(Kn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(xA);function DA(e,t){return PA.apply(this,arguments)}function PA(){return PA=Po(Lo().mark((function e(t,n){var r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jA(n),i=MA(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function RA(e,t){return LA.apply(this,arguments)}function LA(){return(LA=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",MA(t)._set(jA(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MA(e){return nS(e._redirectPersistence)}function jA(e){return QS("pendingRedirect",e.config.apiKey,e.name)}function FA(e,t,n){return function(e,t,n){return VA.apply(this,arguments)}(e,t,n)}function VA(){return(VA=Po(Lo().mark((function e(t,n,r){var i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lT(t),$I(t,n,XT),a=mA(i,r),e.next=5,RA(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UA(e,t,n){return function(e,t,n){return BA.apply(this,arguments)}(e,t,n)}function BA(){return(BA=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $I((i=Lu(t)).auth,n,XT),a=mA(i.auth,r),e.next=5,RA(a,i.auth);case 5:return e.next=7,QA(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(e,t,n){return function(e,t,n){return zA.apply(this,arguments)}(e,t,n)}function zA(){return(zA=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $I((i=Lu(t)).auth,n,XT),a=mA(i.auth,r),e.next=5,gC(!1,i,n.providerId);case 5:return e.next=7,RA(a,i.auth);case 7:return e.next=9,QA(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KA(e,t){return WA.apply(this,arguments)}function WA(){return(WA=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lT(t)._initializationPromise;case 2:return e.abrupt("return",HA(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HA(e,t){return GA.apply(this,arguments)}function GA(){return GA=Po(Lo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=lT(t),a=mA(i,n),o=new OA(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function QA(e){return YA.apply(this,arguments)}function YA(){return(YA=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xN("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $A=function(){function e(t){un(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return cn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!JA(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(QI(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XA(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(XA(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function XA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function JA(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ZA(e){return eO.apply(this,arguments)}function eO(){return eO=Po(Lo().mark((function e(t){var n,r=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",hS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),eO.apply(this,arguments)}var tO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nO=/^https?/;function rO(){return(rO=Po(Lo().mark((function e(t){var n,r,i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ZA(t);case 4:n=e.sent,r=n.authorizedDomains,i=ei(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!iO(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:GI(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function iO(e){var t=rS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!nO.test(r))return!1;if(tO.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var aO=new oS(3e4,6e4);function oO(){var e=_N().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=on(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var uO=null;function sO(e){return uO=uO||function(e){return new Promise((function(t,n){var r,i,a;function o(){oO(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){oO(),n(QI(e,"network-request-failed"))},timeout:aO.get()})}if(null===(i=null===(r=_N().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=_N().gapi)||void 0===a?void 0:a.load)){var u=GN("iframefcb");return _N()[u]=function(){gapi.load?o():n(QI(e,"network-request-failed"))},HN("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw uO=null,e}))}(e),uO}var cO=new oS(5e3,15e3),lO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hO(e){var t=e.config;JI(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?uS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:gs},i=fO.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Nu(r).slice(1))}function dO(e){return pO.apply(this,arguments)}function pO(){return pO=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sO(t);case 2:return n=e.sent,JI(r=_N().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:hO(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lO,dontclear:!0},(function(e){return new Promise(function(){var n=Po(Lo().mark((function n(r,i){var a,o,u;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){_N().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=QI(t,"network-request-failed"),o=_N().setTimeout((function(){i(a)}),cO.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),pO.apply(this,arguments)}var vO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mO="_blank",yO="http://localhost",gO=function(){function e(t){un(this,e),this.window=t,this.associatedEvent=null}return cn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(UL){}}}]),e}();function kO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},vO),{width:r.toString(),height:i.toString(),top:a,left:o}),c=vu().toLowerCase();n&&(u=ZS(c)?mO:n),XS(c)&&(t=t||yO,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=$t(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(aT(c)&&"_self"!==u)return bO(t||"",u),new gO(null);var f=window.open(t||"",u,l);JI(f,e,"popup-blocked");try{f.focus()}catch(UL){}return new gO(f)}function bO(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var wO="__/auth/handler",xO="emulator/auth/handler";function EO(e,t,n,r,i,a){JI(e.config.authDomain,e,"auth-domain-config-required"),JI(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gs,eventId:i};if(t instanceof XT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=$t(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof JT){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wO);return uS(t,xO)}(e),"?").concat(Nu(d).slice(1))}var _O="webStorageSupport",IO=function(){function e(){un(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kN,this._completeRedirectFn=HA}return cn(e,[{key:"_openPopup",value:function(){var e=Po(Lo().mark((function e(t,n,r,i){var a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=EO(t,n,r,rS(),i),e.abrupt("return",kO(t,o,xN()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Po(Lo().mark((function e(t,n,r,i){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=EO(t,n,r,rS(),i),_N().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(eS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dO(t);case 2:return n=e.sent,r=new $A(t),n.register("authEvent",(function(e){return JI(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(_O,{type:_O},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),GI(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return rO.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return uT()||JS()||iT()}}]),e}(),SO=IO,TO=function(e){Gn(n,e);var t=Jn(n);function n(e){var r;return un(this,n),(r=t.call(this,"phone")).credential=e,r}return cn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return hS(e,"POST","/v2/accounts/mfaEnrollment:finalize",fS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return hS(e,"POST","/v2/accounts/mfaSignIn:finalize",fS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){un(this,e),this.factorId=t}return cn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ZI("unexpected MultiFactorSessionType")}}}]),e}()),CO=function(){function e(){un(this,e)}return cn(e,null,[{key:"assertion",value:function(e){return TO._fromCredential(e)}}]),e}();CO.FACTOR_ID="phone";var NO,AO="@firebase/auth",OO="0.19.12",DO=function(){function e(t){un(this,e),this.auth=t,this.internalListeners=new Map}return cn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){JI(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function PO(){return window}NO="Browser",fs(new Bu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){JI(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),JI(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:NO,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(NO)},i=new cT(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),fs(new Bu("auth-internal",(function(e){return function(e){return new DO(e)}(lT(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),_s(AO,OO,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(NO)),_s(AO,OO,"esm2017");function RO(e,t,n){return LO.apply(this,arguments)}function LO(){return LO=Po(Lo().mark((function e(t,n,r){var i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=PO(),o=a.BuildInfo,eS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,BO(n.sessionId);case 4:return u=e.sent,s={},iT()?s.ibi=o.packageName:tT()?s.apn=o.packageName:GI(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",EO(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),LO.apply(this,arguments)}function MO(){return(MO=Po(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=PO(),r=n.BuildInfo,i={},iT()?i.iosBundleId=r.packageName:tT()?i.androidPackageName=r.packageName:GI(t,"operation-not-supported-in-this-environment"),e.next=5,ZA(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jO(e){var t=PO().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function FO(e,t,n){return VO.apply(this,arguments)}function VO(){return VO=Po(Lo().mark((function e(t,n,r){var i,a,o;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PO(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(QI(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),tT()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),VO.apply(this,arguments)}function UO(e){var t,n,r,i,a,o,u,s,c,l,f=PO();JI("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),JI("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),JI("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),JI("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),JI("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function BO(e){return qO.apply(this,arguments)}function qO(){return(qO=Po(Lo().mark((function e(t){var n,r,i;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zO(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zO(e){if(eS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var KO=function(e){Gn(n,e);var t=Jn(n);function n(){var e;return un(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return cn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Hn(Kn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}($A);function WO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:$O(),postBody:null,tenantId:e.tenantId,error:QI(e,"no-auth-event")}}function HO(e,t){return XO()._set(JO(e),t)}function GO(e){return QO.apply(this,arguments)}function QO(){return(QO=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XO()._get(JO(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,XO()._remove(JO(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YO(e,t){var n,r,i=function(e){var t=ZO(e),n=t.link?decodeURIComponent(t.link):void 0,r=ZO(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ZO(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ZO(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(UL){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?QI(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function $O(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function XO(){return nS(yN)}function JO(e){return QS("authEvent",e.config.apiKey,e.name)}function ZO(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Ht(t=n)||an(t)||Qt(t)||Yt();r[0];return Au(r.slice(1).join("?"))}var eD=function(){function e(){un(this,e),this._redirectPersistence=kN,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=HA}return cn(e,[{key:"_initialize",value:function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new KO(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){GI(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Po(Lo().mark((function e(t,n,r,i){var a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return UO(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),AA.clear(),e.next=10,this._originValidation(t);case 10:return o=WO(t,r,i),e.next=13,HO(t,o);case 13:return e.next=15,RO(t,o,n);case 15:return u=e.sent,e.next=18,jO(u);case 18:return s=e.sent,e.abrupt("return",FO(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return MO.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=PO(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Po(Lo().mark((function n(){return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,GO(e);case 2:t.onEvent(nD());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Po(Lo().mark((function n(r){var i,a;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,GO(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=YO(i,r.url)),t.onEvent(a||nD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");PO().handleOpenURL=function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(UL){console.error(UL)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),tD=eD;function nD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:QI("no-auth-event")}}function rD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function iD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return!("file:"!==rD()&&"ionic:"!==rD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function aD(){return bu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function oD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return/Edge\/\d+/.test(e)}function uD(){try{var e=self.localStorage,t=xN();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu();return aD()||oD(e)}()||wu()}catch(UL){return sD()&&wu()}return!1}function sD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cD(){return("http:"===rD()||"https:"===rD()||gu()||iD())&&!(ku()||yu())&&uD()&&!sD()}function lD(){return iD()&&"undefined"!==typeof document}function fD(){return hD.apply(this,arguments)}function hD(){return(hD=Po(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dD={LOCAL:"local",NONE:"none",SESSION:"session"},pD=JI,vD="persistence";function mD(e,t){pD(Object.values(dD).includes(t),e,"invalid-persistence-type"),ku()?pD(t!==dD.SESSION,e,"unsupported-persistence-type"):yu()?pD(t===dD.NONE,e,"unsupported-persistence-type"):sD()?pD(t===dD.NONE||t===dD.LOCAL&&wu(),e,"unsupported-persistence-type"):pD(t===dD.NONE||uD(),e,"unsupported-persistence-type")}function yD(e){return gD.apply(this,arguments)}function gD(){return gD=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=kD(),r=QS(vD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function kD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(UL){return null}}var bD=JI,wD=function(){function e(){un(this,e),this.browserResolver=nS(SO),this.cordovaResolver=nS(tD),this.underlyingResolver=null,this._redirectPersistence=kN,this._completeRedirectFn=HA}return cn(e,[{key:"_initialize",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Po(Lo().mark((function e(t,n,r,i){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Po(Lo().mark((function e(t,n,r,i){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return lD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return bD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xD(e){return e.unwrap()}function ED(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new CD(e,function(e,t){var n,r=Lu(e),i=t;return JI(t.customData.operationType,r,"argument-error"),JI(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),lN._fromError(r,i)}(e,t));else if(r){var i=_D(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function _D(e){var t=(e instanceof xu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xu)&&"temporaryProof"in t&&"phoneNumber"in t)return vA.credentialFromResult(e);var n,r=t.providerId;if(!r||r===PI)return null;switch(r){case DI:n=tC;break;case AI:n=eC;break;case OI:n=nC;break;case RI:n=aC;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?rC._create(r,u):BT._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ZT(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof xu?n.credentialFromError(e):n.credentialFromResult(e)}function ID(e,t){return t.catch((function(t){throw t instanceof xu&&ED(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_D(t)),additionalUserInfo:sN(e),user:ND.getOrCreate(r)}}))}function SD(e,t){return TD.apply(this,arguments)}function TD(){return(TD=Po(Lo().mark((function e(t,n){var r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ID(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var CD=function(){function e(t,n){un(this,e),this.resolver=n,this.auth=t.wrapped()}return cn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ID(xD(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ND=function(){function e(t){un(this,e),this._delegate=t,this.multiFactor=function(e){var t=Lu(e);return dN.has(t)||dN.set(t,hN._fromUser(t)),dN.get(t)}(t)}return cn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ID(this.auth,SC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SD(this.auth,cA(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ID(this.auth,TA(this._delegate,t,wD)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yD(lT(this.auth));case 2:return e.abrupt("return",qA(this._delegate,t,wD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ID(this.auth,CC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return SD(this.auth,function(e,t,n){return fA.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ID(this.auth,function(e,t,n){return SA.apply(this,arguments)}(this._delegate,e,wD))}},{key:"reauthenticateWithRedirect",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yD(lT(this.auth));case 2:return e.abrupt("return",UA(this._delegate,t,wD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return YC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pC(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return eN(Lu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return eN(Lu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return pA.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ZC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return $C.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ND.USER_MAP=new WeakMap;var AD=JI,OD=function(){function e(t,n){if(un(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;AD(r,"invalid-api-key",{appName:t.name}),AD(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wD:void 0;this._delegate=n.initialize({options:{persistence:PD(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(qI),this.linkUnderlyingAuth()}return cn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ND.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){hT(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return FC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return VC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return jC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Po(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ID(this._delegate,qC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return QC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=YT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AD(cD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,KA(this._delegate,wD);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ID(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){lT(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=DD(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=DD(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return KC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return MC.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mD(this._delegate,t),e.t0=t,e.next=e.t0===dD.SESSION?4:e.t0===dD.LOCAL?6:e.t0===dD.NONE?11:13;break;case 4:return n=kN,e.abrupt("break",14);case 6:return e.next=8,nS(qN)._isAvailable();case 8:return r=e.sent,n=r?qN:yN,e.abrupt("break",14);case 11:return n=GS,e.abrupt("break",14);case 13:return e.abrupt("return",GI("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ID(this._delegate,function(e){return lC.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ID(this._delegate,_C(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ID(this._delegate,function(e,t){return DC.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ID(this._delegate,function(e,t,n){return _C(Lu(e),$T.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ID(this._delegate,function(e,t,n){return WC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return SD(this._delegate,function(e,t,n){return sA.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AD(cD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ID(this._delegate,_A(this._delegate,t,wD)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AD(cD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yD(this._delegate);case 3:return e.abrupt("return",FA(this._delegate,t,wD));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return BC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function DD(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ND.getOrCreate(e))},error:t,complete:n}}function PD(e,t){var n=function(e,t){var n=kD();if(!n)return[];var r=QS(vD,e,t);switch(n.getItem(r)){case dD.NONE:return[GS];case dD.LOCAL:return[qN,kN];case dD.SESSION:return[kN];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(qN)||n.push(qN),"undefined"!==typeof window)for(var r=0,i=[yN,kN];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(GS)||n.push(GS),n}OD.Persistence=dD;var RD=function(){function e(){un(this,e),this.providerId="phone",this._delegate=new vA(xD(Qs.auth()))}return cn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return vA.credential(e,t)}}]),e}();RD.PHONE_SIGN_IN_METHOD=vA.PHONE_SIGN_IN_METHOD,RD.PROVIDER_ID=vA.PROVIDER_ID;var LD=JI,MD=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qs.app();un(this,e),LD(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new aA(t,n,i.auth()),this.type=this._delegate.type}return cn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Bu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new OD(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:LI,PASSWORD_RESET:MI,RECOVER_EMAIL:jI,REVERT_SECOND_FACTOR_ADDITION:FI,VERIFY_AND_CHANGE_EMAIL:VI,VERIFY_EMAIL:UI}},EmailAuthProvider:$T,FacebookAuthProvider:eC,GithubAuthProvider:nC,GoogleAuthProvider:tC,OAuthProvider:ZT,SAMLAuthProvider:iC,PhoneAuthProvider:RD,PhoneMultiFactorGenerator:CO,RecaptchaVerifier:MD,TwitterAuthProvider:aC,Auth:OD,AuthCredential:vT,Error:xu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.12")}(Qs);Qs.initializeApp({apiKey:"AIzaSyBcXJmvseOkQDcvy0GKFMjm4lusM_GhMxs",authDomain:"proyecto-web-e6d28.firebaseapp.com",projectId:"proyecto-web-e6d28",storageBucket:"proyecto-web-e6d28.appspot.com",messagingSenderId:"432628741879",appId:"1:432628741879:web:99ba16357368b983afc5f2",measurementId:"G-XCWXX523VB"}),Qs.db=Qs.firestore(),Qs.auth=Qs.auth();var jD=Qs;var FD=function(e,n){var r=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!r.current)return e();r.current=!1}),n)};function VD(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var UD=Math.pow(2,31)-1;function BD(e,t,n){var r=n-Date.now();e.current=r<=UD?setTimeout(t,r):setTimeout((function(){return BD(e,t,n)}),UD)}function qD(){var e=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}(),n=(0,t.useRef)();return VD((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=UD?n.current=setTimeout(r,i):BD(n,r,Date.now()+i))},clear:t}}),[])}var zD=Ke("carousel-caption"),KD=["as","bsPrefix","className"],WD=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=Ie(e,KD),u=Te()(a,Ue(i,"carousel-item"));return(0,Fe.jsx)(r,_e(_e({ref:t},o),{},{className:u}))}));WD.displayName="CarouselItem";var HD=WD;function GD(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}var QD=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],YD={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,Fe.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,Fe.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var $D=t.forwardRef((function(e,n){var r=Pe(e,{activeIndex:"onSelect"}),i=r.as,a=void 0===i?"div":i,o=r.bsPrefix,u=r.slide,s=r.fade,c=r.controls,l=r.indicators,f=r.indicatorLabels,h=r.activeIndex,d=r.onSelect,p=r.onSlide,v=r.onSlid,m=r.interval,y=r.keyboard,g=r.onKeyDown,k=r.pause,b=r.onMouseOver,w=r.onMouseOut,x=r.wrap,E=r.touch,_=r.onTouchStart,I=r.onTouchMove,S=r.onTouchEnd,T=r.prevIcon,C=r.prevLabel,N=r.nextIcon,A=r.nextLabel,O=r.variant,D=r.className,P=r.children,R=Ie(r,QD),L=Ue(o,"carousel"),M=Be(),j=(0,t.useRef)(null),F=$t((0,t.useState)("next"),2),V=F[0],U=F[1],B=$t((0,t.useState)(!1),2),q=B[0],z=B[1],K=$t((0,t.useState)(!1),2),W=K[0],H=K[1],G=$t((0,t.useState)(h||0),2),Q=G[0],Y=G[1];W||h===Q||(j.current?U(j.current):U((h||0)>Q?"next":"prev"),u&&H(!0),Y(h||0)),(0,t.useEffect)((function(){j.current&&(j.current=null)}));var $,X=0;!function(e,n){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&n(e,r++)}))}(P,(function(e,t){++X,t===h&&($=e.props.interval)}));var J=Bt($),Z=(0,t.useCallback)((function(e){if(!W){var t=Q-1;if(t<0){if(!x)return;t=X-1}j.current="prev",null==d||d(t,e)}}),[W,Q,d,x,X]),ee=qt((function(e){if(!W){var t=Q+1;if(t>=X){if(!x)return;t=0}j.current="next",null==d||d(t,e)}})),te=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{element:te.current,prev:Z,next:ee}}));var ne=qt((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(te.current)&&(M?Z():ee())})),re="next"===V?"start":"end";FD((function(){u||(null==p||p(Q,re),null==v||v(Q,re))}),[Q]);var ie="".concat(L,"-item-").concat(V),ae="".concat(L,"-item-").concat(re),oe=(0,t.useCallback)((function(e){Et(e),null==p||p(Q,re)}),[p,Q,re]),ue=(0,t.useCallback)((function(){H(!1),null==v||v(Q,re)}),[v,Q,re]),se=(0,t.useCallback)((function(e){if(y&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(M?ee(e):Z(e));case"ArrowRight":return e.preventDefault(),void(M?Z(e):ee(e))}null==g||g(e)}),[y,g,Z,ee,M]),ce=(0,t.useCallback)((function(e){"hover"===k&&z(!0),null==b||b(e)}),[k,b]),le=(0,t.useCallback)((function(e){z(!1),null==w||w(e)}),[w]),fe=(0,t.useRef)(0),he=(0,t.useRef)(0),de=qD(),pe=(0,t.useCallback)((function(e){fe.current=e.touches[0].clientX,he.current=0,"hover"===k&&z(!0),null==_||_(e)}),[k,_]),ve=(0,t.useCallback)((function(e){e.touches&&e.touches.length>1?he.current=0:he.current=e.touches[0].clientX-fe.current,null==I||I(e)}),[I]),me=(0,t.useCallback)((function(e){if(E){var t=he.current;Math.abs(t)>40&&(t>0?Z(e):ee(e))}"hover"===k&&de.set((function(){z(!1)}),m||void 0),null==S||S(e)}),[E,k,Z,ee,de,m,S]),ye=null!=m&&!q&&!W,ge=(0,t.useRef)();(0,t.useEffect)((function(){var e,t;if(ye){var n=M?Z:ee;return ge.current=window.setInterval(document.visibilityState?ne:n,null!=(e=null!=(t=J.current)?t:m)?e:void 0),function(){null!==ge.current&&clearInterval(ge.current)}}}),[ye,Z,ee,J,m,ne,M]);var ke=(0,t.useMemo)((function(){return l&&Array.from({length:X},(function(e,t){return function(e){null==d||d(t,e)}}))}),[l,X,d]);return(0,Fe.jsxs)(a,_e(_e({ref:te},R),{},{onKeyDown:se,onMouseOver:ce,onMouseOut:le,onTouchStart:pe,onTouchMove:ve,onTouchEnd:me,className:Te()(D,L,u&&"slide",s&&"".concat(L,"-fade"),O&&"".concat(L,"-").concat(O)),children:[l&&(0,Fe.jsx)("div",{className:"".concat(L,"-indicators"),children:GD(P,(function(e,t){return(0,Fe.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=f&&f.length?f[t]:"Slide ".concat(t+1),className:t===Q?"active":void 0,onClick:ke?ke[t]:void 0,"aria-current":t===Q},t)}))}),(0,Fe.jsx)("div",{className:"".concat(L,"-inner"),children:GD(P,(function(e,n){var r=n===Q;return u?(0,Fe.jsx)(Ct,{in:r,onEnter:r?oe:void 0,onEntered:r?ue:void 0,addEndListener:wt,children:function(n,i){return t.cloneElement(e,_e(_e({},i),{},{className:Te()(e.props.className,r&&"entered"!==n&&ie,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&ae)}))}}):t.cloneElement(e,{className:Te()(e.props.className,r&&"active")})}))}),c&&(0,Fe.jsxs)(Fe.Fragment,{children:[(x||0!==h)&&(0,Fe.jsxs)(Hr,{className:"".concat(L,"-control-prev"),onClick:Z,children:[T,C&&(0,Fe.jsx)("span",{className:"visually-hidden",children:C})]}),(x||h!==X-1)&&(0,Fe.jsxs)(Hr,{className:"".concat(L,"-control-next"),onClick:ee,children:[N,A&&(0,Fe.jsx)("span",{className:"visually-hidden",children:A})]})]})]}))}));$D.displayName="Carousel",$D.defaultProps=YD;var XD=Object.assign($D,{Caption:zD,Item:HD});var JD=function(){return(0,Fe.jsxs)(XD,{fade:!0,children:[(0,Fe.jsxs)(XD.Item,{children:[(0,Fe.jsx)("img",{className:"d-block w-100",src:"https://i.pinimg.com/736x/8a/6c/2e/8a6c2e45cfb9e32859e9e7fa80350ad1.jpg",alt:"First slide",width:900,height:500}),(0,Fe.jsx)(XD.Caption,{children:(0,Fe.jsx)("h3",{children:"Precios sin igual"})})]}),(0,Fe.jsxs)(XD.Item,{children:[(0,Fe.jsx)("img",{className:"d-block w-100",src:"https://miro.medium.com/max/1400/1*UiWzSoX6qzUtOb_LdH1kHA.jpeg",alt:"Second slide",width:900,height:500}),(0,Fe.jsx)(XD.Caption,{children:(0,Fe.jsx)("h3",{children:"Los mejores en el mercado"})})]}),(0,Fe.jsxs)(XD.Item,{children:[(0,Fe.jsx)("img",{className:"d-block w-100",src:"https://cdn.wallpapersafari.com/64/39/6TRUp9.jpg",alt:"Third slide",width:900,height:500}),(0,Fe.jsx)(XD.Caption,{children:(0,Fe.jsx)("h3",{children:"Nahuel sorete"})})]})]})};var ZD=function(){var e=$t((0,t.useState)([]),2),n=e[0],r=e[1],i=$t((0,t.useState)(!0),2),a=i[0],o=i[1],u=$t((0,t.useState)(!0),2),s=u[0],c=u[1];function l(){return(l=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jD.db.collection("productos").get();case 3:(t=e.sent).docs&&(r(t.docs),o(!1),c(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,t.useEffect)((function(){s&&function(){l.apply(this,arguments)}()}),[s]);var f=function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jD.db.doc("productos/"+t).delete();case 3:n=e.sent,console.log(n),c(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,Fe.jsx)(iu,{active:a,children:(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(JD,{}),"Listado de Productos",n.map((function(e){return(0,Fe.jsx)(eu,{datos:_e(_e({},e.data()),{},{id:e.id}),handleDelete:f})}))]})})};var eP=function(e){var t=e.datos;return console.log(e.datos),(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("h1",{children:t.title}),(0,Fe.jsx)("p",{children:t.description}),(0,Fe.jsxs)("p",{children:["$ ",t.price]}),(0,Fe.jsxs)("p",{children:["SKU: ",t.sku]})]})};var tP=function(){var e=$t((0,t.useState)(!1),2),n=e[0],r=e[1],i=$t((0,t.useState)(!0),2),a=i[0],o=i[1],u=he().id;return(0,t.useEffect)((function(){function e(){return(e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jD.db.doc("productos/"+u).get();case 3:(t=e.sent)&&(r(t),o(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u]),(0,Fe.jsx)(iu,{active:a,children:(0,Fe.jsx)(Fe.Fragment,{children:n&&(0,Fe.jsx)(eP,{datos:n.data()})})})},nP=["as","className","type","tooltip"],rP={type:M().string,tooltip:M().bool,as:M().elementType},iP=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=Ie(e,nP);return(0,Fe.jsx)(r,_e(_e({},c),{},{ref:t,className:Te()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));iP.displayName="Feedback",iP.propTypes=rP;var aP=iP,oP=t.createContext({}),uP=["id","bsPrefix","className","type","isValid","isInvalid","as"],sP=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=Ie(e,uP),v=(0,t.useContext)(oP).controlId;return i=Ue(i,"form-check-input"),(0,Fe.jsx)(d,_e(_e({},p),{},{ref:n,type:u,id:r||v,className:Te()(a,i,c&&"is-valid",f&&"is-invalid")}))}));sP.displayName="FormCheckInput";var cP=sP,lP=["bsPrefix","className","htmlFor"],fP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=Ie(e,lP),u=(0,t.useContext)(oP).controlId;return r=Ue(r,"form-check-label"),(0,Fe.jsx)("label",_e(_e({},o),{},{ref:n,htmlFor:a||u,className:Te()(i,r)}))}));fP.displayName="FormCheckLabel";var hP=fP,dP=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],pP=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.disabled,c=void 0!==s&&s,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,y=e.feedbackType,g=e.className,k=e.style,b=e.title,w=void 0===b?"":b,x=e.type,E=void 0===x?"checkbox":x,_=e.label,I=e.children,S=e.as,T=void 0===S?"input":S,C=Ie(e,dP);i=Ue(i,"form-check"),a=Ue(a,"form-switch");var N=(0,t.useContext)(oP).controlId,A=(0,t.useMemo)((function(){return{controlId:r||N}}),[N,r]),O=null!=_&&!1!==_&&!I,D=(0,Fe.jsx)(cP,_e(_e({},C),{},{type:"switch"===E?"checkbox":E,ref:n,isValid:f,isInvalid:d,disabled:c,as:T}));return(0,Fe.jsx)(oP.Provider,{value:A,children:(0,Fe.jsx)("div",{style:k,className:Te()(g,_&&i,u&&"".concat(i,"-inline"),"switch"===E&&a),children:I||(0,Fe.jsxs)(Fe.Fragment,{children:[D,O&&(0,Fe.jsx)(hP,{title:w,children:_}),m&&(0,Fe.jsx)(aP,{type:y,tooltip:v,children:m})]})})})}));pP.displayName="FormCheck";var vP=Object.assign(pP,{Input:cP,Label:hP}),mP=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],yP=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=Ie(e,mP),b=(0,t.useContext)(oP).controlId;(a=Ue(a,"form-control"),v)?r=xe({},"".concat(a,"-plaintext"),!0):(xe(i={},a,!0),xe(i,"".concat(a,"-").concat(u),u),r=i);return(0,Fe.jsx)(g,_e(_e({},k),{},{type:o,size:s,ref:n,readOnly:m,id:c||b,className:Te()(l,r,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));yP.displayName="FormControl";var gP=Object.assign(yP,{Feedback:aP}),kP=Ke("form-floating"),bP=["controlId","as"],wP=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=Ie(e,bP),u=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,Fe.jsx)(oP.Provider,{value:u,children:(0,Fe.jsx)(a,_e(_e({},o),{},{ref:n}))})}));wP.displayName="FormGroup";var xP=wP,EP=["as","bsPrefix","className"],_P=["className"],IP=["xxl","xl","lg","md","sm","xs"];var SP=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=Ie(e,EP);n=Ue(n,"col");var a=[],o=[];return IP.forEach((function(e){var t,r,u,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,u=s.order):t=s;var c="xs"!==e?"-".concat(e):"";t&&a.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=u&&o.push("order".concat(c,"-").concat(u)),null!=r&&o.push("offset".concat(c,"-").concat(r))})),[_e(_e({},i),{},{className:Te().apply(void 0,[r].concat(a,o))}),{as:t,bsPrefix:n,spans:a}]}(e),r=$t(n,2),i=r[0],a=i.className,o=Ie(i,_P),u=r[1],s=u.as,c=void 0===s?"div":s,l=u.bsPrefix,f=u.spans;return(0,Fe.jsx)(c,_e(_e({},o),{},{ref:t,className:Te()(a,!f.length&&l)}))}));SP.displayName="Col";var TP=SP,CP=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],NP=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,c=e.htmlFor,l=Ie(e,CP),f=(0,t.useContext)(oP).controlId;a=Ue(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=Te()(s,a,u&&"visually-hidden",o&&h);return c=c||f,o?(0,Fe.jsx)(TP,_e({ref:n,as:"label",className:d,htmlFor:c},l)):(0,Fe.jsx)(i,_e({ref:n,className:d,htmlFor:c},l))}));NP.displayName="FormLabel",NP.defaultProps={column:!1,visuallyHidden:!1};var AP=NP,OP=["bsPrefix","className","id"],DP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=Ie(e,OP),u=(0,t.useContext)(oP).controlId;return r=Ue(r,"form-range"),(0,Fe.jsx)("input",_e(_e({},o),{},{type:"range",ref:n,className:Te()(i,r),id:a||u}))}));DP.displayName="FormRange";var PP=DP,RP=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],LP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=Ie(e,RP),d=(0,t.useContext)(oP).controlId;return r=Ue(r,"form-select"),(0,Fe.jsx)("select",_e(_e({},h),{},{size:a,ref:n,className:Te()(o,r,i&&"".concat(r,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));LP.displayName="FormSelect";var MP=LP,jP=["bsPrefix","className","as","muted"],FP=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=Ie(e,jP);return n=Ue(n,"form-text"),(0,Fe.jsx)(a,_e(_e({},u),{},{ref:t,className:Te()(r,n,o&&"text-muted")}))}));FP.displayName="FormText";var VP=FP,UP=t.forwardRef((function(e,t){return(0,Fe.jsx)(vP,_e(_e({},e),{},{ref:t,type:"switch"}))}));UP.displayName="Switch";var BP=Object.assign(UP,{Input:vP.Input,Label:vP.Label}),qP=["bsPrefix","className","children","controlId","label"],zP=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=Ie(e,qP);return n=Ue(n,"form-floating"),(0,Fe.jsxs)(xP,_e(_e({ref:t,className:Te()(r,n),controlId:a},u),{},{children:[i,(0,Fe.jsx)("label",{htmlFor:a,children:o})]}))}));zP.displayName="FloatingLabel";var KP=zP,WP=["className","validated","as"],HP={_ref:M().any,validated:M().bool,as:M().elementType},GP=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=Ie(e,WP);return(0,Fe.jsx)(a,_e(_e({},o),{},{ref:t,className:Te()(n,r&&"was-validated")}))}));GP.displayName="Form",GP.propTypes=HP;var QP=Object.assign(GP,{Group:xP,Control:gP,Floating:kP,Check:vP,Switch:BP,Label:AP,Text:VP,Range:PP,Select:MP,FloatingLabel:KP});var YP=function(e){var t=e.label,n=e.type,r=e.register;return(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsxs)(QP.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,Fe.jsx)(QP.Label,{children:t}),(0,Fe.jsx)(QP.Control,_e({type:n||"text"},r))]})})},$P=function(e){return"checkbox"===e.type},XP=function(e){return e instanceof Date},JP=function(e){return null==e},ZP=function(e){return"object"===typeof e},eR=function(e){return!JP(e)&&!Array.isArray(e)&&ZP(e)&&!XP(e)},tR=function(e,t){return on(e).some((function(e){return function(e){return e.substring(0,e.search(/.\d/))||e}(t)===e}))},nR=function(e){return e.filter(Boolean)},rR=function(e){return void 0===e},iR=function(e,t,n){if(eR(e)&&t){var r=nR(t.split(/[,[\].]+?/)).reduce((function(e,t){return JP(e)?e:e[t]}),e);return rR(r)||r===e?rR(e[t])?n:e[t]:r}},aR="blur",oR="onBlur",uR="onChange",sR="onSubmit",cR="onTouched",lR="all",fR="max",hR="min",dR="maxLength",pR="minLength",vR="pattern",mR="required",yR="validate",gR=function(e,t){var n=Object.assign({},e);return delete n[t],n},kR=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];function i(i){return function(){if(i in e)return t[i]!==lR&&(t[i]=!r||lR),n&&(n[i]=!0),e[i]}}var a={};for(var o in e)Object.defineProperty(a,o,{get:i(o)});return a}),bR=function(e){return eR(e)&&!Object.keys(e).length},wR=function(e,t,n){var r=gR(e,"name");return bR(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||lR)}))},xR=function(e){return Array.isArray(e)?e:[e]},ER=function(e){e.current&&(e.current.unsubscribe(),e.current=void 0)};function _R(e){var n=t.useRef();!function(e){var t=e._subscription,n=e.props;n.disabled?ER(t):t.current||(t.current=n.subject.subscribe({next:n.callback}))}({_subscription:n,props:e}),t.useEffect((function(){return function(){return ER(n)}}),[])}var IR=function(e){return"string"===typeof e};function SR(e,t,n,r){var i=Array.isArray(e);return IR(e)?(r&&t.watch.add(e),iR(n,e)):i?e.map((function(e){return r&&t.watch.add(e),iR(n,e)})):(r&&(t.watchAll=!0),n)}var TR=function(e){return/^\w*$/.test(e)},CR=function(e){return nR(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function NR(e,t,n){for(var r=-1,i=TR(t)?[t]:CR(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=eR(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var AR=function(e,t,n,r,i){return t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),xe({},r,i||!0))}):{}},OR=function e(t,n,r){var i,a=ei(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=iR(t,o);if(u){var s=u._f,c=gR(u,"_f");if(s&&n(s.name)){if(s.ref.focus&&rR(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else eR(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}};var DR=function(e){return"function"===typeof e};function PR(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!n&&!eR(e))return e;for(var r in t=n?[]:{},e){if(DR(e[r])){t=e;break}t[r]=PR(e[r])}}return t}function RR(){var e=[];return{get observers(){return e},next:function(t){var n,r=ei(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var LR=function(e){return JP(e)||!ZP(e)};function MR(e,t){if(LR(e)||LR(t))return e===t;if(XP(e)&&XP(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(XP(u)&&XP(s)||eR(u)&&eR(s)||Array.isArray(u)&&Array.isArray(s)?!MR(u,s):u!==s)return!1}}return!0}var jR=function(e){return{isOnSubmit:!e||e===sR,isOnBlur:e===oR,isOnChange:e===uR,isOnAll:e===lR,isOnTouch:e===cR}},FR=function(e){return"boolean"===typeof e},VR=function(e){return"file"===e.type},UR=function(e){return e instanceof HTMLElement},BR=function(e){return"select-multiple"===e.type},qR=function(e){return"radio"===e.type},zR=function(e){return qR(e)||$P(e)},KR="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,WR=function(e){return UR(e)&&document.contains(e)};function HR(e,t){var n,r=TR(t)?[t]:CR(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=rR(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(eR(s)&&bR(s)||Array.isArray(s)&&!s.filter((function(e){return eR(e)&&!bR(e)||FR(e)})).length)&&(n?delete n[f]:delete e[f]),n=s}}return e}var GR={value:!1,isValid:!1},QR={value:!0,isValid:!0},YR=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rR(e[0].attributes.value)?rR(e[0].value)||""===e[0].value?QR:{value:e[0].value,isValid:!0}:QR:GR}return GR},$R=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return rR(e)?e:n?""===e?NaN:+e:r?new Date(e):i?i(e):e},XR={isValid:!1,value:null},JR=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),XR):XR};function ZR(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return VR(t)?t.files:qR(t)?JR(e.refs).value:BR(t)?on(t.selectedOptions).map((function(e){return e.value})):$P(t)?YR(e.refs).value:$R(rR(t.value)?e.ref.value:t.value,e)}var eL=function(e,t,n,r){var i,a={},o=ei(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=iR(t,u);s&&NR(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:on(e),fields:a,shouldUseNativeValidation:r}},tL=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function nL(e,t,n){var r=iR(e,n);if(r||TR(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=iR(t,a),u=iR(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}function rL(e,t){if(LR(e)||LR(t))return t;for(var n in t){var r=e[n],i=t[n];try{e[n]=eR(r)&&eR(i)||Array.isArray(r)&&Array.isArray(i)?rL(r,i):i}catch(lx){}}return e}function iL(e,t,n,r,i){for(var a=-1;++a<e.length;){for(var o in e[a])Array.isArray(e[a][o])?(!n[a]&&(n[a]={}),n[a][o]=[],iL(e[a][o],iR(t[a]||{},o,[]),n[a][o],n[a],o)):!JP(t)&&MR(iR(t[a]||{},o),e[a][o])?NR(n[a]||{},o):n[a]=Object.assign(Object.assign({},n[a]),xe({},o,!0));r&&!n.length&&delete r[i]}return n}var aL=function(e,t,n){return rL(iL(e,t,n.slice(0,e.length)),iL(t,e,n.slice(0,e.length)))},oL=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},uL=function(e,t){return!nR(iR(e,t,[])).length&&HR(e,t)},sL=function(e){return IR(e)||t.isValidElement(e)},cL=function(e){return e instanceof RegExp};function lL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(sL(e)||Array.isArray(e)&&e.every(sL)||FR(e)&&!e)return{type:n,message:sL(e)?e:"",ref:t}}var fL=function(e){return eR(e)&&!cL(e)?e:{value:e,message:""}},hL=function(){var e=Po(Lo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,x,E,_,I,S,T,C,N,A,O,D,P,R,L,M,j,F,V,U,B,q,z,K,W,H,G,Q;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._f,o=a.ref,u=a.refs,s=a.required,c=a.maxLength,l=a.minLength,f=a.min,h=a.max,d=a.pattern,p=a.validate,v=a.name,m=a.valueAsNumber,y=a.mount,g=a.disabled,y&&!g){e.next=3;break}return e.abrupt("return",{});case 3:if(k=u?u[0]:o,b=function(e){i&&k.reportValidity&&(k.setCustomValidity(FR(e)?"":e||" "),k.reportValidity())},w={},x=qR(o),E=$P(o),_=x||E,I=(m||VR(o))&&!o.value||""===n||Array.isArray(n)&&!n.length,S=AR.bind(null,v,r,w),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dR,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pR,a=e?t:n;w[v]=Object.assign({type:e?r:i,message:a,ref:o},S(e?r:i,a))},!s||!(!_&&(I||JP(n))||FR(n)&&!n||E&&!YR(u).isValid||x&&!JR(u).isValid)){e.next=19;break}if(C=sL(s)?{value:!!s,message:s}:fL(s),N=C.value,A=C.message,!N){e.next=19;break}if(w[v]=Object.assign({type:mR,message:A,ref:k},S(mR,A)),r){e.next=19;break}return b(A),e.abrupt("return",w);case 19:if(I||JP(f)&&JP(h)){e.next=28;break}if(P=fL(h),R=fL(f),isNaN(n)?(M=o.valueAsDate||new Date(n),IR(P.value)&&(O=M>new Date(P.value)),IR(R.value)&&(D=M<new Date(R.value))):(L=o.valueAsNumber||parseFloat(n),JP(P.value)||(O=L>P.value),JP(R.value)||(D=L<R.value)),!O&&!D){e.next=28;break}if(T(!!O,P.message,R.message,fR,hR),r){e.next=28;break}return b(w[v].message),e.abrupt("return",w);case 28:if(!c&&!l||I||!IR(n)){e.next=38;break}if(j=fL(c),F=fL(l),V=!JP(j.value)&&n.length>j.value,U=!JP(F.value)&&n.length<F.value,!V&&!U){e.next=38;break}if(T(V,j.message,F.message),r){e.next=38;break}return b(w[v].message),e.abrupt("return",w);case 38:if(!d||I||!IR(n)){e.next=45;break}if(B=fL(d),q=B.value,z=B.message,!cL(q)||n.match(q)){e.next=45;break}if(w[v]=Object.assign({type:vR,message:z,ref:o},S(vR,z)),r){e.next=45;break}return b(z),e.abrupt("return",w);case 45:if(!p){e.next=79;break}if(!DR(p)){e.next=58;break}return e.next=49,p(n);case 49:if(K=e.sent,!(W=lL(K,k))){e.next=56;break}if(w[v]=Object.assign(Object.assign({},W),S(yR,W.message)),r){e.next=56;break}return b(W.message),e.abrupt("return",w);case 56:e.next=79;break;case 58:if(!eR(p)){e.next=79;break}H={},e.t0=Lo().keys(p);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(G=e.t1.value,bR(H)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=lL,e.next=68,p[G](n);case 68:e.t3=e.sent,e.t4=k,e.t5=G,(Q=(0,e.t2)(e.t3,e.t4,e.t5))&&(H=Object.assign(Object.assign({},Q),S(G,Q.message)),b(Q.message),r&&(w[v]=H)),e.next=61;break;case 75:if(bR(H)){e.next=79;break}if(w[v]=Object.assign({ref:k},H),r){e.next=79;break}return e.abrupt("return",w);case 79:return b(!0),e.abrupt("return",w);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),dL={mode:sR,reValidateMode:uR,shouldFocusError:!0},pL="undefined"===typeof window;function vL(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign(Object.assign({},dL),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=n.defaultValues||{},o=n.shouldUnregister?{}:PR(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:RR(),array:RR(),state:RR()},d=jR(n.mode),p=jR(n.reValidateMode),v=n.criteriaMode===lR,m=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];clearTimeout(c),c=window.setTimeout((function(){return e.apply(void 0,r)}),t)}},y=function(e,t){return!t&&(s.watchAll||s.watch.has(e)||s.watch.has((e.match(/\w+/)||[])[0]))},g=function(){var e=Po(Lo().mark((function e(t){var a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=bR,e.next=6,I();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,T(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u.action=!0,s&&iR(i,e)){var c=t(iR(i,e),n.argA,n.argB);o&&NR(i,e,c)}if(Array.isArray(iR(r.errors,e))){var l=t(iR(r.errors,e),n.argA,n.argB);o&&NR(r.errors,e,l),uL(r.errors,e)}if(f.touchedFields&&iR(r.touchedFields,e)){var d=t(iR(r.touchedFields,e),n.argA,n.argB);o&&NR(r.touchedFields,e,d),uL(r.touchedFields,e)}(f.dirtyFields||f.isDirty)&&E(e,a),h.state.next({isDirty:N(e,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},b=function(e,t){return NR(r.errors,e,t),h.state.next({errors:r.errors})},w=function(e,t,n){var r=iR(i,e);if(r){var s=iR(o,e,iR(a,e));rR(s)||n&&n.defaultChecked||t?NR(o,e,t?s:ZR(r._f)):D(e,s)}u.mount&&g()},x=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!1,u={name:e},s=iR(r.touchedFields,e);if(f.isDirty){var c=r.isDirty;r.isDirty=u.isDirty=N(),o=c!==u.isDirty}if(f.dirtyFields&&!n){var l=iR(r.dirtyFields,e),d=MR(iR(a,e),t);d?HR(r.dirtyFields,e):NR(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,o=o||l!==iR(r.dirtyFields,e)}return n&&!s&&(NR(r.touchedFields,e,n),u.touchedFields=r.touchedFields,o=o||f.touchedFields&&s!==n),o&&i&&h.state.next(u),o?u:{}},E=function(e,t){return NR(r.dirtyFields,e,aL(t,iR(a,e,[]),iR(r.dirtyFields,e,[]))),uL(r.dirtyFields,e)},_=function(){var n=Po(Lo().mark((function n(i,a,o,u,s){var d,p,v;return Lo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d=iR(r.errors,a),p=f.isValid&&r.isValid!==o,t.delayError&&u?(e=e||m(b,t.delayError))(a,u):(clearTimeout(c),u?NR(r.errors,a,u):HR(r.errors,a)),(u?MR(d,u):!d)&&bR(s)&&!p||i||(v=Object.assign(Object.assign(Object.assign({},s),p?{isValid:o}:{}),{errors:r.errors,name:a}),r=Object.assign(Object.assign({},r),v),h.state.next(v)),l[a]--,f.isValidating&&!l[a]&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i,a){return n.apply(this,arguments)}}(),I=function(){var e=Po(Lo().mark((function e(t){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Object.assign({},o),n.context,eL(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Po(Lo().mark((function e(t){var n,i,a,o,u,s;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(n=e.sent,i=n.errors,t){a=ei(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=iR(i,u))?NR(r.errors,u,s):HR(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Po(Lo().mark((function e(t,i){var a,u,s,c,l,f,h=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=Lo().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(s=t[u])){e.next=21;break}if(c=s._f,l=gR(s,"_f"),!c){e.next=17;break}return e.next=11,hL(s,iR(o,c.name),v,n.shouldUseNativeValidation);case 11:if(!(f=e.sent)[c.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:i||(f[c.name]?NR(r.errors,c.name,f[c.name]):HR(r.errors,c.name));case 17:if(e.t2=l,!e.t2){e.next=21;break}return e.next=21,T(l,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e,t=ei(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=iR(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!WR(e)})):!WR(r._f.ref))&&B(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},N=function(e,t){return e&&t&&NR(o,e,t),!MR(j(),a)},A=function(e,t,n){var r=Object.assign({},u.mount?o:rR(t)?a:IR(e)?xe({},e,t):t);return SR(e,s,r,n)},O=function(e){return iR(u.mount?o:a,e,t.shouldUnregister?iR(a,e,[]):[])},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=iR(i,e),a=t;if(r){var u=r._f;u&&(NR(o,e,$R(t,u)),a=KR&&UR(u.ref)&&JP(t)?"":t,VR(u.ref)&&!IR(a)?u.ref.files=a:BR(u.ref)?on(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?$P(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value})):u.refs[0].checked=!!a:u.refs.forEach((function(e){return e.checked=e.value===a})):u.ref.value=a)}(n.shouldDirty||n.shouldTouch)&&x(e,a,n.shouldTouch),n.shouldValidate&&M(e)},P=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=iR(i,u);!s.array.has(t)&&LR(o)&&(!c||c._f)||XP(o)?D(u,o,r):e(u,o,r)}},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=iR(i,e),u=s.array.has(e);NR(o,e,t),u?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(E(e,t),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:N(e,t)}))):!a||a._f||JP(t)?D(e,t,n):P(e,t,n),y(e)&&h.state.next({}),h.watch.next({name:e})},L=function(){var e=Po(Lo().mark((function e(t){var a,u,s,c,m,k,b,w,E,S,T,C,N,A,O;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,u=a.name,!(s=iR(i,u))){e.next=39;break}if(k=a.type?ZR(s._f):a.value,b=t.type===aR,w=!tL(s._f)&&!n.resolver&&!iR(r.errors,u)&&!s._f.deps||oL(b,iR(r.touchedFields,u),r.isSubmitted,p,d),E=y(u,b),b?s._f.onBlur&&s._f.onBlur(t):s._f.onChange&&s._f.onChange(t),NR(o,u,k),S=x(u,k,b,!1),T=!bR(S)||E,!b&&h.watch.next({name:u,type:t.type}),!w){e.next=15;break}return e.abrupt("return",T&&h.state.next(Object.assign({name:u},E?{}:S)));case 15:if(!b&&E&&h.state.next({}),l[u]=(l[u],1),f.isValidating&&h.state.next({isValidating:!0}),!n.resolver){e.next=30;break}return e.next=21,I([u]);case 21:C=e.sent,N=C.errors,A=nL(r.errors,i,u),O=nL(N,i,A.name||u),c=O.error,u=O.name,m=bR(N),e.next=37;break;case 30:return e.next=32,hL(s,iR(o,u),v,n.shouldUseNativeValidation);case 32:return e.t0=u,c=e.sent[e.t0],e.next=36,g(!0);case 36:m=e.sent;case 37:s._f.deps&&M(s._f.deps),_(!1,u,m,c,S);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Po(Lo().mark((function e(t){var a,o,u,c,l,d=arguments;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=xR(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,S(rR(t)?t:c);case 6:l=e.sent,o=bR(l),u=t?!c.some((function(e){return iR(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=iR(i,t),e.next=3,T(n&&n._f?xe({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&g(),e.next=21;break;case 18:return e.next=20,T(i);case 20:u=o=e.sent;case 21:return h.state.next(Object.assign(Object.assign(Object.assign({},!IR(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&OR(i,(function(e){return iR(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=Object.assign(Object.assign({},a),u.mount?o:{});return rR(e)?t:IR(e)?iR(t,e):e.map((function(e){return iR(t,e)}))},F=function(e){e?xR(e).forEach((function(e){return HR(r.errors,e)})):r.errors={},h.state.next({errors:r.errors,isValid:!0})},V=function(e,t,n){var a=(iR(i,e,{_f:{}})._f||{}).ref;NR(r.errors,e,Object.assign(Object.assign({},t),{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},U=function(e,t){return DR(e)?h.watch.subscribe({next:function(n){return e(A(void 0,t),n)}}):A(e,t,!0)},B=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ei(e?xR(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),iR(i,l)&&(u.keepValue||(HR(i,l),HR(o,l)),!u.keepError&&HR(r.errors,l),!u.keepDirty&&HR(r.dirtyFields,l),!u.keepTouched&&HR(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&HR(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(Object.assign(Object.assign({},r),u.keepDirty?{isDirty:N()}:{})),!u.keepIsValid&&g()},q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=iR(i,t);return NR(i,t,{_f:Object.assign(Object.assign(Object.assign({},a&&a._f?a._f:{ref:{name:t}}),{name:t,mount:!0}),r)}),s.mount.add(t),!rR(r.value)&&!r.disabled&&NR(o,t,iR(o,t,r.value)),a?FR(r.disabled)&&NR(o,t,r.disabled?void 0:iR(o,t,ZR(a._f))):w(t,!0),pL?{name:t}:Object.assign(Object.assign({name:t},FR(r.disabled)?{disabled:r.disabled}:{}),{onChange:L,onBlur:L,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){if(a){e(t,r);var o=iR(i,t),c=rR(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,l=zR(c);if(c===o._f.ref||l&&nR(o._f.refs||[]).find((function(e){return e===c})))return;o={_f:l?Object.assign(Object.assign({},o._f),{refs:[].concat(on(nR(o._f.refs||[]).filter(WR)),[c]),ref:{type:c.type,name:t}}):Object.assign(Object.assign({},o._f),{ref:c})},NR(i,t,o),(!r||!r.disabled)&&w(t,!1,c)}else{var f=iR(i,t,{}),h=n.shouldUnregister||r.shouldUnregister;f._f&&(f._f.mount=!1),h&&(!tR(s.array,t)||!u.action)&&s.unMount.add(t)}}))})},z=function(e,t){return function(){var a=Po(Lo().mark((function a(u){var c,l,f,d,p;return Lo().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=Object.assign({},o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,I();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,T(i);case 17:if(!bR(r.errors)||!Object.keys(r.errors).every((function(e){return iR(l,e)}))){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=28;break;case 23:if(a.t0=t,!a.t0){a.next=27;break}return a.next=27,t(r.errors,u);case 27:n.shouldFocusError&&OR(i,(function(e){return iR(r.errors,e)}),s.mount);case 28:a.next=34;break;case 30:throw a.prev=30,a.t1=a.catch(4),c=!1,a.t1;case 34:return a.prev=34,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bR(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(34);case 38:case"end":return a.stop()}}),a,null,[[4,30,34,38]])})));return function(e){return a.apply(this,arguments)}}()},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rR(t.defaultValue)?R(e,iR(a,e)):(R(e,t.defaultValue),NR(a,e,t.defaultValue)),t.keepTouched||HR(r.touchedFields,e),t.keepDirty||(HR(r.dirtyFields,e),r.isDirty=t.defaultValue?N(e,iR(a,e)):N()),t.keepError||(HR(r.errors,e),f.isValid&&g()),h.state.next(Object.assign({},r))},W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=PR(c),d=bR(e)?a:l;if(n.keepDefaultValues||(a=c),!n.keepValues){if(KR){var p,v=ei(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value,y=iR(i,m);if(y&&y._f){var g=Array.isArray(y._f.refs)?y._f.refs[0]:y._f.ref;try{UR(g)&&g.closest("form").reset();break}catch(lx){}}}}catch(k){v.e(k)}finally{v.f()}}o=t.shouldUnregister?n.keepDefaultValues?PR(a):{}:l,i={},h.watch.next({values:d}),h.array.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty?r.isDirty:!!n.keepDefaultValues&&!MR(e,a),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty?r.dirtyFields:n.keepDefaultValues&&e?Object.entries(e).reduce((function(e,t){var n=$t(t,2),r=n[0],i=n[1];return Object.assign(Object.assign({},e),xe({},r,i!==iR(a,r)))}),{}):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister},H=function(e){var t=iR(i,e)._f;(t.ref.focus?t.ref:t.refs[0]).focus()};return{control:{register:q,unregister:B,_executeSchema:I,_getWatch:A,_getDirty:N,_updateValid:g,_removeUnmounted:C,_updateFieldArray:k,_getFieldArray:O,_subjects:h,_proxyFormState:f,get _fields(){return i},set _fields(e){i=e},get _formValues(){return o},set _formValues(e){o=e},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},set _defaultValues(e){a=e},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Object.assign(Object.assign({},n),e)}},trigger:M,register:q,handleSubmit:z,watch:U,setValue:R,getValues:j,reset:W,resetField:K,clearErrors:F,unregister:B,setError:V,setFocus:H}}function mL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=$t(r,2),a=i[0],o=i[1];n.current?n.current.control._options=e:n.current=Object.assign(Object.assign({},vL(e)),{formState:a});var u=n.current.control;return _R({subject:u._subjects.state,callback:function(e){wR(e,u._proxyFormState,!0)&&(u._formState=Object.assign(Object.assign({},u._formState),e),o(Object.assign({},u._formState)))}}),t.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),t.useEffect((function(){return function(){return Object.values(u._subjects).forEach((function(e){return e.unsubscribe()}))}}),[u]),n.current.formState=kR(a,u._proxyFormState),n.current}var yL={button:{color:"#000000",fontSize:"20px"}};var gL=function(e){var t=e.variant,n=e.type,r=e.loading;return(0,Fe.jsxs)(yo,{type:n||"submit",variant:t||"primary",disabled:r,style:yL.button,children:[r&&(0,Fe.jsx)(ru,{animation:"border",size:"sm"}),e.children]})},kL=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],bL=qn("h4");bL.displayName="DivStyledAsH4";var wL=Ke("alert-heading",{Component:bL}),xL=Ke("alert-link",{Component:Hr}),EL={variant:"primary",show:!0,transition:In,closeLabel:"Close alert"},_L=t.forwardRef((function(e,t){var n=Pe(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,u=n.className,s=n.children,c=n.variant,l=n.onClose,f=n.dismissible,h=n.transition,d=Ie(n,kL),p=Ue(r,"alert"),v=qt((function(e){l&&l(!1,e)})),m=!0===h?In:h,y=(0,Fe.jsxs)("div",_e(_e({role:"alert"},m?void 0:d),{},{ref:t,className:Te()(u,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,Fe.jsx)(Ln,{onClick:v,"aria-label":a,variant:o}),s]}));return m?(0,Fe.jsx)(m,_e(_e({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:y})):i?y:null}));_L.displayName="Alert",_L.defaultProps=EL;var IL=Object.assign(_L,{Link:xL,Heading:wL}),SL={alert:{marginTop:"10px"}};var TL=function(e){var t=e.variant,n=e.text;return(0,Fe.jsx)(IL,{variant:t,style:SL.alert,children:n})};var CL=function(){var e,n,r=mL(),i=r.register,a=r.handleSubmit,o=r.formState.errors,u=$t((0,t.useState)(!1),2),s=u[0],c=u[1],l=fe(),f=(0,t.useContext)(Ao),h=$t((0,t.useState)({variant:"",text:""}),2),d=h[0],p=h[1],v=function(){var e=Po(Lo().mark((function e(t){var n,r,i,a;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,jD.auth.signInWithEmailAndPassword(t.email,t.contrase\u00f1a);case 4:if(!(n=e.sent).user.uid){e.next=14;break}return e.next=8,jD.db.collection("usuarios").where("userId","==",n.user.uid).get();case 8:a=e.sent,console.log("userInfo",null===(r=a.docs[0])||void 0===r?void 0:r.data()),c(!1),f.loginUser(null===(i=a.docs[0])||void 0===i?void 0:i.data()),p({variant:"success",text:"Bienvenido"}),setTimeout((function(){l.push("/")}),1500);case 14:e.next=26;break;case 16:e.prev=16,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?21:"auth/wrong-password"===e.t1?23:25;break;case 21:return p({variant:"danger",text:"El email no se encuentra registrado"}),e.abrupt("break",26);case 23:return p({variant:"danger",text:"La contrase\xf1a es incorrecta"}),e.abrupt("break",26);case 25:console.log(e.t0.code);case 26:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("form",{onSubmit:a(v),children:[(0,Fe.jsx)(YP,{type:"email",label:"Email",register:_e({},i("email",{required:!0}))}),o.email&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{type:"password",label:"Contrase\xf1a",register:_e({},i("contrase\xf1a",{required:!0,minLength:6}))}),"required"===(null===(e=o.contrase\u00f1a)||void 0===e?void 0:e.type)&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),"minLength"===(null===(n=o.contrase\u00f1a)||void 0===n?void 0:n.type)&&(0,Fe.jsx)("span",{children:"El campo debe contener al menos 6 caracteres"}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)(gL,{loading:s,type:"submit",children:"Ingresar"})}),(0,Fe.jsx)(TL,{variant:d.variant,text:d.text})]})})})};var NL=function(){return(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsx)("h1",{children:"404 NOT FOUND"})})};var AL=function(){var e,n,r=mL(),i=r.register,a=r.handleSubmit,o=r.formState.errors,u=$t((0,t.useState)(!1),2),s=u[0],c=u[1],l=fe(),f=$t((0,t.useState)({variant:"",text:""}),2),h=f[0],d=f[1],p=function(){var e=Po(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,jD.auth.createUserWithEmailAndPassword(t.email,t.contrase\u00f1a);case 4:if(!(n=e.sent).user.uid){e.next=13;break}return e.next=8,jD.db.collection("usuarios").add({nombre:t.nombre,apellido:t.apellido,userId:n.user.uid});case 8:r=e.sent,console.log("document",r),c(!1),d({variant:"success",text:"Registro exitoso"}),setTimeout((function(){l.push("/")}),1500);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),c(!1),"auth/email-already-in-use"===e.t0.code&&d({variant:"danger",text:"El email se encuentra registrado"});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("form",{onSubmit:a(p),children:[(0,Fe.jsx)(YP,{label:"Nombre",register:_e({},i("nombre",{required:!0}))}),o.usuario&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{label:"Apellido",register:_e({},i("apellido",{required:!0}))}),o.usuario&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{type:"email",label:"Email",register:_e({},i("email",{required:!0}))}),o.email&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{type:"password",label:"Contrase\xf1a",register:_e({},i("contrase\xf1a",{required:!0,minLength:6}))}),"required"===(null===(e=o.contrase\u00f1a)||void 0===e?void 0:e.type)&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),"minLength"===(null===(n=o.contrase\u00f1a)||void 0===n?void 0:n.type)&&(0,Fe.jsx)("span",{children:"El campo debe contener al menos 6 caracteres"}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)(gL,{loading:s,type:"submit",children:"Registrarme"})}),(0,Fe.jsx)(TL,{variant:h.variant,text:h.text})]})})})},OL=["bsPrefix","fluid","as","className"],DL=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=Ie(e,OL),s=Ue(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,Fe.jsx)(a,_e(_e({ref:t},u),{},{className:Te()(o,r?"".concat(s).concat(c):s)}))}));DL.displayName="Container",DL.defaultProps={fluid:!1};var PL=DL;var RL=function(){var e=$t((0,t.useState)({variant:"",text:""}),2),n=e[0],r=e[1],i=fe(),a=mL(),o=a.register,u=a.handleSubmit,s=a.formState.errors,c=function(){var e=Po(Lo().mark((function e(t){var n;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jD.db.collection("productos").add(t);case 3:n=e.sent,console.log(n),r({variant:"success",text:"Producto guardado con exito"}),setTimeout((function(){i.push("/")}),1500),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("form",{onSubmit:u(c),children:[(0,Fe.jsx)(YP,{label:"Nombre",register:_e({},o("title",{required:!0}))}),s.title&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{label:"Descripcion",type:"text",register:_e({},o("description",{required:!0}))}),s.description&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{label:"Precio",register:_e({},o("price",{required:!0}))}),s.price&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)(YP,{label:"SKU",type:"text",register:_e({},o("sku",{required:!0}))}),s.sku&&(0,Fe.jsx)("span",{children:"El campo es obligatorio"}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)(yo,{type:"submit",variant:"primary",children:"Guardar"})}),(0,Fe.jsx)(TL,{variant:n.variant,text:n.text})]})})};var LL=function(){var e=fe(),n=mL(),r=n.register,i=n.handleSubmit,a=n.setValue,o=$t((0,t.useState)({variant:"",text:""}),2),u=o[0],s=o[1],c=function(){var t=Po(Lo().mark((function t(n){var r;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jD.db.doc("productos/"+d).set(n);case 3:r=t.sent,console.log(r),s({variant:"success",text:"Producto modificado con exito"}),setTimeout((function(){e.push("/")}),1500),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),l=$t((0,t.useState)(!0),2),f=l[0],h=l[1],d=he().id;(0,t.useEffect)((function(){function e(){return(e=Po(Lo().mark((function e(){var t;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jD.db.doc("productos/"+d).get();case 3:(t=e.sent)&&(h(!1),a("title",t.data().title),a("description",t.data().description),a("price",t.data().price),a("sku",t.data().sku)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,a]);var p=function(){var t=Po(Lo().mark((function t(){var n;return Lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jD.db.doc("productos/"+d).delete();case 3:n=t.sent,console.log(n),s({variant:"success",text:"Producto eliminado con exito"}),setTimeout((function(){e.push("/")}),1500),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,Fe.jsx)(iu,{active:f,children:(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(yo,{variant:"danger",onClick:p,children:"Eliminar"}),(0,Fe.jsx)("h1",{children:"Modificar"}),(0,Fe.jsxs)("form",{onSubmit:i(c),children:[(0,Fe.jsx)(YP,{label:"Nombre",register:_e({},r("title",{required:!0}))}),(0,Fe.jsx)(YP,{label:"Descripcion",type:"text",register:_e({},r("description",{required:!0}))}),(0,Fe.jsx)(YP,{label:"Precio",type:"number",register:_e({},r("price",{required:!0}))}),(0,Fe.jsx)(YP,{label:"SKU",register:_e({},r("sku",{required:!0}))}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)(yo,{type:"submit",variant:"primary",children:"Guardar"})}),(0,Fe.jsx)(TL,{variant:u.variant,text:u.text})]})]})})};var ML=function(){return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{children:"Contacto y ubicacion"}),(0,Fe.jsx)("p",{children:"Nombre: Matias Emmanuel Demarchi"}),(0,Fe.jsx)("p",{children:"Direccion: Formosa 3557"}),(0,Fe.jsx)("p",{children:"Celular: 1134574487"}),(0,Fe.jsx)("p",{children:"Email: mrrh96@gmail.com"}),(0,Fe.jsx)("p",{children:"Instagram: @Dema2096"})]})};var jL=function(){return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(Oo,{}),(0,Fe.jsx)(PL,{children:(0,Fe.jsx)(Ao.Consumer,{children:function(e){return(0,Fe.jsxs)(ce,{children:[e.userLogin&&(0,Fe.jsx)(re,{path:"/producto/modificar/:id",exact:!0,children:(0,Fe.jsx)(LL,{})}),(0,Fe.jsx)(re,{path:"/producto/:id",exact:!0,children:(0,Fe.jsx)(tP,{})}),(0,Fe.jsx)(re,{path:"/contacto",exact:!0,children:(0,Fe.jsx)(ML,{})}),(0,Fe.jsx)(re,{path:"/ingresar",children:(0,Fe.jsx)(CL,{})}),(0,Fe.jsx)(re,{path:"/alta",exact:!0,children:(0,Fe.jsx)(RL,{})}),(0,Fe.jsx)(re,{path:"/registro",children:(0,Fe.jsx)(AL,{})}),(0,Fe.jsx)(Z,{path:"/home",to:"/"}),(0,Fe.jsx)(re,{path:"/",exact:!0,children:(0,Fe.jsx)(ZD,{})}),(0,Fe.jsx)(re,{path:"*",children:(0,Fe.jsx)(NL,{})})]})}})})]})};var FL=function(e){var n=$t((0,t.useState)(localStorage.getItem("login")),2),r=n[0],i=n[1],a=$t((0,t.useState)(JSON.parse(localStorage.getItem("userInfo"))),2),o=a[0],u=a[1];return(0,Fe.jsx)(Ao.Provider,{value:{userLogin:r,loginUser:function(e){localStorage.setItem("login",!0),localStorage.setItem("userInfo",JSON.stringify(e)),i(!0),u(e)},logoutUser:function(){localStorage.removeItem("login"),localStorage.removeItem("userInfo"),i(!1),u(!1)},userInfo:o},children:e.children})};var VL=function(){return(0,Fe.jsx)("div",{children:(0,Fe.jsx)(FL,{children:(0,Fe.jsx)(de,{children:(0,Fe.jsx)(jL,{})})})})};r.render((0,Fe.jsx)(t.StrictMode,{children:(0,Fe.jsx)(VL,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.382d005a.js.map